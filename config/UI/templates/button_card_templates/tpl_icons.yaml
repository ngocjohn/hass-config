#################################################
#                                               #
#                     ICONS                     #
#                                               #
#################################################

icon_playstation:
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M49.5,11.8l-0.2-2.4c-0.5-2.7-2.1-4.9-4.2-6.6c-1.9-1.6-4.1-2.4-6.7-2.4L27.5,0.3L11,0.4c-0.5,0-0.9,0-1.4,0.1 C7.8,0.8,6.2,1.6,4.8,2.7C1.9,5,0.5,7.9,0.4,11.5v26.7c0.1,1.1,0.1,2,0.3,3C1.4,43.8,3,45.8,5,47.4c1.9,1.4,4.1,2.2,6.5,2.2 l13.7,0.1c0,0,13.3-0.1,13.4-0.2c0.7,0,1.3-0.1,1.9-0.2c2.8-0.6,5.1-2.2,6.8-4.4c1.3-1.7,2.1-3.7,2.2-5.9l0.1-6.7L49.5,11.8z M19.2,29.1l-6.2,2.2c-1.1,0.4-1.3,0.9-0.4,1.2c0.9,0.3,2.5,0.2,3.6-0.2l3-1.1v3.1c-0.2,0-0.4,0.1-0.6,0.1c-3,0.5-6.1,0.3-9.2-0.7 c-2.9-0.8-3.4-2.5-2.1-3.5c1.2-0.9,3.3-1.6,3.3-1.6l8.5-3V29.1z M26.3,15.9V38l-6-1.9V9.7c2.5,0.5,6.2,1.6,8.2,2.3 c5,1.7,6.8,3.9,6.8,8.8c0,4.7-2.9,6.5-6.6,4.7v-8.8c0-1-0.2-2-1.2-2.3C26.8,14.1,26.3,14.8,26.3,15.9z M43,31.3 c-0.7,0.9-2.5,1.5-2.5,1.5l-13,4.7v-3.5l9.6-3.4c1.1-0.4,1.3-0.9,0.4-1.2c-0.9-0.3-2.5-0.2-3.6,0.2l-6.4,2.3v-3.6l0.4-0.1 c0,0,1.8-0.7,4.4-0.9c2.6-0.3,5.8,0,8.3,1C43.4,29.1,43.7,30.4,43,31.3z"/>
      </svg>

icon_shower:
  styles:
    custom_fields:
      icon:
        - width: 60%
        - transform: rotateY(3.142rad)
        - filter: >
            [[[
              return variables.state_on
                  ? 'contrast(1)'
                  : 'contrast(0)';
            ]]]
  custom_fields:
    icon: >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
        <path style="fill:#a3dde9" d="M49.282.718V3.91L18.793 4.958l-1.064 8.151c0 .001-3.192 0-3.192 0V4.213A3.506 3.506 0 0 1 18.032.718h31.25z"/>
        <path style="fill:#82c8db" d="M49.282 3.91v1.668H19.397v7.532h-1.668V4.213c0-.158.145-.303.303-.303h31.25z"/>
        <path style="fill:#f77a20" d="m19.948 10.981.774 4.004-3.754 3.192-3.755-3.192.773-4.004Z"/>
        <path style="fill:#d93722" d="m31.445 20.539-4.094 2.128-6.629-7.682c4.457.742 8.273 2.775 10.722 5.554z"/>
        <path style="fill:#ea5a20" d="M28.415 20.539c-1.756-2.78-4.495-4.813-7.693-5.554h-7.51c-4.458.742-8.275 2.775-10.722 5.554l5.157 2.128 20.767-2.128zm3.03 0 .571 4.288h-5.319l1.718-4.288Z"/>
        <path style="fill:#f77a20" d="M28.415 20.539H2.49l-.572 4.288h26.907Z"/>
        <path d="M49.202 4.859h-6.871V1.596h6.871a.798.798 0 1 0 0-1.596h-31.25a4.298 4.298 0 0 0-4.293 4.292v6.011a.798.798 0 0 0-.536.607l-.67 3.466c-4.353.832-8.117 2.85-10.642 5.717l-.005.007a.8.8 0 0 0-.063.084.075.075 0 0 0-.007.012.812.812 0 0 0-.046.084l-.007.015a.853.853 0 0 0-.037.1l-.004.015a.792.792 0 0 0-.019.091l-.003.014-.479 3.595H.798a.798.798 0 0 0-.798.796.798.798 0 0 0 .798.798h32.179a.798.798 0 0 0 .798-.798.798.798 0 0 0-.798-.798h-.342l-.479-3.595-.003-.014a.8.8 0 0 0-.019-.091l-.004-.015a.793.793 0 0 0-.037-.1l-.007-.015a.804.804 0 0 0-.046-.084l-.008-.012a.802.802 0 0 0-.063-.084l-.005-.007c-2.525-2.867-6.288-4.885-10.642-5.717l-.67-3.466a.797.797 0 0 0-.537-.607V6.455h20.62v29.711a2.067 2.067 0 0 0-.691.736l-6.073 10.519c-.356.616-.39 1.262-.095 1.774.295.512.872.805 1.584.805h12.147c.711 0 1.288-.293 1.584-.805.295-.512.261-1.158-.095-1.774l-6.073-10.519a2.059 2.059 0 0 0-.691-.736V6.455h6.871a.798.798 0 0 0 .798-.798.797.797 0 0 0-.798-.798zm-1.489 43.36a.69.69 0 0 1 .072.165.71.71 0 0 1-.179.02H35.46a.697.697 0 0 1-.179-.02.69.69 0 0 1 .072-.165L41.426 37.7a.672.672 0 0 1 .107-.145.699.699 0 0 1 .107.145l6.073 10.519zM20.511 15.851c3.497.582 6.594 1.971 8.912 3.97H11.985a.798.798 0 1 0 0 1.596h18.681l.359 2.691H2.75l.359-2.691h5.684a.798.798 0 1 0 0-1.596H4.352c2.304-1.987 5.379-3.371 8.85-3.959h4.249a.798.798 0 0 0 .798-.798.798.798 0 0 0-.798-.798H14.1l.466-2.408h4.645l.649 3.357a.798.798 0 0 0 .653.636zM19.317 4.859a.798.798 0 0 0-.798.798v4.606h-3.264V4.292a2.7 2.7 0 0 1 2.697-2.697h22.783v3.263H19.317z"/>
        <path style="fill:#82c8db" d="M6.249 31.778a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0 18.222a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798V41a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm4.255-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0 18.222a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798V41a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm4.256-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0 18.222a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798V41a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm4.255-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0 18.222a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798V41a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm4.255-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0 18.222a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798V41a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 1 1 1.596 0v2.128a.798.798 0 0 1-.798.798zm4.256-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 0 1 .798-.798.798.798 0 0 1 .798.798v2.128a.798.798 0 0 1-.798.798zm0 18.222a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 0 1 .798-.798.798.798 0 0 1 .798.798v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798V41a.798.798 0 0 1 .798-.798.798.798 0 0 1 .798.798v2.128a.798.798 0 0 1-.798.798zm0-6.074a.798.798 0 0 1-.798-.798v-2.128a.798.798 0 0 1 .798-.798.798.798 0 0 1 .798.798v2.128a.798.798 0 0 1-.798.798z"/>
      </svg>

icon_bedroom:
  styles:
    custom_fields:
      icon:
        - margin-top: -15%
        - fill: >
            [[[
              return variables.state_on
                  ? 'var(--state-icon-active-color)'
                  : 'var(--state-icon-color)';
            ]]]
  custom_fields:
    icon: >
      <svg viewBox="0 0 42.4 42.3">
        <path d="M35.8 21.1H6.7c-3.2 0-5.8 2.6-5.8 5.8v2.9c0 .8.7 1.5 1.5 1.5h1.5v1.5c0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9v-1.5H33v1.5c0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9v-1.5h1.5c.8 0 1.5-.7 1.5-1.5V27c-.2-3.3-2.8-5.9-6-5.9M11 12.4h7.3c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5H11c-.8 0-1.5-.7-1.5-1.5.1-.8.7-1.5 1.5-1.5m13.1 0h7.3c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5h-7.3c-.8 0-1.5-.7-1.5-1.5.1-.8.7-1.5 1.5-1.5m-16 5.8h26.2c.8 0 1.5-.7 1.5-1.5V9.5c0-1.6-1.3-2.9-2.9-2.9H9.6C8 6.6 6.7 7.9 6.7 9.5v7.3c0 .8.6 1.4 1.4 1.4"/>
      </svg>

icon_office:
  styles:
    custom_fields:
      icon:
        - width: 90%
        - margin-top: -10%
        - margin-left: -10%
        - filter: >
            [[[
              return variables.state_on ? 'drop-shadow(2px 3px 6px grey) contrast(1.1)' : null;
            ]]]
  custom_fields:
    icon: >
      [[[
        return variables.state_on || states['switch.macbook'].state == 'on'
        ? `<svg data-name="Layer 3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 41.91 41.91"><defs><linearGradient id="b" x1="29.6" y1="45.46" x2="29.6" y2="6.68" gradientTransform="matrix(1 0 0 -1 0 44.53)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ffb900"/><stop offset=".17" stop-color="#ef8400"/><stop offset=".31" stop-color="#e25c01"/><stop offset=".43" stop-color="#db4401"/><stop offset=".5" stop-color="#d83b01"/></linearGradient><linearGradient id="c" x1="22.61" y1="44.09" x2="2.07" y2="14.77" gradientTransform="matrix(1 0 0 -1 0 44.53)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#800600"/><stop offset=".6" stop-color="#c72127"/><stop offset=".73" stop-color="#c13959"/><stop offset=".85" stop-color="#bc4b81"/><stop offset=".94" stop-color="#b95799"/><stop offset="1" stop-color="#b85ba2"/></linearGradient><linearGradient id="d" x1="12.12" y1="8.1" x2="38.93" y2="8.1" gradientTransform="matrix(1 0 0 -1 0 44.53)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#f32b44"/><stop offset=".6" stop-color="#a4070a"/></linearGradient><linearGradient id="a" x1="23.03" y1="44.69" x2="18.68" y2="38.48" gradientTransform="matrix(1 0 0 -1 0 44.53)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-opacity=".4"/><stop offset="1" stop-opacity="0"/></linearGradient><linearGradient id="e" x1="30.33" y1="7.5" x2="18.33" y2="8.55" xlink:href="#a"/></defs><g data-name="Icons - Color"><g data-name="Desktop - Full Bleed"><g style="opacity:.2"><path d="M13.05 32.09c-1.16.01-2.1.97-2.09 2.13 0 .74.4 1.42 1.04 1.8l7.44 4.22a4.053 4.053 0 0 0 3.13.37l11.19-3.19c1.71-.49 2.9-2.06 2.9-3.84V32.1H13.05Z" style="fill:#fff"/></g><g style="opacity:.12"><path d="M13.05 32.09c-1.16.01-2.1.97-2.09 2.13 0 .74.4 1.42 1.04 1.8l7.44 4.22a4.053 4.053 0 0 0 3.13.37l11.19-3.19c1.71-.49 2.9-2.06 2.9-3.84V32.1H13.05Z" style="fill:#fff"/></g><path d="m22.53 1.31 3.01 6.88v23.9l-2.96 8.51 11.19-3.19c1.71-.49 2.9-2.06 2.9-3.84V8.34c0-1.79-1.19-3.36-2.91-3.85L22.53 1.31Z" style="fill:url(#b)"/><path d="m8.34 31.83 3.27-1.77c.91-.5 1.48-1.46 1.48-2.51V14.69c0-1.2.75-2.27 1.88-2.68l10.56-3.82v-2.9c0-1.85-1.23-3.47-3.01-3.98-.37-.11-.75-.16-1.13-.16-.72 0-1.43.19-2.06.54L7.26 8.59a3.996 3.996 0 0 0-2.02 3.47v17.92c0 1.16.94 2.1 2.1 2.11.35 0 .7-.09 1.01-.25Z" style="fill:url(#c)"/><path d="M25.54 32.09H13.05c-1.16.01-2.1.97-2.09 2.13 0 .74.4 1.42 1.04 1.8l7.44 4.22a4.053 4.053 0 0 0 3.13.37c1.76-.5 2.96-2.1 2.96-3.93V32.1Z" style="fill:url(#d)"/><path d="m8.34 31.83 3.27-1.77c.91-.5 1.48-1.46 1.48-2.51V14.69c0-1.2.75-2.27 1.88-2.68l10.56-3.82v-2.9c0-1.85-1.23-3.47-3.01-3.98-.37-.11-.75-.16-1.13-.16-.72 0-1.43.19-2.06.54L7.26 8.59a3.996 3.996 0 0 0-2.02 3.47v17.92c0 1.16.94 2.1 2.1 2.11.35 0 .7-.09 1.01-.25Z" style="fill:url(#a)"/><path d="M25.54 32.09H13.05c-1.16.01-2.1.97-2.09 2.13 0 .74.4 1.42 1.04 1.8l7.44 4.22a4.053 4.053 0 0 0 3.13.37c1.76-.5 2.96-2.1 2.96-3.93V32.1Z" style="fill:url(#e)"/><path style="fill:none" d="M0 0h41.91v41.91H0z"/></g></g></svg>`
        : `<?xml version="1.0" encoding="UTF-8"?><svg id="a" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 41.91 41.91"><defs><linearGradient id="d" x1="29.6" y1="414.54" x2="29.6" y2="453.32" gradientTransform="translate(0 -415.47)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#d5d5d5"/><stop offset=".17" stop-color="#bfbfbf"/><stop offset=".31" stop-color="#aeaeae"/><stop offset=".43" stop-color="#a5a5a5"/><stop offset=".5" stop-color="#a0a0a0"/></linearGradient><linearGradient id="e" x1="22.61" y1="415.91" x2="2.07" y2="445.23" gradientTransform="translate(0 -415.47)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#7d7d7d"/><stop offset=".6" stop-color="#979797"/><stop offset=".73" stop-color="#a2a2a2"/><stop offset=".85" stop-color="#aaa"/><stop offset=".94" stop-color="#b0b0b0"/><stop offset="1" stop-color="#b2b2b2"/></linearGradient><linearGradient id="f" x1="12.12" y1="451.9" x2="38.93" y2="451.9" gradientTransform="translate(0 -415.47)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#a5a5a5"/><stop offset=".6" stop-color="#858585"/></linearGradient><linearGradient id="g" x1="23.03" y1="415.31" x2="18.68" y2="421.52" gradientTransform="translate(0 -415.47)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#646464" stop-opacity=".4"/><stop offset="1" stop-color="#646464" stop-opacity="0"/></linearGradient><linearGradient id="h" x1="30.33" y1="452.51" x2="18.33" y2="451.46" gradientTransform="translate(0 -415.47)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#646464" stop-opacity=".4"/><stop offset="1" stop-color="#646464" stop-opacity="0"/></linearGradient></defs><g id="b"><g id="c"><g style="opacity:.2;"><path d="M13.05,32.09c-1.16,0-2.1,.97-2.09,2.13,0,.74,.4,1.42,1.04,1.8l7.44,4.22c.61,.35,1.31,.53,2.01,.53,.38,0,.76-.06,1.12-.16l11.19-3.19c1.71-.49,2.9-2.06,2.9-3.84v-1.48H13.05Z" style="fill:#fff;"/></g><g style="opacity:.12;"><path d="M13.05,32.09c-1.16,0-2.1,.97-2.09,2.13,0,.74,.4,1.42,1.04,1.8l7.44,4.22c.61,.35,1.31,.53,2.01,.53,.38,0,.76-.06,1.12-.16l11.19-3.19c1.71-.49,2.9-2.06,2.9-3.84v-1.48H13.05Z" style="fill:#fff;"/></g><path d="M22.53,1.31l3.01,6.88v23.9l-2.96,8.51,11.19-3.19c1.71-.49,2.9-2.06,2.9-3.84V8.34c0-1.79-1.19-3.36-2.91-3.85L22.53,1.31Z" style="fill:url(#d);"/><path d="M8.34,31.83l3.27-1.77c.91-.5,1.48-1.46,1.48-2.51V14.69c0-1.2,.75-2.27,1.88-2.68l10.56-3.82v-2.9c0-1.85-1.23-3.47-3.01-3.98-.37-.11-.75-.16-1.13-.16h0c-.72,0-1.43,.19-2.06,.54L7.26,8.59c-1.25,.71-2.02,2.04-2.02,3.47V29.98c0,1.16,.94,2.1,2.1,2.11,.35,0,.7-.09,1.01-.25h-.01Z" style="fill:url(#e);"/><path d="M25.54,32.09H13.05c-1.16,0-2.1,.97-2.09,2.13,0,.74,.4,1.42,1.04,1.8l7.44,4.22c.61,.35,1.31,.53,2.01,.53h0c.38,0,.76-.06,1.12-.16,1.76-.5,2.96-2.1,2.96-3.93v-4.58h0Z" style="fill:url(#f);"/><path d="M8.34,31.83l3.27-1.77c.91-.5,1.48-1.46,1.48-2.51V14.69c0-1.2,.75-2.27,1.88-2.68l10.56-3.82v-2.9c0-1.85-1.23-3.47-3.01-3.98-.37-.11-.75-.16-1.13-.16h0c-.72,0-1.43,.19-2.06,.54L7.26,8.59c-1.25,.71-2.02,2.04-2.02,3.47V29.98c0,1.16,.94,2.1,2.1,2.11,.35,0,.7-.09,1.01-.25h-.01Z" style="fill:url(#g);"/><path d="M25.54,32.09H13.05c-1.16,0-2.1,.97-2.09,2.13,0,.74,.4,1.42,1.04,1.8l7.44,4.22c.61,.35,1.31,.53,2.01,.53h0c.38,0,.76-.06,1.12-.16,1.76-.5,2.96-2.1,2.96-3.93v-4.58h0Z" style="fill:url(#h);"/><rect width="41.91" height="41.91" style="fill:none;"/></g></g></svg>`;
      ]]]

icon_purifier:
  styles:
    custom_fields:
      icon:
        - width: 85%
        - margin-top: -5%
  custom_fields:
    icon: >
      [[[
        let state = variables.state_on ? 'on' : null;
        return `
            <svg viewBox="0 0 50 50">
              <style>
                .on {
                  animation-name: on;
                  animation-duration: 5s;
                  animation-iteration-count: infinite;
                  animation-timing-function: ease-in-out;

                }

                @keyframes on {

                  0%,
                  100% {
                    transform: translateY(-8%);
                    opacity: 0.3;
                  }
                  50% {
                    transform: translateZ(-5%);
                    opacity: 0.2;
                  }
                  30%, 70% {
                    transform: translateY(0);
                    opacity: 1;
                  }
                }
              </style>
              <path fill="var(--state-icon-color)"
                d="M5.64 35.38h15.34c3.55 0 5.64-2.1 5.64-5.64V5.64c0-3.55-2.1-5.64-5.64-5.64H5.64C2.1 0 0 2.1 0 5.64v24.1c0 3.55 2.1 5.64 5.64 5.64Zm2.77-25.14c-1.37 0-2.46-1.12-2.46-2.48S7.04 5.3 8.41 5.3s2.46 1.12 2.46 2.46-1.1 2.48-2.46 2.48ZM7.29 30.08c-.76 0-1.34-.61-1.34-1.36s.58-1.37 1.34-1.37h3.53c.76 0 1.36.62 1.36 1.37s-.6 1.36-1.36 1.36H7.29Zm8.52 0c-.76 0-1.36-.61-1.36-1.36s.6-1.37 1.36-1.37h3.53c.76 0 1.34.62 1.34 1.37s-.58 1.36-1.34 1.36h-3.53Zm-8.52-7.43c-.76 0-1.34-.61-1.34-1.36s.58-1.37 1.34-1.37h3.53c.76 0 1.36.61 1.36 1.37s-.6 1.36-1.36 1.36H7.29Zm8.52 0c-.76 0-1.36-.61-1.36-1.36s.6-1.37 1.36-1.37h3.53c.76 0 1.34.61 1.34 1.37s-.58 1.36-1.34 1.36h-3.53Zm-8.52 3.71c-.76 0-1.34-.6-1.34-1.36s.58-1.36 1.34-1.36h3.53c.76 0 1.36.6 1.36 1.36s-.6 1.36-1.36 1.36H7.29Zm8.52 0c-.76 0-1.36-.6-1.36-1.36s.6-1.36 1.36-1.36h3.53c.76 0 1.34.6 1.34 1.36s-.58 1.36-1.34 1.36h-3.53Zm6.17 12.61c1.21 0 2.08-.87 2.08-2.08v-3.74H19.9v3.74c0 1.21.87 2.08 2.08 2.08Zm-17.33 0c1.21 0 2.08-.87 2.08-2.08v-3.74H2.57v3.74c0 1.21.87 2.08 2.08 2.08Z"
                opacity="1" />
              <path class="${state} light-color"
                d="M18.43 13.58c-1.05 0-2.04-.27-2.95-.8-.67-.38-.89-1.16-.45-1.77.33-.52.94-.6 1.54-.36.67.27 1.19.51 1.86.51 2.91 0 4.65-3.18 8.36-3.18 1.05 0 2.04.27 2.97.8.67.4.89 1.18.45 1.79-.36.51-.98.58-1.54.34-.69-.29-1.21-.45-1.88-.45-2.89 0-4.65 3.13-8.36 3.13Zm0-3.67a5.91 5.91 0 0 1-2.97-.8c-.65-.4-.87-1.16-.43-1.77.33-.52.94-.6 1.54-.36.67.27 1.19.49 1.86.49 2.91 0 4.65-3.17 8.36-3.17 1.05 0 2.04.27 2.97.8.67.4.89 1.18.45 1.79-.36.51-.98.58-1.54.34-.69-.29-1.21-.45-1.88-.45-2.89 0-4.65 3.13-8.36 3.13Zm0 7.34c-1.05 0-2.04-.27-2.95-.8-.67-.38-.89-1.16-.45-1.77.33-.52.96-.6 1.54-.36.67.27 1.19.51 1.86.51 2.91 0 4.65-3.18 8.36-3.18 1.05 0 2.04.27 2.97.8.67.4.89 1.18.45 1.79-.36.51-.98.58-1.54.34-.69-.29-1.21-.43-1.88-.43-2.89 0-4.65 3.11-8.36 3.11Z" />
            </svg>
          `;
        ]]]

icon_airpurifier:
  styles:
    custom_fields:
      icon:
        - width: 100%
  custom_fields:
    icon: >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38.35 47.22">
        <path d="M6.81 6.82c1.18.67 3.65 1.01 7.39 1.04 2.24.01 7.73-2.15 11.31-2.75 1.61-.27 3.84-.02 6.7.76" style="fill:#010101;stroke:#65c6f1;stroke-linecap:square;stroke-width:10px"/>
        <path d="M6.81 13.86c1.18.67 3.65 1.01 7.39 1.04 2.24.01 7.73-2.15 11.31-2.75 1.61-.27 3.84-.02 6.7.76" style="fill:#010101;stroke:#94daf8;stroke-linecap:square;stroke-width:10px"/>
        <path d="M6.81 20.9c1.18.67 3.65 1.01 7.39 1.04 2.24.01 7.73-2.15 11.31-2.75 1.61-.27 3.84-.02 6.7.76" style="fill:#010101;stroke:#c9eafb;stroke-linecap:square;stroke-width:10px"/>
        <path style="fill:#c7c5cb" d="M11.87 27.52h15.48l1.15.73.84 1.66 3.04 8.56v7.58l-.48.64-.71.53H8.34l-.69-.36-.51-.81v-7.58l2.88-8.56 1.01-1.66.84-.73z"/>
        <path style="fill:#464646" d="M20.3 29.63h4.98v1.47H20.3zm0 2.93h5.86v1.47H20.3zm0 2.64h6.45v1.47H20.3zm-7.62 0h6.45v1.47h-6.45zm.59-2.64h5.86v1.47h-5.86zm.87-2.93h4.98v1.47h-4.98z"/>
      </svg>

icon_ledstrip:
  styles:
    custom_fields:
      icon:
        - width: 80%
  custom_fields:
    icon: >
      <svg viewBox="0 0 32 32">
        <path class="light-color" d="M8.4395,16.668 C8.9795,16.552 9.5115,16.895 9.6285,17.435 C9.7455,17.974 9.4025,18.506 8.8625,18.623 C8.3225,18.74 7.7905,18.397 7.6735,17.857 C7.5565,17.317 7.9005,16.785 8.4395,16.668 M13.3275,15.611 C13.8665,15.495 14.3985,15.838 14.5155,16.377 C14.6325,16.917 14.2895,17.449 13.7505,17.566 C13.2105,17.683 12.6775,17.34 12.5605,16.8 C12.4445,16.261 12.7875,15.729 13.3275,15.611 M18.2135,14.555 C18.7535,14.438 19.2865,14.781 19.4025,15.32 C19.5195,15.86 19.1765,16.393 18.6365,16.51 C18.0965,16.626 17.5645,16.283 17.4485,15.743 C17.3315,15.203 17.6735,14.671 18.2135,14.555 M23.1005,13.498 C23.6405,13.381 24.1725,13.724 24.2905,14.264 C24.4065,14.804 24.0635,15.336 23.5235,15.453 C22.9835,15.569 22.4515,15.227 22.3355,14.687 C22.2175,14.147 22.5615,13.614 23.1005,13.498 M10.6695,20.639 L25.4735,17.444 C26.5535,17.211 27.2405,16.147 27.0065,15.067 C26.4495,12.484 23.9035,10.842 21.3205,11.399 L6.5165,14.594 C5.4365,14.827 4.7505,15.891 4.9835,16.971 C5.5415,19.554 8.0865,21.196 10.6695,20.639 M25,26 C24.447,26 24,25.553 24,25 C24,24.447 24.447,24 25,24 C25.553,24 26,24.447 26,25 C26,25.553 25.553,26 25,26 M20,26 C19.447,26 19,25.553 19,25 C19,24.447 19.447,24 20,24 C20.553,24 21,24.447 21,25 C21,25.553 20.553,26 20,26 M15,26 C14.447,26 14,25.553 14,25 C14,24.447 14.447,24 15,24 C15.553,24 16,24.447 16,25 C16,25.553 15.553,26 15,26 M10,26 C9.447,26 9,25.553 9,25 C9,24.447 9.447,24 10,24 C10.553,24 11,24.447 11,25 C11,25.553 10.553,26 10,26 M27,22 L9,22 C5,22 4,19 4,18 L4,23 C4,25.762 6.238,28 9,28 L27,28 C27.553,28 28,27.553 28,27 L28,23 C28,22.447 27.553,22 27,22 M22,8 C21.447,8 21,7.553 21,7 C21,6.447 21.447,6 22,6 C22.553,6 23,6.447 23,7 C23,7.553 22.553,8 22,8 M17,8 C16.447,8 16,7.553 16,7 C16,6.447 16.447,6 17,6 C17.553,6 18,6.447 18,7 C18,7.553 17.553,8 17,8 M12,8 C11.447,8 11,7.553 11,7 C11,6.447 11.447,6 12,6 C12.553,6 13,6.447 13,7 C13,7.553 12.553,8 12,8 M7,8 C6.447,8 6,7.553 6,7 C6,6.447 6.447,6 7,6 C7.553,6 8,6.447 8,7 C8,7.553 7.553,8 7,8 M23,4 L5,4 C4.447,4 4,4.447 4,5 L4,9 C4,9.553 4.447,10 5,10 L23,10 C27,10 28,13 28,14 L28,9 C28,6.238 25.762,4 23,4"/>
      </svg>

icon_ensis:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - fill: >
            [[[
              return variables.state_on
                  ? 'var(--state-light-active-color)'
                  : 'var(--state-icon-color)';
            ]]]
  custom_fields:
    icon: >
      <svg viewBox="0 0 24.0 24.0">
        <path  d="M22.4,16.2l-6.1-2.5V9.1c0.2,0,0.4,0,0.7,0c0.5,0,1-0.1,1.3-0.2C18.9,8.6,19,8.2,19,8V5.4c0-0.2-0.1-0.6-0.8-0.9l-10-4.1 c-0.4-0.2-1-0.2-1.6-0.2c-0.3,0-0.7,0-1.1,0.2C5,0.6,4.9,1,4.8,1.2v2.6C4.8,4,5,4.4,5.5,4.6l2,0.9v4.7L6,9.5 C5.4,9.2,4.3,9.1,3.4,9.1c-0.5,0-1.2,0-1.8,0.3c-1,0.4-1.2,1-1.3,1.4v4.3c0,0.3,0.2,0.9,1.1,1.3l16.7,7c0.6,0.3,1.4,0.4,2.2,0.4 s1.6-0.1,2.2-0.4c1-0.4,1.2-1.1,1.2-1.4v-4.3C23.7,17.3,23.5,16.7,22.4,16.2z M8.6,5.9l6.8,2.8v4.6l-6.8-2.8V5.9z M22.2,18.3 c-1.6,0.8-3.2,0.2-4.2-0.2c-0.9-0.3-16.3-6.8-16.3-6.8s-1.4-0.6,0.1-1.1c1.8-0.7,3.3-0.1,4.9,0.6c0.1,0,0.4,0.2,0.9,0.3v1.1 c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5v-0.6c1.7,0.7,4.3,1.8,6.8,2.8v1.2c0,0.3,0.2,0.5,0.5,0.5s0.5-0.2,0.5-0.5v-0.8 c2.9,1.2,5.4,2.2,5.4,2.2S23.8,17.6,22.2,18.3z;"/>
      </svg>

icon_living_sofa:
  styles:
    custom_fields:
      icon:
        - margin-top: -15%
        - fill: >
            [[[
              return variables.state_on
                  ? 'var(--state-icon-active-color)'
                  : 'var(--state-icon-color)';
            ]]]
  custom_fields:
    icon: >
      <svg viewBox="0 0 24 24">
        <path d="M21,9.75c0.83,0,1.5,0.67,1.5,1.5v4.55c0,0.39-0.31,0.7-0.7,0.7H21v0.75c0,0.83-0.67,1.5-1.5,1.5 s-1.5-0.67-1.5-1.5V16.5H6v0.75c0,0.83-0.67,1.5-1.5,1.5S3,18.08,3,17.25V16.5H2.2c-0.39,0-0.7-0.31-0.7-0.7v-4.55 c0-0.83,0.67-1.5,1.5-1.5s1.5,0.67,1.5,1.5v1.5h15v-1.5C19.5,10.42,20.17,9.75,21,9.75z M6,11.25c0-1.66-1.34-3-3-3v-1.5 c0-0.83,0.67-1.5,1.5-1.5h15c0.83,0,1.5,0.67,1.5,1.5v1.5c-1.66,0-3,1.34-3,3H6z"/>
      </svg>

icon_noodles:
  styles:
    custom_fields:
      icon:
        - width: >
            [[[
              return variables.state == 'on'
                  ? '90%'
                  : '80%';
            ]]]
        - margin-top: -15%
        - filter: >
            [[[
              return variables.state_on
                  ? 'drop-shadow(2px 3px 6px grey)'
                  : 'grayscale(1) contrast(1.3) opacity(0.8)';
            ]]]
  custom_fields:
    icon: >
      [[[
        let state = variables.state_on ? 'on' : null;
        let style = `
          <style id="style2">
            @keyframes on {

              0%,
              to {
                opacity: 1;
                filter: blur(13px)
              }

              15% {
                opacity: 1;
                filter: blur(8px)
              }

              30%,
              80% {
                opacity: .8;
                filter: blur(10px)
              }

              45% {
                opacity: .5;
                filter: blur(6px)
              }

              60% {
                opacity: 1;
                filter: blur(15px)
              }
            }
            @keyframes shake {
              0%,
              100% {
                        transform: translateX(0%);
                        transform-origin: 50% 50%;
              }
              15% {
                        transform: translateX(-30px) rotate(-6deg);
              }
              30% {
                        transform: translateX(15px) rotate(6deg);
              }
              45% {
                        transform: translateX(-15px) rotate(-3.6deg);
              }
              60% {
                        transform: translateX(9px) rotate(2.4deg);
              }
              75% {
                        transform: translateX(-6px) rotate(-1.2deg);
              }
            }
            .shake {
                animation: shake 0.8s cubic-bezier(0.5, 1, 0.89, 1);
                animation-fill-mode: both;
                animation-delay: 0s;
              }
            .on {
              animation: on 5s ease-in-out infinite;
              animation-fill-mode: both;
              animation-delay: 0s;
            }
          </style>`,
          background = `
          <ellipse style="opacity:.05; stroke-width:0" id="path930" cx="256.565" cy="257.145" rx="251.173" ry="253.101" />
          <path style="fill:#803030;stroke-width:.926552"
            d="M208.969 278.233a7.896 8.395 0 0 0 2.99-.626c4.06-1.758 6.012-6.678 4.354-10.995l-87.26-227.7c-1.65-4.316-6.298-6.383-10.334-4.629-4.06 1.76-6.012 6.68-4.354 10.995l87.26 227.7a7.931 8.432 0 0 0 7.344 5.255z"
            id="path4" />
          `,
          path = `
            <ellipse style="fill:#ffdc78;stroke-width:.926552" cx="-193.104" cy="286.661" id="circle6" rx="55.529" ry="59.033"
              transform="scale(-1 1)" />
            <ellipse style="fill:#ffcf65;stroke-width:.926552" cx="-193.104" cy="286.661" id="circle8" rx="39.664" ry="42.167"
              transform="scale(-1 1)" />
            <ellipse style="fill:#ffdc78;stroke-width:.926552" cx="-320.028" cy="286.661" id="circle10" rx="87.26" ry="92.766"
              transform="scale(-1 1)" />
            <ellipse style="fill:#ffcf65;stroke-width:.926552" cx="-320.028" cy="286.661" id="circle12" rx="71.394" ry="75.9"
              transform="scale(-1 1)" />
            <ellipse style="fill:#ffdc78;stroke-width:.926552" cx="-320.028" cy="286.661" id="circle14" rx="55.529" ry="59.033"
              transform="scale(-1 1)" />
            <ellipse style="fill:#ffcf65;stroke-width:.926552" cx="-320.028" cy="286.661" id="circle16" rx="39.664" ry="42.167"
              transform="scale(-1 1)" />
            <ellipse style="fill:#ffdc78;stroke-width:.926552" cx="-320.028" cy="286.661" id="circle18" rx="23.798" ry="25.3"
              transform="scale(-1 1)" />
            <ellipse style="fill:#ffdc78;stroke-width:.926552" cx="-193.104" cy="286.661" id="circle20" rx="23.798" ry="25.3"
              transform="scale(-1 1)" />
            <path style="fill:#aa4141;stroke-width:.926552"
              d="M34.45 286.663c24.943 112.7 94.004 168.075 122.408 186.61a45.113 45.113 0 0 0 24.73 7.358h149.955a45.1 45.1 0 0 0 24.73-7.359c28.404-18.534 97.466-73.91 122.41-186.609"
              id="path22" />
            <path style="fill:#803030;stroke-width:.926552"
              d="M185.18 295.097a7.875 8.372 0 0 0 5.112-1.998c3.346-3.006 3.765-8.33.937-11.883L56.372 111.803c-2.835-3.549-7.831-4.003-11.178-.988-3.346 3.006-3.765 8.33-.937 11.883L179.114 292.11a7.92 8.42 0 0 0 6.065 2.987z"
              id="path28" />
            <path style="fill:#963737;stroke-width:.926552"
              d="M34.45 286.663h444.232c-24.943 112.7-94.005 168.075-122.409 186.61a45.114 45.114 0 0 1-24.73 7.358h-84.59c3.706 0 7.358-1.458 10.573-4.347 14.865-13.36 57.75-58.892 79.506-153.933 1.208-5.278-2.635-10.387-7.743-10.387H41.142c-2.45-8.126-4.743-16.485-6.693-25.301z"
              id="path30" />
            <path style="fill:#aa4141;stroke-width:.926552"
              d="M34.45 295.097h444.232c4.385 0 7.933-3.777 7.933-8.434 0-4.657-3.547-8.434-7.933-8.434H34.448c-4.384 0-7.933 3.777-7.933 8.434 0 4.657 3.549 8.434 7.934 8.434z"
              id="path32" />
          `;
        if (variables.state == 'cooking')
          return `
            <?xml version="1.0" encoding="UTF-8"?><svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41.41 48.36"><path d="M23.83,7.79V3.13c0-1.73-1.4-3.13-3.13-3.13s-3.13,1.4-3.13,3.13V7.79h6.25Z" style="fill:#088690;"/><path d="M20.71,0c-1.73,0-3.13,1.4-3.13,3.13V7.79h3.13V0Z" style="fill:#0baebc;"/><path d="M37.66,14.17H3.75c-2.07,0-3.75,1.68-3.75,3.75s1.68,3.75,3.75,3.75H37.66c2.07,0,3.75-1.68,3.75-3.75s-1.68-3.75-3.75-3.75Zm0,4.52H3.75c-.42,0-.77-.34-.77-.77s.34-.77,.77-.77H37.66c.42,0,.77,.34,.77,.77s-.34,.77-.77,.77Z" style="fill:#088690;"/><path d="M29.35,4.9H12.07c-4.06,0-7.35,3.29-7.35,7.35v21.92c0,2.63,2.14,4.77,4.77,4.77H31.93c2.63,0,4.77-2.14,4.77-4.77V12.25c0-4.06-3.29-7.35-7.35-7.35Z" style="fill:#b5cddf;"/><g><path d="M8.25,48.36c-1.51,0-2.73-1.22-2.73-2.73,0-2.39,2.36-3.9,2.47-3.96l.26-.17,.26,.17c.1,.06,2.47,1.57,2.47,3.96,0,1.51-1.22,2.73-2.73,2.73Z" style="fill:#ff9845;"/><path d="M16.55,48.36c-1.51,0-2.73-1.22-2.73-2.73,0-2.39,2.36-3.9,2.47-3.96l.26-.17,.26,.17c.1,.06,2.47,1.57,2.47,3.96,0,1.51-1.22,2.73-2.73,2.73Z" style="fill:#ff9845;"/></g><g><path d="M24.86,48.36c-1.51,0-2.73-1.22-2.73-2.73,0-2.39,2.36-3.9,2.47-3.96l.26-.17,.26,.17c.1,.06,2.47,1.57,2.47,3.96,0,1.51-1.22,2.73-2.73,2.73Z" style="fill:#fb7100;"/><path d="M33.17,48.36c-1.51,0-2.73-1.22-2.73-2.73,0-2.39,2.36-3.9,2.47-3.96l.26-.17,.26,.17c.1,.06,2.47,1.57,2.47,3.96,0,1.51-1.22,2.73-2.73,2.73Z" style="fill:#fb7100;"/></g><path d="M20.71,4.9H12.07c-4.06,0-7.35,3.29-7.35,7.35v21.92c0,2.63,2.14,4.77,4.77,4.77h11.22V4.9Z" style="fill:#c9e5f9;"/><path d="M36.7,12.25c0-.36-.03-.72-.08-1.07H4.8c-.05,.35-.08,.71-.08,1.07v1.92h31.98v-1.92h0Z" style="fill:#088690;"/><path d="M20.71,11.18H4.8c-.05,.35-.08,.71-.08,1.07v1.92h15.99v-2.98h0Z" style="fill:#0baebc;"/></svg>
        `;
        else return `
          <svg viewBox="0 0 512 512" xml:space="preserve" version="1.1" id="svg34" xmlns="http://www.w3.org/2000/svg">
          ${style}
          ${background}
          <g class="shake">
          ${path}
            <g class="${state}" id="g26" transform="matrix(-1.03015 0 0 1.2085 517.557 -5.205)">
              <path style="fill:#ededee"
                d="M264.828 189.794a8.826 8.826 0 0 1-8.828-8.828c0-7.927-2.741-11.353-6.888-16.534-4.802-5.992-10.767-13.444-10.767-27.569 0-14.134 5.965-21.594 10.759-27.586 4.156-5.19 6.897-8.617 6.897-16.556 0-7.948-2.897-11.564-6.897-16.574-4.793-5.999-10.759-13.461-10.759-27.599a8.826 8.826 0 0 1 8.828-8.828 8.826 8.826 0 0 1 8.828 8.828c0 7.948 2.897 11.564 6.897 16.574 4.793 6.001 10.759 13.461 10.759 27.599 0 14.13-5.965 21.59-10.759 27.582-4.156 5.19-6.897 8.621-6.897 16.561 0 7.927 2.741 11.353 6.888 16.534 4.802 5.992 10.767 13.444 10.767 27.569a8.827 8.827 0 0 1-8.828 8.827zm18.749-44.129a8.753 8.753 0 0 1-5.5-1.931c-3.81-3.043-4.431-8.599-1.388-12.405 5.465-6.84 14.621-18.293 14.621-38.607 0-8.401-1.517-15.935-4.647-23.03-1.965-4.461.061-9.673 4.518-11.638 4.483-1.965 9.681.07 11.638 4.518 4.077 9.259 6.146 19.401 6.146 30.151 0 26.505-12.483 42.125-18.483 49.63a8.812 8.812 0 0 1-6.905 3.312zm-66.387 26.418a8.832 8.832 0 0 1-8.095-5.289c-4.018-9.181-6.06-19.25-6.06-29.931 0-25.771 11.794-41.241 17.974-48.983a8.83 8.83 0 0 1 2.517-2.543 8.818 8.818 0 0 1 12.242 2.449c1.974 2.966 1.983 6.883.009 9.849-5.922 7.457-15.086 18.901-15.086 39.229 0 8.228 1.543 15.914 4.577 22.845 1.956 4.466-.077 9.673-4.543 11.629a8.818 8.818 0 0 1-3.535.745z"
                id="path24" />
            </g>
          </g>
          </svg>`;
      ]]]

icon_hallway:
  styles:
    custom_fields:
      icon:
        - width: 70%
        - fill: >
            [[[
              return variables.state_on
                  ? 'var(--state-icon-active-color)'
                  : 'var(--state-icon-color)';
            ]]]
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M43.712 34.098L39.217 14.136C38.511 10.995 35.498 9.002 32.366 9.472L31.145 7.641C30.566 6.772 29.591 6.25 28.545 6.25L26.563 6.25C25.7 6.25 25 6.948 25 7.813L25 10.938L21.875 10.938L21.875 1.563C21.875 0.698 21.177 0 20.313 0C19.45 0 18.75 0.698 18.75 1.563L18.75 18.75L12.5 18.75L12.5 15.625C12.5 14.761 11.802 14.063 10.938 14.063C10.075 14.063 9.375 14.761 9.375 15.625L9.375 20.313C9.375 21.175 10.075 21.875 10.938 21.875L18.75 21.875L18.75 45.313L12.5 45.313C10.775 45.313 9.375 46.711 9.375 48.438C9.375 49.3 10.075 50 10.938 50L29.688 50C30.552 50 31.25 49.3 31.25 48.438C31.25 46.711 29.852 45.313 28.125 45.313L21.875 45.313L21.875 14.063L25 14.063L25 39.063C25 39.925 25.7 40.625 26.563 40.625L28.655 40.625C31.889 40.625 34.313 37.666 33.68 34.497L31.78 25L33.508 17.228L37.616 35.472C37.805 36.314 38.641 36.842 39.483 36.653L42.531 35.966C43.372 35.777 43.902 34.941 43.712 34.098"/>
      </svg>

icon_cookerhood:
  styles:
    custom_fields:
      icon:
        - width: 70%
        - fill: >
            [[[
              return variables.state_on
                  ? 'var(--state-icon-active-color)'
                  : 'var(--state-icon-color)';
            ]]]
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M17 0v11h16V0Zm-1.688 13L5.97 21h38.06l-9.343-8ZM3 23c-1.652 0-3 1.348-3 3v7h50v-7c0-1.652-1.348-3-3-3Zm10.938 13a.932.932 0 0 0-.376.094c-.492.246-.714.847-.468 1.343.008.02.906 1.833.906 3.563 0 .766-.176 1.105-.406 1.563-.27.539-.594 1.203-.594 2.437 0 2.21 1.05 4.348 1.094 4.438a1.024 1.024 0 0 0 1.344.468c.492-.246.714-.847.468-1.343C15.898 48.542 15 46.73 15 45c0-.766.176-1.105.406-1.563.27-.539.594-1.203.594-2.437 0-2.21-1.05-4.344-1.094-4.438a1.027 1.027 0 0 0-.969-.562Zm7 0a.932.932 0 0 0-.375.094c-.493.246-.715.847-.47 1.343.009.02.907 1.833.907 3.563 0 .766-.176 1.105-.406 1.563-.27.539-.594 1.203-.594 2.437 0 2.21 1.05 4.348 1.094 4.438a1.024 1.024 0 0 0 1.343.468c.493-.246.715-.847.47-1.343C22.897 48.542 22 46.73 22 45c0-.766.176-1.105.406-1.563.27-.539.594-1.203.594-2.437 0-2.21-1.05-4.344-1.094-4.438a1.027 1.027 0 0 0-.968-.562Zm7 0a.932.932 0 0 0-.375.094c-.493.246-.715.847-.47 1.343.012.02.907 1.833.907 3.563 0 .766-.176 1.105-.406 1.563-.27.539-.594 1.203-.594 2.437 0 2.21 1.05 4.348 1.094 4.438a1.024 1.024 0 0 0 1.343.468c.493-.246.715-.847.47-1.343C29.894 48.542 29 46.73 29 45c0-.766.176-1.105.406-1.563.27-.539.594-1.203.594-2.437 0-2.21-1.047-4.344-1.094-4.438a1.023 1.023 0 0 0-.968-.562Zm7 0a.932.932 0 0 0-.376.094c-.492.246-.714.847-.468 1.343.011.02.906 1.833.906 3.563 0 .766-.176 1.105-.406 1.563-.27.539-.594 1.203-.594 2.437 0 2.21 1.05 4.348 1.094 4.438a1.024 1.024 0 0 0 1.343.468c.493-.246.715-.847.47-1.343C36.894 48.542 36 46.73 36 45c0-.766.176-1.105.406-1.563.27-.539.594-1.203.594-2.437 0-2.21-1.047-4.344-1.094-4.438a1.023 1.023 0 0 0-.968-.562Z"/>
      </svg>

icon_oven:
  styles:
    custom_fields:
      icon:
        - width: 70%
        - fill: >
            [[[
              return variables.state_on
                  ? 'var(--state-icon-active-color)'
                  : 'var(--state-icon-color)';
            ]]]
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M12 2c-1.103 0-2 .897-2 2H7C5.346 4 4 5.346 4 7v35c0 1.654 1.346 3 3 3h2v1c0 1.103.897 2 2 2h3c1.103 0 2-.897 2-2v-1h18v1c0 1.103.897 2 2 2h3c1.103 0 2-.897 2-2v-1h2c1.654 0 3-1.346 3-3V7c0-1.654-1.346-3-3-3h-3c0-1.103-.897-2-2-2h-6c-1.103 0-2 .897-2 2h-9c0-1.103-.897-2-2-2h-7zm-2 6a2 2 0 1 1 .001 3.999A2 2 0 0 1 10 8zm6 0a2 2 0 1 1 .001 3.999A2 2 0 0 1 16 8zm6 0a2 2 0 1 1 .001 3.999A2 2 0 0 1 22 8zm6 0a2 2 0 1 1 .001 3.999A2 2 0 0 1 28 8zm12 0a2 2 0 1 1 .001 3.999A2 2 0 0 1 40 8zm-30 7h30v18h-5.805C35.31 31.76 36 30.043 36 28.15v-.302c0-.983-.377-2.277-.854-3.336.151-.58.272-1.189.344-1.844a2.33 2.33 0 0 0-.238-1.29l1.305-1.495A.95.95 0 0 0 37 20a1 1 0 0 0 0-2 1 1 0 0 0-2 0 .97.97 0 0 0 .135.47l-1.432 1.64a2.284 2.284 0 0 0-1.277-.005 9.15 9.15 0 0 0-2.028.9c-.888.699-2.145 1.996-2.634 3.997a1 1 0 0 1-1.944-.475A8.97 8.97 0 0 1 27.572 21h-6.709C17.078 21 14 24.448 14 28.684c0 1.669.587 3.185 1.54 4.316H10V15zm9 13h3a1 1 0 1 1 0 2h-2a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1zm-9 7h30v4H10v-4z"/>
      </svg>

icon_dishwasher:
  styles:
    custom_fields:
      icon:
        - width: 70%
        - fill: >
            [[[
              return variables.state_on
                  ? 'var(--state-icon-active-color)'
                  : 'var(--state-icon-color)';
            ]]]
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M6 3c-.55 0-1 .45-1 1v9h40V4a1 1 0 0 0-1-1Zm21 3a1.999 1.999 0 1 1 0 4 1.999 1.999 0 1 1 0-4Zm6 0a1.999 1.999 0 1 1 0 4 1.999 1.999 0 1 1 0-4Zm6 0a1.999 1.999 0 1 1 0 4 1.999 1.999 0 1 1 0-4ZM5 15v31a1 1 0 0 0 1 1h38c.555 0 1-.445 1-1V15Zm22 4h2v3.156c1.719.45 3 1.992 3 3.844v8c0 1.855-1.281 3.395-3 3.844V41h-2Zm8 0h2v3.156c1.719.45 3 1.992 3 3.844v8c0 1.855-1.281 3.395-3 3.844V41h-2Zm-25 6h12v4c0 2.96-2.172 5.426-5 5.906V39h3v2h-8v-2h3v-4.094c-2.828-.48-5-2.945-5-5.906Z"/>
      </svg>

icon_dish:
  styles:
    custom_fields:
      icon:
        - width: 75%
        - margin-top: -10%
  custom_fields:
    icon: >
      <?xml version="1.0" encoding="UTF-8"?>
      <svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40.7 47.09">
        <style>
          @keyframes rotate {
            0% {
              visibility: visible;
              transform: rotate(0deg) translateZ(0);
            }
            100% {
              transform: rotate(720deg) translateZ(0);
            }
          }
          .start {
            animation: rotate 2.8s ease-in;
            transform-origin: center;
            fill: #5daeea;
            visibility: hidden;
            will-change: transform;
          }
          .on {
            animation: rotate 1.8s linear infinite;
            transform-origin: center 60%;
            fill: #5daeea;
            animation-delay: 2.8s;
            visibility: hidden;
            will-change: transform;
          }
          .end {
            animation: rotate 2.8s;
            transform-origin: center;
            fill: #9ca2a5;
            animation-timing-function: cubic-bezier(0.61, 1, 0.88, 1);
            will-change: transform;
          }
          .start_timeout {
            animation: rotate 1.8s linear infinite;
            transform-origin: center;
            fill: #5daeea;
            visibility: hidden;
            will-change: transform;
          }
          .end_timeout {
            fill: #9ca2a5;
          }
        </style>
        <g>
          <path d="M40.3,8.38v31.92c0,1.76-1.44,3.19-3.19,3.19H3.59c-1.76,0-3.19-1.44-3.19-3.19V8.38H40.3Zm0-4.79v4.79H.4V3.59C.4,1.84,1.84,.4,3.59,.4H37.11c1.76,0,3.19,1.44,3.19,3.19Z" style="fill:#ecf4f7;"/>
          <path d="M37.11,13.17v25.54c0,.88-.72,1.6-1.6,1.6H16.36c4.39,0,7.98-3.59,7.98-7.98s-3.59-7.98-7.98-7.98-7.98,3.59-7.98,7.98,3.59,7.98,7.98,7.98H5.19c-.88,0-1.6-.72-1.6-1.6V13.17c0-.88,.72-1.6,1.6-1.6h30.33c.88,0,1.6,.72,1.6,1.6" style="fill:#ffd0a1;"/>
          <g class="on">
            <path d="M16.36,24.34c4.39,0,7.98,3.59,7.98,7.98s-3.59,7.98-7.98,7.98-7.98-3.59-7.98-7.98,3.59-7.98,7.98-7.98" style="fill:#ecf4f7;"/>
            <path d="M16.36,29.13c1.76,0,3.19,1.44,3.19,3.19s-1.44,3.19-3.19,3.19-3.19-1.44-3.19-3.19,1.44-3.19,3.19-3.19" style="fill:#ecf4f7;"/>
          </g>
          <path d="M34.72,3.59c.48,0,.8,.4,.8,.8s-.32,.8-.8,.8-.8-.4-.8-.8,.32-.8,.8-.8Zm-6.38,0c.48,0,.8,.4,.8,.8s-.32,.8-.8,.8-.8-.4-.8-.8,.32-.8,.8-.8Z" style="fill:#ffd0a1;"/>
          <polygon points="3.59 46.69 37.11 46.69 37.11 43.5 3.59 43.5 3.59 46.69" style="fill:#aab1ba;"/>
        </g>
        <path d="M37.11,47.09H3.59c-.24,0-.4-.16-.4-.4v-2.79C1.44,43.66,0,42.14,0,40.3V11.57C0,11.33,.16,11.17,.4,11.17s.4,.16,.4,.4v28.73c0,1.52,1.28,2.79,2.79,2.79h30.33c.24,0,.4,.16,.4,.4s-.16,.4-.4,.4H3.99v2.39H36.71v-2.79c0-.24,.16-.4,.4-.4,1.52,0,2.79-1.28,2.79-2.79V3.59c0-1.52-1.28-2.79-2.79-2.79H3.59C2.08,.8,.8,2.07,.8,3.59V7.98H37.11c.24,0,.4,.16,.4,.4s-.16,.4-.4,.4H.4c-.24,0-.4-.16-.4-.4V3.59C0,1.6,1.6,0,3.59,0H37.11c2,0,3.59,1.6,3.59,3.59V40.3c0,1.84-1.44,3.35-3.19,3.59v2.79c0,.24-.16,.4-.4,.4Zm-1.6-6.38H5.19c-1.12,0-2-.88-2-2V13.17c0-1.12,.88-2,2-2h30.33c1.12,0,2,.88,2,2v25.54c0,1.12-.88,2-2,2ZM5.19,11.97c-.64,0-1.2,.56-1.2,1.2v25.54c0,.64,.56,1.2,1.2,1.2h30.33c.64,0,1.2-.56,1.2-1.2V13.17c0-.64-.56-1.2-1.2-1.2H5.19Zm17.56,25.54c-.08,0-.16,0-.24-.08-.16-.16-.24-.4-.08-.56,1.04-1.36,1.52-2.87,1.52-4.55,0-4.15-3.43-7.58-7.58-7.58s-7.58,3.43-7.58,7.58c0,1.68,.56,3.19,1.52,4.55,.16,.16,.08,.4-.08,.56s-.4,.08-.56-.08c-1.12-1.44-1.68-3.19-1.68-5.03,0-4.63,3.75-8.38,8.38-8.38s8.38,3.75,8.38,8.38c0,1.84-.56,3.59-1.68,5.03-.08,.08-.24,.16-.32,.16Zm9.58,0h-5.99c-.24,0-.4-.16-.4-.4s.16-.4,.4-.4h5.99c.24,0,.4,.16,.4,.4s-.16,.4-.4,.4Zm-15.96-1.6c-2,0-3.59-1.6-3.59-3.59s1.6-3.59,3.59-3.59,3.59,1.6,3.59,3.59c0,2-1.6,3.59-3.59,3.59Zm0-6.38c-1.52,0-2.79,1.28-2.79,2.79s1.28,2.79,2.79,2.79,2.79-1.28,2.79-2.79c0-1.52-1.28-2.79-2.79-2.79Zm15.96,4.79h-5.19c-.24,0-.4-.16-.4-.4s.16-.4,.4-.4h5.19c.24,0,.4,.16,.4,.4s-.16,.4-.4,.4Zm0-3.19h-5.19c-.24,0-.4-.16-.4-.4s.16-.4,.4-.4h5.19c.24,0,.4,.16,.4,.4s-.16,.4-.4,.4Zm0-3.19h-5.99c-.24,0-.4-.16-.4-.4s.16-.4,.4-.4h5.99c.24,0,.4,.16,.4,.4s-.16,.4-.4,.4Zm0-3.19h-8.38c-.24,0-.4-.16-.4-.4s.16-.4,.4-.4h8.38c.24,0,.4,.16,.4,.4s-.16,.4-.4,.4Zm2.39-19.15c-.64,0-1.2-.56-1.2-1.2s.56-1.2,1.2-1.2,1.2,.56,1.2,1.2-.56,1.2-1.2,1.2Zm0-1.6c-.24,0-.4,.16-.4,.4s.16,.4,.4,.4,.4-.16,.4-.4-.16-.4-.4-.4Zm-6.38,1.6c-.64,0-1.2-.56-1.2-1.2s.56-1.2,1.2-1.2,1.2,.56,1.2,1.2-.56,1.2-1.2,1.2Zm0-1.6c-.24,0-.4,.16-.4,.4s.16,.4,.4,.4,.4-.16,.4-.4c0-.24-.16-.4-.4-.4Zm-16.76,.8H5.19c-.24,0-.4-.16-.4-.4s.16-.4,.4-.4h6.38c.24,0,.4,.16,.4,.4,0,.24-.16,.4-.4,.4Z" style="fill:#51565f;"/>
      </svg>

icon_pot:
  styles:
    custom_fields:
      icon:
        - width: 75%
  custom_fields:
    icon: >
      <?xml version="1.0" encoding="UTF-8"?><svg id="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 41.41 48.36"><path d="M23.83,7.79V3.13c0-1.73-1.4-3.13-3.13-3.13s-3.13,1.4-3.13,3.13V7.79h6.25Z" style="fill:#088690;"/><path d="M20.71,0c-1.73,0-3.13,1.4-3.13,3.13V7.79h3.13V0Z" style="fill:#0baebc;"/><path d="M37.66,14.17H3.75c-2.07,0-3.75,1.68-3.75,3.75s1.68,3.75,3.75,3.75H37.66c2.07,0,3.75-1.68,3.75-3.75s-1.68-3.75-3.75-3.75Zm0,4.52H3.75c-.42,0-.77-.34-.77-.77s.34-.77,.77-.77H37.66c.42,0,.77,.34,.77,.77s-.34,.77-.77,.77Z" style="fill:#088690;"/><path d="M29.35,4.9H12.07c-4.06,0-7.35,3.29-7.35,7.35v21.92c0,2.63,2.14,4.77,4.77,4.77H31.93c2.63,0,4.77-2.14,4.77-4.77V12.25c0-4.06-3.29-7.35-7.35-7.35Z" style="fill:#b5cddf;"/><g><path d="M8.25,48.36c-1.51,0-2.73-1.22-2.73-2.73,0-2.39,2.36-3.9,2.47-3.96l.26-.17,.26,.17c.1,.06,2.47,1.57,2.47,3.96,0,1.51-1.22,2.73-2.73,2.73Z" style="fill:#ff9845;"/><path d="M16.55,48.36c-1.51,0-2.73-1.22-2.73-2.73,0-2.39,2.36-3.9,2.47-3.96l.26-.17,.26,.17c.1,.06,2.47,1.57,2.47,3.96,0,1.51-1.22,2.73-2.73,2.73Z" style="fill:#ff9845;"/></g><g><path d="M24.86,48.36c-1.51,0-2.73-1.22-2.73-2.73,0-2.39,2.36-3.9,2.47-3.96l.26-.17,.26,.17c.1,.06,2.47,1.57,2.47,3.96,0,1.51-1.22,2.73-2.73,2.73Z" style="fill:#fb7100;"/><path d="M33.17,48.36c-1.51,0-2.73-1.22-2.73-2.73,0-2.39,2.36-3.9,2.47-3.96l.26-.17,.26,.17c.1,.06,2.47,1.57,2.47,3.96,0,1.51-1.22,2.73-2.73,2.73Z" style="fill:#fb7100;"/></g><path d="M20.71,4.9H12.07c-4.06,0-7.35,3.29-7.35,7.35v21.92c0,2.63,2.14,4.77,4.77,4.77h11.22V4.9Z" style="fill:#c9e5f9;"/><path d="M36.7,12.25c0-.36-.03-.72-.08-1.07H4.8c-.05,.35-.08,.71-.08,1.07v1.92h31.98v-1.92h0Z" style="fill:#088690;"/><path d="M20.71,11.18H4.8c-.05,.35-.08,.71-.08,1.07v1.92h15.99v-2.98h0Z" style="fill:#0baebc;"/></svg>

icon_motion:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - fill: >
            [[[
              return (variables.state_on)
                  ? '#b68349'
                  : '#9da0a2';
            ]]]
  custom_fields:
    icon: >
      [[[
        let state = variables.state_on ? 'on' : null;
        return `
          <svg viewBox="0 0 50 45">
              <style>
                @keyframes on {0%{transform:translateX(0);opacity:1}100%{transform:translateX(4px);opacity:0}}
                .on {animation:on 1s cubic-bezier(.45,.045,.355,1.000) infinite alternate-reverse both}
              </style>
            <g class="${state}">
              <path id="Panak"
                d="M37.85,39.55c1.33,2.67,5.32,1,3.89-1.91l-3.72-7.52c-.28-.56-.65-1.15-1.06-1.76l-2.24-3.19,.09-.3c.56-2,.89-3.13,1.02-5l.37-5.28c.2-2.8-1.52-4.78-4.22-4.78-2.04,0-3.46,1.06-5.24,2.8l-2.8,2.74c-.91,.91-1.28,1.72-1.39,3.04l-.35,4.32c-.11,1.28,.67,2.22,1.87,2.26,1.22,.09,2-.7,2.11-2.02l.39-4.59,1-.89c.28-.26,.74-.13,.7,.33l-.26,3.52c-.15,1.96,.24,3.06,1.78,4.98l3.69,4.63c.33,.41,.39,.54,.56,.89l3.8,7.74Zm-3.67-30.86c2.39,0,4.35-1.96,4.35-4.35s-1.96-4.35-4.35-4.35-4.35,1.96-4.35,4.35,1.96,4.35,4.35,4.35Zm-9.13,31.46l5.5-6.52c.59-.7,.72-.89,.91-1.56l.04-.15-3.41-4.26-.72,3.32-5.35,6.35c-2.04,2.43,1.33,4.85,3.02,2.82Zm19.45-23.23h-4.04l-2.09-2.28-.37,5.26,.13,.13c.65,.65,1.26,.87,2.46,.87h3.91c1.33,0,2.19-.78,2.19-1.98s-.89-2-2.19-2Z" />
              <path id="Pohyb" opacity="0.6"
                d="M1.41,16.58H15.82c.78,0,1.43-.7,1.43-1.52s-.65-1.52-1.43-1.52H1.41c-.78,0-1.41,.7-1.41,1.52s.63,1.52,1.41,1.52ZM10.65,7.54h10.17c.78,0,1.43-.7,1.43-1.52s-.65-1.52-1.43-1.52H10.65c-.8,0-1.46,.7-1.46,1.52s.65,1.52,1.46,1.52ZM2.59,34.66H13.65c.78,0,1.43-.7,1.43-1.52s-.65-1.52-1.43-1.52H2.59c-.8,0-1.46,.7-1.46,1.52s.65,1.52,1.46,1.52Zm6.26-9.04h7.63c.78,0,1.43-.7,1.43-1.52s-.65-1.52-1.43-1.52h-7.63c-.78,0-1.43,.7-1.43,1.52s.65,1.52,1.43,1.52Z" />
            </g>
          </svg>`;
      ]]]

icon_contact_sensor:
  styles:
    custom_fields:
      icon:
        - width: 90%
        - fill: >
            [[[ return variables.state_on ? '#b68349' : '#9da0a2'; ]]]
  custom_fields:
    icon: >
      <svg viewBox="0 0 72 50">
        <path d="M9.2 50.8h31.61c6.153 0 9.2-3.046 9.2-9.081V9.082C50.01 3.047 46.963 0 40.81 0H9.2C3.075 0 0 3.018 0 9.082v32.637C0 47.754 3.076 50.8 9.2 50.8Zm14.208-23.759c-1.055 0-1.846-.791-1.846-1.846V10.928c0-1.055.791-1.846 1.846-1.846a1.82 1.82 0 0 1 1.846 1.846v14.267a1.82 1.82 0 0 1-1.846 1.846Zm7.676 0c-1.025 0-1.816-.791-1.816-1.846V10.928c0-1.055.79-1.846 1.816-1.846a1.82 1.82 0 0 1 1.846 1.846v14.267a1.82 1.82 0 0 1-1.846 1.846Zm7.705 0a1.82 1.82 0 0 1-1.846-1.846V10.928a1.82 1.82 0 0 1 1.846-1.846c1.055 0 1.846.791 1.846 1.846v14.267c0 1.055-.791 1.846-1.846 1.846Zm16.904 0c.791.908 2.285.967 3.164-.205 1.875-2.461 2.989-5.508 2.989-8.79 0-3.28-1.114-6.356-2.989-8.788-.879-1.172-2.343-1.143-3.134-.235-.85.88-.528 1.963.234 3.018 1.26 1.787 1.875 3.809 1.875 6.006 0 2.168-.615 4.219-1.875 6.006-.732 1.025-1.084 2.11-.264 2.988Zm6.71 6.328c.79.938 2.197.938 3.134-.117 3.662-4.102 5.654-9.404 5.654-15.205 0-5.8-1.992-11.133-5.654-15.235-.908-1.025-2.285-1.025-3.076-.146-.82.908-.615 2.05.264 3.076 2.93 3.34 4.453 7.617 4.453 12.305 0 4.658-1.524 8.965-4.453 12.275-.88 1.026-1.084 2.139-.323 3.047Z" />
      </svg>

icon_alarm:
  styles:
    custom_fields:
      icon:
        - width: 85%
        - margin-left: -5%
        - color: >
            [[[ return variables.state === 'disarmed' ? '#9da0a2' : '#8b3333'; ]]]
  custom_fields:
    icon: >
      [[[
        if (variables.state === 'disarmed')
            return '<ha-icon icon="mdi:shield-home"></ha-icon>';
        if (variables.state === 'armed_night')
            return '<ha-icon icon="mdi:shield-moon"></ha-icon>';
        if (variables.state === 'armed_away')
            return '<ha-icon icon="mdi:shield-lock"></ha-icon>';
      ]]]

icon_brma:
  styles:
    custom_fields:
      icon:
        - width: 85%
        - margin-left: -5%
        - color: >
            [[[ return variables.state_on ?'#8b3333' : '#9da0a2'; ]]]
  custom_fields:
    icon: >
      [[[
        return '<ha-icon icon="mdi:alarm-light"></ha-icon>';
      ]]]

icon_homemode:
  styles:
    custom_fields:
      icon:
        - width: 85%
        - margin-left: -5%
        - margin-top: -10%
        - color: >
            [[[
              let state;
              if (variables.state === 'Guest') {
                state = '#eae2b7';
              }
              if (variables.state === 'Normal') {
                state = '#607D8B';
              }
              if (variables.state === 'Away') {
                state = '#f77f00';
              }
              if (variables.state === 'Night') {
                state = '#003049';
              }
              return `${state}`
            ]]]
  custom_fields:
    icon: >
      [[[
        if (variables.state === 'Guest')
            return '<ha-icon icon="custom:ios-guest"></ha-icon>';
        if (variables.state === 'Away')
            return '<ha-icon icon="custom:ios-car"></ha-icon>';
        if (variables.state === 'Night')
            return '<ha-icon icon="custom:night-stay"></ha-icon>';
        if (variables.state === 'Normal')
            return '<ha-icon icon="custom:ios-home"></ha-icon>';
      ]]]

icon_cctv:
  styles:
    custom_fields:
      icon:
        - width: 60%
        - margin-top: -15%
        - margin-left: -5%
        - fill: >
            [[[ return variables.state === 'streaming'
              ? '#8a3333'
              : '#9da0a2';
            ]]]
        - opacity: 0.7
  custom_fields:
    icon: >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 40">
        <path d="m37 27.75-9.25-7.4v7.4H9.25V9.25h18.5v7.4L37 9.25M41.63 0h-37C2.07 0 0 2.07 0 4.63v27.75c0 2.55 2.07 4.63 4.63 4.63h37c2.55 0 4.63-2.07 4.63-4.63V4.63c0-2.57-2.08-4.63-4.63-4.63Z"/>
      </svg>

icon_plex:
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M7.7.3h34.6c4.1 0 7.4 3.3 7.4 7.4v34.6c0 4.1-3.3 7.4-7.4 7.4H7.7c-4.1 0-7.4-3.3-7.4-7.4V7.7C.3 3.6 3.6.3 7.7.3z" fill="#282a2d"/>
        <path d="M25,7.1H14.6L25,25L14.6,42.9H25L35.4,25L25,7.1z" fill="#e5a00d"/>
      </svg>

icon_kodi:
  custom_fields:
    icon: >
      <svg viewBox="0 0 47 47">
        <path d="m43.63 23.64-6.76 6.75c-.81.81-1.68.81-2.48 0l-6.97-6.98c-.79-.79-.79-1.65 0-2.44l7.01-7.02c.77-.75 1.65-.75 2.42 0l6.78 6.79c1.04 1.01.97 1.92 0 2.89ZM20.91 43.45l-6.73-6.76c-.81-.81-.81-1.67 0-2.47l6.98-6.98c.78-.78 1.65-.78 2.43 0l6.98 6.98c.8.8.81 1.68 0 2.47l-6.79 6.82c-.99 1.01-1.91.88-2.85-.07ZM13.87 8.84c0-.75.17-1.34.74-1.82 2.17-2.12 4.51-4.49 6.42-6.41.81-.81 1.67-.81 2.46 0l6.97 6.97c.8.8.8 1.68 0 2.47L14.94 25.57c-.9.49-1.04-.17-1.07-.89-.05-5.44.05-10.77-.02-15.84ZM8.33 29.35c0 .6-.43 1.26-.89.81L.39 23.12c-.49-.45-.52-1.2-.08-1.7.03-.03.05-.06.08-.08l6.96-7.05c.64-.65.95.18.98.78v14.29Z"/>
      </svg>

icon_kodi_color:
  custom_fields:
    icon: >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 43.78 43.78">
        <defs>
          <style>
            .cls-1 {
              fill: rgba(255,255,255,0.7);
            }

            .cls-2 {
              fill: #17b2e7;
            }
          </style>
        </defs>
        <rect class="cls-1" width="43.78" height="43.78" rx="6.57" ry="6.57"/>
        <g>
          <path class="cls-2" d="M37.75,23.02l-5,4.99c-.6,.6-1.24,.6-1.84,0l-5.16-5.16c-.58-.58-.58-1.22,0-1.8l5.18-5.19c.56-.56,1.22-.56,1.79,0l5.02,5.03c.77,.74,.72,1.42,0,2.14h0Z"/>
          <path class="cls-2" d="M20.95,37.68l-4.98-5c-.6-.6-.6-1.23,0-1.83l5.16-5.16c.57-.57,1.22-.57,1.8,0l5.16,5.16c.59,.59,.6,1.24,0,1.83l-5.03,5.04c-.74,.74-1.41,.65-2.11-.05h0Z"/>
          <path class="cls-2" d="M15.74,12.08c0-.56,.13-.99,.55-1.35,1.61-1.57,3.33-3.33,4.75-4.75,.6-.6,1.23-.6,1.82,0l5.16,5.16c.59,.59,.59,1.24,0,1.83l-11.47,11.48c-.67,.36-.77-.13-.79-.66-.03-4.03,.03-7.97-.02-11.71Z"/>
          <path class="cls-2" d="M11.64,27.25c0,.44-.32,.93-.66,.6l-5.22-5.22c-.36-.33-.39-.89-.06-1.26,.02-.02,.04-.04,.06-.06l5.15-5.22c.47-.48,.7,.14,.73,.57v10.58Z"/>
        </g>
      </svg>

icon_apple_tv:
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M25.2 49.7l-13.7-.1c-2.4 0-4.6-.8-6.5-2.2-2-1.6-3.6-3.6-4.3-6.2-.2-1-.2-1.9-.3-3V11.5C.5 7.9 1.9 5 4.8 2.7 6.2 1.6 7.8.8 9.6.5c.5-.1.9-.1 1.4-.1L27.5.3l10.9.1c2.6 0 4.8.8 6.7 2.4 2.1 1.7 3.7 3.9 4.2 6.6l.2 2.4.1 20.5-.1 6.7c-.1 2.2-.9 4.2-2.2 5.9-1.7 2.2-4 3.8-6.8 4.4-.6.1-1.2.2-1.9.2-.1.1-13.4.2-13.4.2zm-4-27.8c-.9-1.2-2.2-1.6-3.7-1.2-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0-.4-.1-.8-.3-1.2-.4-.3-.1-.7-.1-1-.1-1.5.2-2.4 1.1-3 2.6-.4 1.1-.3 2.2 0 3.5.4 1.5 1 2.9 2.1 4 .5.6 1.2.9 2 .6 1.1-.5 2.2-.5 3.4 0 .8.3 1.5 0 2.1-.6.7-.8 1.1-1.8 1.6-2.8v-.2c-1-.6-1.7-1.4-1.8-2.7-.2-1.4.5-2.4 1.5-3.1zm9.9-1.4c.1.2.1.3.1.4l3.6 9.5c.1.3.3.4.6.4h.7c.6 0 .6 0 .9-.6l3.7-9.4c.1-.1.1-.3.2-.5H39l-2.9 8.3-3.1-8.3-1.9.2zM27.3 18l-1.3.4c-.5.2-.5.2-.6.7v1.4h-1.6l.1 1.4h1.5v5c0 .7.1 1.4.2 2.1.1.5.3 1 .8 1.4.8.6 2.6.7 3.5.2l-.1-1.2h-1.3c-.5 0-.9-.3-1-.8-.1-.3-.2-.6-.2-1v-5.8H30c0-.5.1-1 0-1.4h-2.7V18zm-8.8-.9c-1.9.3-3 2-2.7 3.2 1.4.2 2.9-1.7 2.7-3.2z"/>
      </svg>

icon_spotify_color:
  custom_fields:
    icon: >
      [[[
        if (variables.state === 'playing')
          return `
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42.55 42.55">
              <style>
              @keyframes bounce {
                10% {
                  transform: scaleY(0.3);
                }

                30% {
                  transform: scaleY(1);
                  opacity: .35;
                }

                60% {
                  transform: scaleY(0.5);
                }

                80% {
                  transform: scaleY(0.75);
                  opacity: .75;
                }

                100% {
                  transform: scaleY(0.6);
                }
              }
              .bars {
                fill: #ffffff;
                stroke: #ffffff;
                stroke-linecap:round;
                stroke-width:5px;
              }
              .bar {
                animation: bounce 2.2s ease infinite alternate;
                transform-origin: center;
              }
              .bar:nth-child(2)  { animation-delay: -2.2s; }
              .bar:nth-child(3)  { animation-delay: -3.2s; }
              .bar:nth-child(4)  { animation-delay: -1.2s; }
              .bar:nth-child(5)  { animation-delay: -2.1s; }

              </style>
            <g class="bars">
              <path  class="bar" d="M2.5,18.24v7.87"  />
              <path  class="bar" d="M32.54,18.24v7.87"  />
              <path  class="bar" d="M10.01,10.37v23.61"  />
              <path  class="bar" d="M25.03,10.37v23.61"  />
              <path  class="bar" d="M17.52,2.5V41.85"  />
            </g>
            </svg>`;
          else
          return `
            <svg viewBox="0 0 49.17 49.17">
              <path d="M39.09 21.88c-7.87-4.67-21.02-5.16-28.52-2.83-1.23.37-2.46-.37-2.83-1.47-.37-1.23.37-2.46 1.47-2.83 8.73-2.58 23.11-2.09 32.2 3.32 1.11.61 1.47 2.09.86 3.2-.61.86-2.09 1.23-3.2.61m-.25 6.88c-.61.86-1.72 1.23-2.58.61-6.64-4.06-16.72-5.29-24.46-2.83-.98.25-2.09-.25-2.34-1.23s.25-2.09 1.23-2.34c8.97-2.7 20.04-1.35 27.66 3.32.74.37 1.11 1.6.49 2.46m-2.95 6.76c-.49.74-1.35.98-2.09.49-5.78-3.56-13.03-4.3-21.63-2.34-.86.25-1.6-.37-1.84-1.11-.25-.86.37-1.6 1.11-1.84 9.34-2.09 17.45-1.23 23.85 2.7.86.37.98 1.35.61 2.09M24.58 0C11.06 0 0 11.06 0 24.58s11.06 24.58 24.58 24.58S49.16 38.1 49.16 24.58 38.23 0 24.58 0"/>
            </svg>`;
      ]]]

icon_spotify:
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M25 .3C11.4.3.3 11.4.3 25S11.4 49.7 25 49.7 49.7 38.6 49.7 25 38.6.3 25 .3zm11.3 35.6c-.4.7-1.4 1-2.1.5-5.8-3.5-13.1-4.3-21.7-2.4-.8.2-1.7-.3-1.8-1.2-.2-.8.3-1.7 1.2-1.8 9.4-2.2 17.5-1.2 24 2.8.6.5.9 1.4.4 2.1zm3.1-6.7c-.6.9-1.7 1.2-2.6.6-6.6-4.1-16.8-5.3-24.6-2.9a1.96 1.96 0 0 1-2.4-1.3 1.96 1.96 0 0 1 1.3-2.4c9-2.7 20.1-1.4 27.7 3.3.8.6 1.1 1.8.6 2.7h0zm.2-7c-8-4.7-21.1-5.2-28.7-2.9-1.2.4-2.5-.3-2.9-1.5s.3-2.5 1.5-2.9c8.7-2.6 23.2-2.1 32.4 3.3 1.1.7 1.5 2.1.8 3.2-.6 1.1-2 1.4-3.1.8h0z"/>
      </svg>

icon_youtube:
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M21.786 20.079v9.127l8.412-4.523Z"/>
        <path d="M37.46 0H12.5C5.635 0 0 5.635 0 12.54V37.5C0 44.365 5.635 50 12.5 50h24.96C44.365 50 50 44.365 50 37.46V12.54C50 5.635 44.365 0 37.46 0zm3.016 26.23c0 2.619-.238 5.278-.238 5.278s-.278 2.222-1.19 3.214c-1.19 1.31-2.5 1.31-3.095 1.389-4.365.317-10.913.357-10.913.357s-8.135-.119-10.635-.357c-.675-.119-2.262-.079-3.452-1.389-.952-.992-1.19-3.214-1.19-3.214s-.239-2.659-.239-5.278v-2.46c0-2.619.238-5.278.238-5.278s.278-2.222 1.19-3.214c1.19-1.31 2.5-1.349 3.095-1.429C18.452 13.532 25 13.492 25 13.492s6.548.04 10.913.357c.595.079 1.944.119 3.135 1.389.952.992 1.19 3.254 1.19 3.254s.238 2.659.238 5.278v2.46z"/>
      </svg>

icon_utube:
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M20.698 30.475V18.767l11.256 5.875-11.256 5.833ZM45.417 16.74s-.406-2.873-1.656-4.138c-1.583-1.658-3.36-1.667-4.175-1.765-5.83-.42-14.578-.42-14.578-.42h-.017s-8.746 0-14.577.421c-.815.098-2.59.104-4.175 1.765-1.25 1.265-1.656 4.138-1.656 4.138s-.416 3.369-.416 6.742v3.16c0 3.371.417 6.744.417 6.744s.406 2.871 1.656 4.135c1.583 1.66 3.667 1.606 4.594 1.781 3.333.319 14.167.417 14.167.417s8.756-.013 14.585-.433c.815-.098 2.592-.104 4.175-1.765 1.25-1.265 1.656-4.135 1.656-4.135s.417-3.373.417-6.744v-3.16c0-3.373-.417-6.744-.417-6.744Z"/>
      </svg>

icon_shieldtv:
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M18.642 18.329v-2.979a13.958 13.958 0 0 1 0.883 -0.037c8.171 -0.258 13.527 7.029 13.527 7.029s-5.779 8.023 -11.979 8.023c-0.829 0 -1.64 -0.129 -2.413 -0.385v-9.054c3.183 0.385 3.827 1.785 5.723 4.969l4.25 -3.571s-3.108 -4.067 -8.333 -4.067a12.533 12.533 0 0 0 -1.658 0.073m0 -9.865v4.454l0.883 -0.056c11.354 -0.385 18.771 9.313 18.771 9.313s-8.5 10.342 -17.354 10.342c-0.771 0 -1.527 -0.073 -2.281 -0.202v2.76c0.625 0.073 1.271 0.129 1.896 0.129 8.244 0 14.208 -4.215 19.985 -9.183 0.956 0.773 4.875 2.631 5.688 3.442 -5.485 4.6 -18.275 8.3 -25.527 8.3 -0.698 0 -1.36 -0.037 -2.023 -0.11v3.883H50V8.465zm0 21.513v2.356c-7.619 -1.363 -9.735 -9.292 -9.735 -9.292s3.663 -4.05 9.735 -4.713v2.577H18.625c-3.183 -0.388 -5.688 2.594 -5.688 2.594s1.417 5.025 5.706 6.479M5.117 22.708s4.508 -6.66 13.542 -7.36V12.919C8.652 13.729 0 22.194 0 22.194s4.896 14.171 18.642 15.458v-2.577c-10.083 -1.25 -13.525 -12.367 -13.525 -12.367z"/>
      </svg>

icon_shieldtv_text:
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M19.317 9.631v4.237l.819-.05c10.458-.359 17.287 8.576 17.287 8.576s-7.831 9.53-15.984 9.53c-.71 0-1.435-.066-2.123-.183v-2.153c.71.234 1.479.352 2.24.352 5.716 0 11.037-7.391 11.037-7.391s-4.934-6.718-12.457-6.477c-.272 0-.537.021-.802.029v-2.233c-9.224.746-17.194 8.546-17.194 8.546s4.511 13.056 17.177 14.243v-2.37c.571.066 1.186.117 1.757.117 7.604 0 13.1-3.879 18.421-8.461.886.71 4.494 2.423 5.24 3.169-5.057 4.237-16.841 7.642-23.522 7.642a17.86 17.86 0 0 1-1.895-.096v3.711H47.86V9.631zm0 6.478v2.743c.505-.044 1.017-.088 1.529-.066 4.808 0 7.677 3.748 7.677 3.748l-3.915 3.293c-1.749-2.935-2.364-4.231-5.292-4.583v8.342c-3.951-1.339-5.256-5.969-5.256-5.969s2.306-2.746 5.239-2.39h.017v-2.374c-5.596.61-8.97 4.341-8.97 4.341s1.95 7.308 8.97 8.562v2.526C10.026 33.13 6.854 22.889 6.854 22.889s4.149-6.128 12.463-6.78z"/>
      </svg>

icon_nest_mini:
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M49.7 25c0 13.6-11.1 24.7-24.8 24.7C11.3 49.7.3 38.6.3 25S11.4.3 25 .3 49.7 11.4 49.7 25zm-33.9 0a2.22 2.22 0 0 0-2.2-2.2c-1.2 0-2.3 1-2.3 2.2a2.22 2.22 0 0 0 2.2 2.2c1.3.1 2.3-.9 2.3-2.2h0zm10.8 0c0 1.2.9 2.2 2.2 2.3 1.3 0 2.3-1 2.3-2.2 0-1.3-1-2.3-2.2-2.3-1.3 0-2.3.9-2.3 2.2zm-3.2 0a2.22 2.22 0 0 0-2.2-2.2c-1.2 0-2.3 1-2.3 2.2a2.22 2.22 0 0 0 2.2 2.2c1.3 0 2.3-.9 2.3-2.2h0zm13 2.2a2.22 2.22 0 0 0 2.2-2.2c0-1.2-1-2.3-2.2-2.3a2.22 2.22 0 0 0-2.2 2.2c0 1.3 1 2.3 2.2 2.3z" />
      </svg>

icon_pendant:
  styles:
    custom_fields:
      icon:
        - width: 100%
        - margin-left: -9%
        - margin-top: -9%
  custom_fields:
    icon: >
      [[[
        let state = variables.state_on && variables.timeout < 50000 ? 'on' : null;
        return `
          <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:vectornator="http://vectornator.io" xmlns:xlink="http://www.w3.org/1999/xlink">
            <defs><filter color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" height="178.015" id="Filter" width="15.7685" x="244.46" y="22.1442"><feDropShadow dx="0" dy="0" flood-color="#000" flood-opacity=".797297" in="SourceGraphic" result="Shadow" stdDeviation=".680957"/></filter><filter color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" height="74.3896" id="Filter_2" width="49.2588" x="228.474" y="164.53"><feDropShadow dx="0" dy="0" flood-color="#000" flood-opacity=".333" in="SourceGraphic" result="Shadow" stdDeviation=".775166"/></filter><filter color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" height="185.846" id="Filter_3" width="342.386" x="79.1407" y="201.683"><feDropShadow dx="0" dy="0" flood-color="#000" flood-opacity=".333" in="SourceGraphic" result="Shadow" stdDeviation=".387597"/></filter></defs><g  id="Layer-1" vectornator:layerName="Layer 1">
            <path class="${state}" d="M252.33 30.0149 252.357 192.288" fill="blue" fill-rule="evenodd" filter="url(#Filter)" stroke="#a0a0a0" stroke-linecap="butt" stroke-linejoin="miter" stroke-width="13.0176" vectornator:shadowAngle="-.656674" vectornator:shadowColor="#000000" vectornator:shadowOffset="0" vectornator:shadowOpacity=".797297" vectornator:shadowRadius="1.36191"/>
            <path class="${state}" d="M238.28 166.081H267.926C272.486 166.081 276.182 169.886 276.182 174.581V228.869C276.182 233.564 272.486 237.369 267.926 237.369H238.28C233.72 237.369 230.024 233.564 230.024 228.869V174.581C230.024 169.886 233.72 166.081 238.28 166.081z" fill="#9da0a2" fill-rule="evenodd" filter="url(#Filter_2)" stroke="none" vectornator:shadowAngle="1.5708" vectornator:shadowColor="#000000" vectornator:shadowOffset="0" vectornator:shadowOpacity=".333" vectornator:shadowRadius="1.55033"/>
            <path class="${state}" d="M79.9394 336.998C78.8314 299.922 117.197 257.306 137.523 241.656 168.633 217.703 202.906 202.458 249.98 202.458 297.053 202.458 338.512 219.467 369.361 243.775 400.209 268.084 420.752 302.038 420.752 336.83 420.752 382.245 405.423 385.678 366.584 386.494 341.306 387.025 298.558 386.577 251.484 386.577 204.411 386.577 171.104 386.31 135.623 385.764 96.7806 385.167 81.331 383.565 79.9394 336.998z" fill="#9da0a2" fill-rule="evenodd" filter="url(#Filter_3)" stroke="none" vectornator:shadowAngle="1.5708" vectornator:shadowColor="#000000" vectornator:shadowOffset="0" vectornator:shadowOpacity=".333" vectornator:shadowRadius=".775194"/>
            <path class="${state}" fill="var(--light-color)" d="M210.899 409.227C212.783 397.014 216.042 397.813 226.03 397.757 235.634 397.704 245.046 397.781 256.452 397.685 267.382 397.594 270.76 397.868 281.548 398.215 290.703 398.51 295.585 397.897 297.041 408.195 298.497 418.493 295.761 440.415 282.097 449.059 268.434 457.704 234.111 456.602 222.094 445.669 210.076 434.737 209.367 419.164 210.899 409.227z" fill="#ffdc00" fill-rule="evenodd" opacity="1" stroke="none"/>
            </g>

            <style>
              @keyframes on {
                0% {
                  color: #26abff
                  background-color: '#26abff';
                }
                23% {
                  transform: rotateZ(-10deg);
                  animation-timing-function: ease-in-out;
                }
                56% {
                  transform: rotateZ(10deg);
                  animation-timing-function: ease-in-out;
                }
                70% {
                  transform: rotateZ(-2deg);
                  animation-timing-function: ease-in-out;
                }
                85% {
                  transform: rotateZ(2deg);
                  animation-timing-function: ease-in-out;
                }
                100% {
                  transform: rotateZ(0deg);
                }
              }
              .on {
                animation: on 1.7s;
                transform-origin: top;
                background-color: '#26abff';
                animation-fill-mode: forwards;
                animation-delay: -0.1s;
              }

            </style>
          </svg>

        `;
      ]]]

icon_hue:
  styles:
    custom_fields:
      icon:
        - width: 77%
        - margin-left: -14%
        - margin-top: 1%
  custom_fields:
    icon: >
      [[[
        let state = variables.state_on && variables.timeout < 50000 ? 'on' : null;
        return `
          <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                0% {
                  transform: scale(0.85);
                }
                20% {
                  transform: scale(1.1);
                }
                40% {
                  transform: scale(0.95);
                }
                60% {
                  transform: scale(1.03);
                }
                80% {
                  transform: scale(0.97);
                }
                100% {
                  transform: scale(1);
                }
              }
              .on {
                animation: on 0.8s;
                transform-origin: center;
              }
            </style>
            <path fill="#9da0a2" d="M27.4 47.3h-4.9s-.7.1-.7.8.4.9.7.9h4.9c.3 0 .7-.1.7-.9s-.7-.8-.7-.8zm3.3-2.9H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9-.1-.8-.9-.8-.9-.8zm0-3H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9-.1-.8-.9-.8-.9-.8zm0-2.9H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9s-.9-.8-.9-.8zm5.2-23.2c-3.3-5.3-7-5.6-10.9-5.6-3.8 0-8.4.4-10.9 5.6-.1.1-.1.3.1.7.4.8 3.3 7.2 3.2 18.8 0 1.1-.1 1.6 0 1.7 0 .1 0 .7 1.1.7h13c1 0 1-.5 1.1-.7v-1.7c-.1-11.6 2.8-18 3.2-18.8.1-.4.1-.5.1-.7"/>
            <path class="${state} light-color" d="M14.1 15.3c3.4-.3 7-.4 10.9-.4 3.8 0 7.5.2 10.9.4.4-.4.7-.8.9-1.1C39 8.5 38.9 6.5 38.9 6c-.2-4.4-8.4-5-12.1-5h0-3.4c-3.7 0-12 .5-12.1 5 0 .5-.1 2.5 2.1 8.2 0 .3.3.8.7 1.1z"/>
          </svg>
        `;
      ]]]

icon_shade:
  styles:
    custom_fields:
      icon:
        - width: 77%
        - margin-left: -15%
        - margin-top: 1%
  custom_fields:
    icon: >
      [[[
        let state = variables.state_on && variables.timeout < 50000 ? 'on' : null;
        return `
          <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                0% {
                  transform: scale(0.85);
                }
                20% {
                  transform: scale(1.1);
                }
                40% {
                  transform: scale(0.95);
                }
                60% {
                  transform: scale(1.03);
                }
                80% {
                  transform: scale(0.97);
                }
                100% {
                  transform: scale(1);
                }
              }
              .on {
                animation: on 0.8s;
                transform-origin: center;
              }
            </style>
            <path fill="#9da0a2" d="M26.4 25.6c.6-.3 1.1-.7 1.1-1.3L25 17.9l-2.5 6.4c0 .7.6 1.1 1.1 1.3v20.8h-5.5v2.7h13.7v-2.7h-5.5V25.6z"/>
            <path class="${state} light-color" d="M24.6.9l-9.4.5c-.6.1-1.9 0-2.5 2.1s-2.4 9.1-4 16.9c-.2.7-.5 2-.5 2.3s-.4 1.6.9 1.6c.8.1 7.4.3 15.9.3 8.6 0 15.1-.3 15.9-.3 1.3-.1.9-1.3.9-1.6s-.3-1.6-.5-2.3c-1.6-7.8-3.4-14.8-4-16.9s-1.9-2-2.5-2.1c-1.6-.2-6.9-.4-9.4-.5"/>
          </svg>
        `;
      ]]]

icon_quality:
  styles:
    custom_fields:
      icon:
        - width: 25%
        - opacity: 1
  custom_fields:
    icon: >
      [[[
        let quality = `
          <svg viewBox="0 0 50 28.846" xmlns="http://www.w3.org/2000/svg">
            <path d="M5.264 0h39.477A5.254 5.254 0 0 1 50 5.244V23.6a5.254 5.254 0 0 1-5.259 5.246H5.264A5.254 5.254 0 0 1 0 23.6V5.244A5.254 5.254 0 0 1 5.264 0zm13.611 22.307h3.241v-2.884h2.116v-2.729h-2.116V6.06h-4.808a107.481 107.481 0 0 0-6.519 10.466v2.897h8.086zm-5.102-5.604a76.684 76.684 0 0 1 5.102-8.242h.068v8.332h-5.169zm15.909 5.604v-4.961l1.521-1.825 4.821 6.786h4.066l-6.437-9.038 6.019-7.209h-3.784l-6.103 7.411h-.102V6.059h-3.401v16.248z" fill="#6a7377" fill-rule="evenodd"/>
          </svg>
          `;
        if (entity)
        return `
          <div>${quality}</div>
          <div>${quality}</div>
          <div>${quality}</div>
          `;
      ]]]

icon_playing_bars:
  styles:
    custom_fields:
      playing_bars:
        - display: block
        - position: absolute
        - bottom: 5%
        - right: 0
        - width: 10%
  custom_fields:
    playing_bars: >
      [[[
        if (variables.state === 'playing')
        return `
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42.55 42.55">
            <style>
            @keyframes bounce {
              10% {
                transform: scaleY(0.3);
              }

              30% {
                transform: scaleY(1);
                opacity: .35;
              }

              60% {
                transform: scaleY(0.5);
              }

              80% {
                transform: scaleY(0.75);
                opacity: .75;
              }

              100% {
                transform: scaleY(0.6);
              }
            }
            .bars {
              fill: #ffffff;
              stroke: #ffffff;
              stroke-linecap:round;
              stroke-width:5px;
            }
            .bar {
              animation: bounce 2.2s ease infinite alternate;
              transform-origin: center;
            }
            .bar:nth-child(2)  { animation-delay: -2.2s; }
            .bar:nth-child(3)  { animation-delay: -3.2s; }
            .bar:nth-child(4)  { animation-delay: -1.2s; }
            .bar:nth-child(5)  { animation-delay: -2.1s; }

            </style>
          <g class="bars">
            <path  class="bar" d="M2.5,18.24v7.87"  />
            <path  class="bar" d="M32.54,18.24v7.87"  />
            <path  class="bar" d="M10.01,10.37v23.61"  />
            <path  class="bar" d="M25.03,10.37v23.61"  />
            <path  class="bar" d="M17.52,2.5V41.85"  />
          </g>
          </svg>`
      ]]]

icon_play_pause:
  styles:
    custom_fields:
      play_pause:
        - top: -10%
        - right: 0
        - bottom: 0
        - left: 0
        - margin: auto
        - width: 25%
        - height: 25%
        - position: absolute
        - fill: '#dedede'
  custom_fields:
    play_pause: >
      [[[
        let style = `
          <style>
            .scale-up {
              animation: scale-up 2s forwards;
              cubic-bezier(.05, .5, .3, 1);
              transform-origin: center center;
            }
            @keyframes scale-up {
              0% {
                opacity: 0;
                transform: scale(0);
              }
              20% {
                transform: scale(1);
              }
              30% {
                opacity: 1;
              }
              80% {
                opacity: 1;
              }
              100% {
                opacity: 0;
              }
            }
          </style>
        `,
            paused = `
          <style>
            .scale-up {
              animation: scale-up 2s forwards;
              cubic-bezier(.05, .5, .3, 1);
              transform-origin: center center;
            }
            @keyframes scale-up {
              0% {
                opacity: 0;
                transform: scale(0);
              }
              20% {
                transform: scale(1);
              }
              30% {
                opacity: 1;
              }
              80% {
                opacity: 1;
              }
              100% {
                opacity: 0.5;
              }
            }
          </style>
        `;
        if (variables.state === 'paused' && variables.timeout < 50000)
            return `
              <svg viewBox="0 0 166 166">${paused}
                  <path class="scale-up" d="M0 0h59.9v166H0zm106.1 0H166v166h-59.9z"/>
              </svg>
            `;
        if (variables.state === 'playing' && variables.timeout < 50000)
            return `
              <svg viewBox="0 0 166 166">${style}
                  <path class="scale-up" d="M0 0l166 83L0 166z"/>
              </svg>
          `;
      ]]]

icon_ps5:
  styles:
    custom_fields:
      icon:
        - width: 89%
        - margin-left: -2%
        - margin-top: -9%
  custom_fields:
    icon: >
      [[[
      if (entity) {
        let
          styles = `
              <style>
                @keyframes on {
                  50% {
                    transform: translateY(-45%);
                  }
                  100% {
                    transform: translateY(0);
                  }
                }
                .on {
                  animation: on;
                  animation-duration: 5000ms;
                  animation-fill-mode: both;
                  animation-delay: 0.05s;
                  animation-iteration-count: infinite;
                }
              </style>
          `,
          defs = `
              <defs>
                <clipPath id="mask">
                  <path d="M47.5 33.2c-.5-2.2-3.9-3.5-9.1-3.9-3.8-.3-7.5.6-11.1 1.9l-.6.2v-5.7l-5.7.8-4.6 1.6L6 31.9h-.1c-1.9.7-3.8 2.2-3.7 4.2.1 2.1 4.7 2.6 8.2 3.2 3.3.6 6.2.2 8.9-.7l7.3 4.8L33 41l10.7-4h.1c2.8-1 4-2.5 3.7-3.8zm-31.3 2l-3.6 1.3c-2.2.8-4.1-1.1-2.1-1.9l1.7-.6 7.2-2.7v2.8l-3.2 1.1zm22.5-1.1l-1.9.7-10.2 3.7V36l6.5-2.4 3.8-1.3c4-.9 5.6.5 1.8 1.8z"/>
                </clipPath>
              </defs>
          `;
        if (variables.state_on) {
            return `
              <svg viewBox="0 0 50 50">
                ${styles}
              <g style="clip-path: url(#mask);">
                <g class="on">
                  <path fill="#00aa9e" d="M49.2 38.9l-75.6-25.1v7.4l75.6 25.2z"/>
                  <path fill="#f3c202" d="M49.2 46.4l-75.6-25.2v7.5l75.6 25.1z"/>
                  <path fill="#326db3" d="M49.2 53.8l-75.6-25.1V51l75.6 25.1zm0-22.3L-26.4 6.4v7.4l75.6 25.1z"/>
                </g>
              </g>
                ${defs}
              <path fill="#de0029" d="M26.7 14.6v28.7l-7.3-2.5V7.1l9.3 2.6c6 1.7 9.6 5 9.6 10.7-.1 6.7-3 9.4-8.7 7.6V14.9c-.1-1.6-2.9-1.7-2.9-.3h0z"/>
            </svg>
          `;
          }
            else {
              return `
                <svg viewBox="0 0 50 50">
                  <path fill="#9da0a2" d="M43.8 37h-.1l-10.6 4-4.2 1.6v-4.9l8-2.9 1.9-.7c3.8-1.3 2.2-2.7-1.8-1.9l-3.8 1.3-4.3 1.6v-4.5c3.1-1 6.3-1.6 9.5-1.4 5.3.4 8.7 1.6 9.1 3.9.3 1.4-.9 2.9-3.7 3.9zm-26.7-2.1l-.9.3-3.6 1.3c-2.2.8-4.1-1.1-2.1-1.9l1.7-.6 5-1.9v-4.2l-.6.2L6 31.9h-.1c-1.9.7-3.8 2.2-3.7 4.2.1 2.1 4.7 2.6 8.2 3.2 2.4.4 4.6.3 6.7-.1v-4.3zm12.4-20V28c5.7 1.7 8.7-.9 8.7-7.6.1-5.7-3.6-9-9.6-10.7l-9.3-2.6v33.8l7.2 2.5.1.1V14.6c.1-1.4 2.9-1.3 2.9.3z"/>
                </svg>
              `;
            }
        }
      ]]]

icon_imac:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - margin-left: 1%
        - margin-top: -5%
        - fill: >
            [[[ return variables.state_on ? '#72757c' : '#9da0a2'; ]]]

  custom_fields:
    icon: >
      [[[
        let state = variables.state_on && variables.timeout < 50000
            ? 'on'
            : null;
        return `
          <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                from {
                  opacity: 0.5;
                  transform: scale(0.6);
                }
                100% {
                  opacity: 1;
                }
              }
              .on {
                animation: on 0.8s cubic-bezier(0.25, 1, 0.5, 1);
                transform-origin: center;
              }
            </style>
            <path class="${state}" d="M31.9 44.5c-1-.3-1.9.4-1.9-3.7h-9.9c0 4.2-.9 3.4-1.9 3.7s-.2.7-.2.7h14.1s.8-.3-.2-.7zM47.6 4.8H2.5c-1.1 0-2 .9-2 2v30.1c0 1.1.9 2 2 2h45c1.1 0 2-.9 2-2v-30a1.95 1.95 0 0 0-1.9-2.1zm-.7 26.4H3.2V7.6H47v23.6z"/>
          </svg>
        `;
      ]]]

icon_monitors:
  styles:
    custom_fields:
      icon:
        - width: 73%
        - margin-left: -9%
  custom_fields:
    icon: >
      [[[
        let style = `
          <style>
            @keyframes cone {
              35% {
                transform: scale(0.8);
                animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);
              }
              36% {
                transform: translateY(0%);
              }
              49% {
                transform: scale(1.25);
              }
              63% {
                transform: scale(0.85);
                animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);
              }
              77% {
                transform: scale(1.15);
                animation-timing-function: cubic-bezier(0, 0.55, 0.45, 1);
              }
              95% {
                transform: scale(1);
              }
            }
            .cone {
              animation: cone 1.2s;
              transform-origin: center;
            }
            @keyframes speaker {
              0% {
                transform: scale(1);
              }
              40% {
                transform: scale(1);
              }
              49% {
                transform: scale(0.95);
              }
              63% {
                transform: scale(1);
              }
              77% {
                transform: scale(0.95);
              }
              100% {
                transform: scale(1);
              }
            }
            .speaker {
              animation: speaker 1.3s;
              transform-origin: center;
            }
          </style>
        `,
          paths = `
            <g class="speaker">
              <path fill="#686868" d="M35.8 46.9H14.2c-1.1 0-2-1-2-2.3V6.7c0-1.3.9-2.3 2-2.3h21.5c1.1 0 2 1 2 2.3v37.9c0 1.2-.9 2.3-1.9 2.3z"/>
              <path fill="#2a2a2a" d="M39.2 1H10.8C9.4 1 8.3 2.1 8.2 3.5v42.9a2.65 2.65 0 0 0 2.6 2.6h28.3c1.4 0 2.5-1.2 2.6-2.6V3.5c0-1.4-1.1-2.5-2.5-2.5zM25 7c1.3 0 2.4 1.1 2.4 2.4s-1.1 2.4-2.4 2.4-2.4-1.1-2.4-2.4C22.5 8 23.6 7 25 7zm10.2 35.5l-.4 1.9s-.2.6-.6.6H15.8c-.4 0-.6-.6-.6-.6s-.1-1.1-.4-1.9.6-.9.6-.9h19.3c0-.1.8-.1.5.9z"/>
            </g>
            <path class="cone" fill="#e5dd00" d="M25 15.7c-6.2 0-11.3 5.1-11.3 11.3S18.8 38.3 25 38.3 36.3 33.2 36.3 27c-.1-6.3-5.1-11.3-11.3-11.3zm0 14.5a3.33 3.33 0 0 1-3.3-3.3 3.33 3.33 0 0 1 3.3-3.3 3.33 3.33 0 0 1 3.3 3.3c-.1 1.9-1.5 3.3-3.3 3.3z"/>
          `;
        if (variables.state_on && variables.timeout < 50000) {
            return `
              <svg viewBox="0 0 50 50">
                ${style}
                ${paths}
              </svg>
            `;
        } else {

        return variables.state_on && variables.timeout > 50000
            ? `
              <svg viewBox="0 0 50 50">
                ${paths}
              </svg>
            `
            : `
              <svg viewBox="0 0 50 50">
                <path fill="#9da0a2" d="M25 18.6c-4.6 0-8.4 3.8-8.4 8.4s3.8 8.4 8.4 8.4 8.4-3.8 8.4-8.4-3.7-8.4-8.4-8.4zm0 11.7a3.33 3.33 0 0 1-3.3-3.3 3.33 3.33 0 0 1 3.3-3.3 3.33 3.33 0 0 1 3.3 3.3c0 1.8-1.4 3.3-3.3 3.3zM39.2 1H10.9C9.4 1 8.3 2.1 8.3 3.6v42.9a2.65 2.65 0 0 0 2.6 2.6h28.3a2.65 2.65 0 0 0 2.6-2.6v-43C41.7 2 40.5.9 39.2 1zM25 7c1.3 0 2.4 1.1 2.4 2.4s-1.1 2.4-2.4 2.4-2.4-1.1-2.4-2.4S23.7 7 25 7zm10.3 35.5l-.4 1.9s-.2.6-.6.6H15.8c-.4 0-.6-.6-.6-.6l-.4-1.9c-.2-.9.6-.9.6-.9h19.3s.9.1.6.9zM25 38.2c-6.2 0-11.3-5.1-11.3-11.3a11.29 11.29 0 1 1 22.6 0c.1 6.3-5 11.3-11.3 11.3z"/>
              </svg>
            `;
        }
      ]]]

icon_lamp:
  styles:
    custom_fields:
      icon:
        - width: 79%
        - margin-left: -16%
  custom_fields:
    icon: >
      [[[
        let state = variables.state_on && variables.timeout < 50000 ? 'on' : null;
        return `
          <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                0% {
                  transform: scale(0.85);
                }
                20% {
                  transform: scale(1.1);
                }
                40% {
                  transform: scale(0.95);
                }
                60% {
                  transform: scale(1.03);
                }
                80% {
                  transform: scale(0.97);
                }
              }
              .on {
                animation: on 0.8s;
                transform-origin: center;
              }
            </style>
            <path fill="#9da0a2" d="M26.5 21.8l3.8-6.1H19.7l3.8 6.1c-5 .7-6.3 5.8-5.7 10.2.7 5.1 3.2 10.1 5.7 14.4H19v2.5h11.8v-2.5h-4.5C29 42 31.4 37 32.1 32c.6-4.4-.6-9.4-5.6-10.2zm3.1 9.1c-.3 4.3-2.3 8.7-4.4 12.4l-.2.1v.1-.1c-1.8-3-3.3-6.4-4.1-9.7-.7-3.1-1-7.2 2.7-8.4 1.4-.5 3.1-.1 4.2.8 1.6 1 1.8 3 1.8 4.8z"/>
            <path class="${state} light-color" d="M38.1 20L35.7 3.8c-.3-1.9-.4-1.7-.6-2-.9-.6-2.3-.7-2.3-.7H17.4s-1.4 0-2.3.7c-.2.3-.3.1-.6 2C14 5.7 11.9 20 11.9 20s5.8.3 13.4.3h0c7.3 0 12.8-.3 12.8-.3z"/>
          </svg>
        `;
      ]]]

icon_climate:
  styles:
    custom_fields:
      icon:
        - width: 78%
        - margin-left: -10%
        - fill: >
            [[[ return variables.state === 'heating' || variables.state === 'off' ? '#ff8100' : '#9da0a2'; ]]]

  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <path d="M36.8 1.2v1.7a5.34 5.34 0 0 1-5.3 5.3H18.4a5.34 5.34 0 0 1-5.3-5.3V1.2c-2.6.4-4.7 2.8-4.7 5.6v36.5c0 3.1 2.6 5.7 5.7 5.7h21.8c3.1 0 5.7-2.6 5.7-5.7V6.8c0-2.8-2.1-5.2-4.8-5.6zm-1.7 35.6c-.2 0-.4 0-.5-.1-.4-.1-1.2-.2-2.4-.6-.5-.2-.8-.3-1.2-.4-.3-.1-.7-.3-1.4-.5-1-.4-1.5-.5-1.9-.6-.5-.1-1.1-.2-1.9-.2s-1.4.2-1.9.4c-1 .3-1.8.7-2.1.9l-.6.3a9.75 9.75 0 0 1-1.4.6c-.3.1-.9.3-1.6.3h-.3c-.4 0-1 0-2-.2-.3-.1-.6-.1-.8-.2v-2.7l1.3.3c.5.1 1.3.2 1.7.2.5 0 .9-.2 1.1-.2.4-.1.6-.2 1-.4.2-.1.4-.2.7-.4.4-.2 1.3-.7 2.5-1 .6-.2 1.4-.4 2.5-.5s2 .1 2.5.2c.6.1 1.2.3 2.2.7l1.5.5c.3.1.6.2 1 .4 1 .3 1.8.5 2.1.5h.1v2.7zm0-6c-.2 0-.4 0-.5-.1-.4-.1-1.2-.2-2.4-.6-.5-.2-.8-.3-1.2-.4-.3-.1-.7-.3-1.4-.5-1-.4-1.5-.5-1.9-.6-.5-.1-1.1-.2-1.9-.2s-1.4.2-1.9.4c-1 .3-1.8.7-2.1.9l-.6.3a9.75 9.75 0 0 1-1.4.6c-.3.1-.9.3-1.6.3h-.3c-.4 0-1 0-2-.2-.3-.1-.6-.1-.8-.2v-2.7l1.3.3c.5.1 1.3.2 1.7.2.5 0 .9-.2 1.1-.2.4-.1.6-.2 1-.4.2-.1.4-.2.7-.4.4-.2 1.3-.7 2.5-1 .6-.2 1.4-.4 2.5-.5s2 .1 2.5.2c.6.1 1.2.3 2.2.7l1.5.5c.3.1.6.2 1 .4 1 .3 1.8.5 2.1.5h.1v2.7zm0-6c-.2 0-.4 0-.5-.1-.4-.1-1.2-.2-2.4-.6-.5-.2-.8-.3-1.2-.4-.3-.1-.7-.3-1.4-.5-1-.4-1.5-.5-1.9-.6-.5-.1-1.1-.2-1.9-.2s-1.4.2-1.9.4c-1 .3-1.8.7-2.1.9l-.6.3c-.4.2-.8.4-1.4.6-.3.1-.9.3-1.6.3h-.3c-.4 0-1 0-2-.2-.3-.1-.6-.1-.8-.2v-2.7l1.3.3c.5.1 1.3.2 1.7.2.5 0 .9-.2 1.1-.2.4-.1.6-.2 1-.4.2-.1.4-.2.7-.4.4-.2 1.3-.7 2.5-1 .6-.2 1.4-.4 2.5-.5s2 .1 2.5.2c.6.1 1.2.3 2.2.7l1.5.5c.3.1.6.2 1 .4 1 .3 1.8.5 2.1.5h.1v2.7zM15.7 1.9v-.8h18.6V3c0 1.5-1.2 2.8-2.8 2.8H18.4c-1.5 0-2.8-1.2-2.8-2.8V1.9z"/>
      </svg>

icon_bathroom:
  styles:
    custom_fields:
      icon:
        - width: 78%
        - margin-left: -10%

  custom_fields:
    icon: >
      [[[
        let style = `
              <style>
                @keyframes on {
                  0% {
                    transform: rotateZ(0deg) translate(0%, 0%);
                  }
                  100% {
                    transform: rotateZ(-90deg) translate(-1.5%, 0%);
                  }
                }
                .on {
                  animation: on;
                  animation-duration: 1s;
                  animation-fill-mode: forwards;
                  transform-origin: 45% 41%;
                  transition-timing-function: cubic-bezier(0.85, 0, 0.15, 1);
                }
                .on_timeout {
                  transform: rotateZ(-90deg) translate(-1.5%, 0%);
                  animation-delay: 0.05s;
                  transform-origin: 45% 41%;
                }
                @keyframes off {
                  0% {
                    transform: rotateZ(-90deg) translate(-1.5%, 0%);
                  }
                  45% {
                    transform: rotateZ(-40deg);
                  }
                  55% {
                    transform: rotateZ(0deg);
                  }
                  65% {
                    transform: rotateZ(-15deg);
                  }
                  75% {
                    transform: rotateZ(0deg);
                  }
                  85% {
                    transform: rotateZ(-5deg);
                  }
                  95% {
                    transform: rotateZ(0deg);
                  }
                }
                .off {
                  animation: off;
                  animation-duration: 0.5s;
                  animation-delay: 0.05s;
                  animation-fill-mode: forwards;
                  transform-origin: 45% 41%;
                }
              </style>
            `,
            path = `
              <path d="M12.9 1.2h2.5c1.6 0 2.9 1.3 2.9 2.9v18.6c0 1.4 1.1 2.5 2.4 2.5h20.5c.5 0 1 .4.9 1-.1 2.6-1.2 9.6-10.2 11v7.6c0 .2.2.4.4.4h1.5a1.58 1.58 0 0 1 1.6 1.6v.3a1.58 1.58 0 0 1-1.6 1.6H11a1.58 1.58 0 0 1-1.6-1.6v-.3a1.58 1.58 0 0 1 1.6-1.6h1.6c.2 0 .4-.2.4-.4v-7.6s-5.2-.3-5.2-5.9V4.2c0-1.6 1.3-2.9 2.9-2.9l2.2-.1c0 .1 0 0 0 0z"/>
            `;
      if (entity) {
        if (variables.state_on && variables.timeout < 50000) {
          return `
            <svg viewBox="0 0 50 50">
              ${style}
              <g class="light-color">
                ${path}
                <path class="on" d="M22.3 18.8h18.3a1.58 1.58 0 0 1 1.6 1.6v.6a1.58 1.58 0 0 1-1.6 1.6h-19c-.4 0-.7-.3-.8-.7v-2.3c0-.4.3-.7.7-.8h.8z"/>
              </g>
            </svg>
          `;
        }
        if (variables.state_on && variables.timeout > 50000) {
          return `
            <svg viewBox="0 0 50 50">
              ${style}
              <g class="light-color">
                ${path}
                <path class="on_timeout" d="M22.3 18.8h18.3a1.58 1.58 0 0 1 1.6 1.6v.6a1.58 1.58 0 0 1-1.6 1.6h-19c-.4 0-.7-.3-.8-.7v-2.3c0-.4.3-.7.7-.8h.8z"/>
              </g>
            </svg>
          `;
        }
        if (!variables.state_on || variables.state === 'no' || variables.state === 'off' && variables.timeout < 50000) {
            return `
              <svg viewBox="0 0 50 50">
                ${style}
                <g class="light-color">
                  ${path}
                  <path class="off" d="M22.3 18.8h18.3a1.58 1.58 0 0 1 1.6 1.6v.6a1.58 1.58 0 0 1-1.6 1.6h-19c-.4 0-.7-.3-.8-.7v-2.3c0-.4.3-.7.7-.8h.8z"/>
                </g>
              </svg>
              `;
          } else {
              return `
                <svg viewBox="0 0 50 50">
                  ${style}
                  <g class="light-color">
                  ${path}
                    <path d="M22.3 18.8h18.3a1.58 1.58 0 0 1 1.6 1.6v.6a1.58 1.58 0 0 1-1.6 1.6h-19c-.4 0-.7-.3-.8-.7v-2.3c0-.4.3-.7.7-.8h.8z"/>
                  </g>
                </svg>
              `;
          }
        }
      ]]]

icon_fan2:
  styles:
    custom_fields:
      icon:
        - width: 75%
        - margin-left: -3%
  custom_fields:
    icon: >
      [[[
        let path = `
          <circle cx="25" cy="25" r="6.6"/>
          <path d="M31.9 30.4c-.5.6-1.1 1.1-1.7 1.5-1.4 1.1-3.2 1.7-5.2 1.7-2.3 0-4.5-.9-6-2.4-.9 1.1-1.6 2.3-2.3 3.2l-4.9 5.4c-1.8 2.7.3 5.6 2.5 7 3.9 2.4 9.8 3.1 14.1 1.9 4.6-1.3 7.9-4.7 7.4-9.7-.2-3.4-1.9-6-3.9-8.6zM17 28.3c-.4-1-.6-2.1-.6-3.3a8.7 8.7 0 0 1 6.4-8.4l-1.6-3.5L19 6.2c-1.5-2.8-5-2.5-7.3-1.2-4 2.2-7.5 6.9-8.7 11.3-1.2 4.6.2 9.2 4.7 11.3 3.1 1.3 6.1 1.2 9.3.7zm26.9-17.6c-3.3-3.4-8-4.6-12.1-1.8-2.8 1.8-4.2 4.6-5.5 7.5 4.2.6 7.4 4.2 7.4 8.6 0 .9-.1 1.7-.4 2.5 1.3.2 2.8.3 3.8.4 2.3.4 4.7 1.3 7.1 1.7 3.2.3 4.7-3 4.8-5.6.3-4.6-1.9-10.1-5.1-13.3z"/>
        `,
        style = `
          <svg viewBox="0 0 50 50">
            <style>
              @keyframes rotate {
                0% {
                  visibility: visible;
                  transform: rotate(0deg) translateZ(0);
                }
                100% {
                  transform: rotate(1080deg) translateZ(0);
                }
              }
              .start {
                animation: rotate 2.8s ease-in;
                transform-origin: center;
                fill: #5daeea;
                visibility: hidden;
                will-change: transform;
              }
              .on {
                animation: rotate 1.8s linear infinite;
                transform-origin: center;
                fill: #5daeea;
                animation-delay: 2.8s;
                visibility: hidden;
                will-change: transform;
              }
              .end {
                animation: rotate 2.8s;
                transform-origin: center;
                fill: #9ca2a5;
                animation-timing-function: cubic-bezier(0.61, 1, 0.88, 1);
                will-change: transform;
              }
              .start_timeout {
                animation: rotate 1.8s linear infinite;
                transform-origin: center;
                fill: #5daeea;
                visibility: hidden;
                will-change: transform;
              }
              .end_timeout {
                fill: #9ca2a5;
              }
            </style>
        `;
        if (entity) {
          if (variables.state_on && variables.timeout < 50000) {
            return `${style}<g class="start">${path}</g><g class="on">${path}</g></svg>`;
          }
          if (!variables.state_on && variables.timeout < 50000) {
              return `${style}<g class="end">${path}</g></svg>`;
          }
          if (variables.state_on && variables.timeout > 50000) {
            return `${style}<g class="start_timeout">${path}</g></svg>`;
          } else {
            return `${style}<g class="end_timeout">${path}</g></svg>`;
          }
        }
      ]]]

icon_closet:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - margin-left: -16%
  custom_fields:
    icon: >
      [[[
        let room = `d="M11.4,1.4h27.2v43.1H11.4V1.4z" fill="#bcbcbc"`,
          door = `d="M11.4 1.4v43.1h27.2V1.4H11.4zm23 23.4c0 1.1-.9 1.9-1.9 1.9h0c-1.1 0-1.9-.9-1.9-1.9V21c0-1.1.9-1.9 1.9-1.9h0c1.1 0 1.9.9 1.9 1.9v3.8z"`;

        if (variables.state_on && variables.timeout < 50000) {
          return `
            <style>
              .state {
                animation: state 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
              }
              .opacity {
                animation: opacity 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
              }
              @keyframes state {
                0% {
                  transform: none;
                  fill: #9da0a2;
                }
                100% {
                  transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                  fill: #b68349;
                }
              }
              @keyframes opacity {
                0% {
                  opacity: 0;
                }
                100% {
                  opacity: 1;
                }
              }
            </style>
            <svg viewBox="0 0 50 50">
              <path class="opacity" ${room}/>
              <path class="state" ${door}/>
            </svg>
          `;
        }

        if (variables.state_on && variables.timeout > 50000) {
          return `
            <svg viewBox="0 0 50 50">
              <style>
                .state_timeout_on {
                  transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                  fill: #b68349;
                }
              </style>
              <path ${room}/>
              <path class="state_timeout_on" ${door}/>
            </svg>
          `;
        } else {

        return variables.state === 'off' && variables.timeout < 50000 ? `
          <style>
            .state {
              animation: state 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
            }
            .opacity {
              animation: opacity 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
            }
            .reverse {
              animation-direction: reverse;
            }
            @keyframes state {
              0% {
                transform: none;
                fill: #9da0a2;
              }
              100% {
                transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                fill: #b68349;
              }
            }
            @keyframes opacity {
              0% {
                opacity: 0;
              }
              100% {
                opacity: 1;
              }
            }
          </style>
          <svg viewBox="0 0 50 50">
            <path class="opacity reverse" ${room}/>
            <path class="state reverse" ${door}/>
          </svg>
        ` : `
          <svg viewBox="0 0 50 50">
            <style>
              .state_timeout_off {
                fill: var(--state-icon-color);
              }
            </style>
            <path class="state_timeout_off" ${door}/>
          </svg>
        `;
        }
      ]]]

icon_away:
  state_display: Auto
  styles:
    card:
      - transition: all 0.3s ease-out
    custom_fields:
      icon:
        - width: 79%
        - margin-left: -1%
        - margin-top: -1%
        - fill: >
            [[[ return variables.state_on ? '#516d82' : '#9da0a2'; ]]]

  custom_fields:
    icon: >
      [[[
        let state = variables.state_on ? 'on' : null;
        return `
          <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                10%,
                20%,
                100% {
                  transform: rotateZ(0deg);
                }
                30%,
                50%,
                70% {
                  transform: rotateZ(7deg);
                }
                90% {
                  transform: rotateZ(3deg);
                }
                40%,
                60%,
                80% {
                  transform: rotateZ(-7deg);
                }
              }
              .on {
                animation: on 1.35s cubic-bezier(0.5, 1, 0.89, 1);
                animation-fill-mode: both;
                transform-origin: 70% 80%;
                animation-delay: 0s;
              }
            </style>
            <path class="${state}" d="M32.1 18.4s.3-1.6.7-2.1c.3-.6.9-1.4 1.6-1.8.6-.4 1.1-.7 1.4-.7s.7-.1 1 .1.6.4.8 1.3l.3 2.7.1 2.4.2 4.1c0 .3.2 3.1.2 3.3s.2 2.7.2 3.2l-.1 2.5c.1 1.6.5 3.1-.2 4.6-.6 1.4-1.7 2.7-2.9 3.6-.5.4-1.9 1.3-2.9 1.7-1.1.5-2.2.8-3.3 1.1-.5.1-1.4.4-2.3.3s-1.8-.6-2.1-1l-1.6-2.3c-.6-.8-2.1-2.3-2.3-2.5l-2.7-2.8c-.2-.2-2.7-3.5-2.9-3.8l-3.1-4.7-1.8-3.2-1.5-2.8-.9-1.8c-.1-.2-.3-1.1-.2-1.4.3-1.2 1.4-1.4 2.3-.7.3.2.9 1 1.1 1.3s6.1 8.1 6.1 8.1c.2.3.7.3.9 0s-.1-.7-.2-.9c-.4-.6-8.3-11.5-8.3-11.5s-.6-.9-.7-1.1c-.3-1.1 0-2.3 1.1-2.7s1.9.3 2.6 1.1c.3.3 8.3 11.5 8.3 11.5.2.2.3.3.5.3.3 0 .5-.4.4-.7-.1-.2-.5-.9-.5-.9L11.8 9c-.6-1-.9-2-.1-3 .7-.8 2.2-1.3 3-.2.3.3 10.1 14.3 10.1 14.3.2.2.5.4.7.3.5-.1.3-.7.1-1-.1-.2-8.4-11.8-8.4-11.8-.4-.9-.6-2 .2-2.8 1-1.1 2.5-.5 3.3.5.2.3 1 1.4 1 1.4l2.7 3.7c.1.2 3.4 4.4 3.8 4.8.9 1.1 1.8 2.2 2.7 3.2l.5.5c.1.1.1.4.1.8 0 1.3.1 2.6.1 3.9 0 .2.1.4.2.6.3.3.6.1.7-.2.1-.2 0-2.4 0-2.7-.3-.3-.5-1.3-.4-2.9zM12.2 46.9s-2.8-.8-4.8-2.7-2.6-2.7-2.8-3-1.8-3-2-3.6c-.2-.5-.2-.7.2-1 .4-.4 1-.5 1.3.1.1.2.4 1 .5 1.2s1 1.9 1.7 2.8 1.6 2.2 4.4 3.8c.6.3 1.2.6 1.9.9.3.1.6.2.8.4.1.2.1.6-.1.8-.2.4-.7.4-1.1.3zM7.1 30.7l.9 3.1c.3.7 1.1 2.3 1.9 3.3s2.4 2.6 3.4 3.2 2 1.1 3 1.5c1 .3 1.1.4 1.2.5.3.4.2 1.2-.4 1.3-.2 0-1.2 0-1.8-.3L12 41.7c-.5-.4-3.9-3.1-5.1-6S5.3 31 5.2 30.4s-.2-1.1 0-1.4c.3-.4.9-.8 1.3-.3.2.3.3.6.3.9.1 0 .2.8.3 1.1zm26.8-25s.2-.1.5-.1.8.3 1.4.7 1.9 1 3.6 2.9 2.9 3.9 3.4 5.8c.5 1.8.8 3.1.9 5.5 0 .5.1 1.6 0 1.7-.2.5-.5.7-1 .7-.6 0-.7-.5-.7-1l-.1-2.9c-.1-.6-.3-1.9-.7-2.9-.3-1-.7-2.3-1.7-3.6-.9-1.3-2.1-2.8-3.2-3.5l-2.4-1.5c-.6-.6-.7-1.2 0-1.8zm4.9-2.5s.3-.2.5-.1c.2 0 .7.3.9.4s2.1 1.3 3.6 3c1.5 1.6 3.5 5.1 3.7 7.4.1.4.2.9 0 1-.2.2-.4.4-.7.4-.2 0-.5 0-.7-.1-.1-.2-.4-1.1-.4-1.3s-.6-2-1.1-3.1C44 9.7 43.5 8.5 42 7.1s-2.2-1.9-2.8-2.2-1.1-.6-1.1-1c.1-.3.3-.6.7-.7z"/>
          </svg>
        `;
      ]]]

icon_home:
  state_display: Auto
  styles:
    card:
      - transition: all 0.3s ease-out
    custom_fields:
      icon:
        - width: 72%
        - margin-left: -1%
        - fill: >
            [[[ return variables.state_on ? '#c7983e' : '#9da0a2'; ]]]

  custom_fields:
    icon: >
      [[[
        let state = variables.state_on ? 'on' : null;
        return `
          <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                from,
                20%,
                40%,
                60%,
                80%,
                to {
                  animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
                }
                0% {
                  transform: scale(0.3);
                }
                20% {
                  transform: scale(1.1);
                }
                40% {
                  transform: scale(0.9);
                }
                60% {
                  transform: scale(1.03);
                }
                80% {
                  transform: scale(0.97);
                }
                to {
                  transform: scale(1);
                }
              }
              .on {
                animation: on 1s;
                transform-origin: center;
              }
            </style>
            <path class="${state}" d="M42.2 28.3c0-.8-.2-1-.2-1L26 12.1s-.5-.4-1-.4-1 .3-1 .3L8.2 27.1c-.4.5-.4.9-.4.9v18.3c0 1.1.9 2 1.9 2h8.2a1.47 1.47 0 0 0 1.5-1.5v-14a1.47 1.47 0 0 1 1.5-1.5h8.4a1.47 1.47 0 0 1 1.5 1.5v14a1.47 1.47 0 0 0 1.5 1.5h8.2c1.1 0 2-.9 2-1.9 0-.2-.3-18.1-.3-18.1zM7.3 25l-1.6 1.5s-.3.3-.5.3-.5 0-.8-.2c-.2-.2-2-2.8-2-2.8s-.1-.4-.1-.7c.1-.3.2-.7.3-.8.4-.1 21.5-20.1 21.5-20.1s.4-.3.9-.3c.4 0 .8.1.9.2s.5.4.5.4l8.9 8.5V6s.1-.4.2-.7c.1-.2.3-.3.4-.3s.3-.1.3-.1h3s.3.1.4.3a1.08 1.08 0 0 1 .3.7v9.8l7.2 6.9s.2.3.3.4c.1.2.1.7.1.7 0 .1-.1.4-.2.5s-1.6 2.5-1.6 2.5-.1.3-.3.3c-.2.1-.4.1-.7 0-.2-.1-.5-.4-.5-.4L26.4 9.4s-.3-.3-.5-.4-.4-.2-.8-.2-.5.1-.8.1c-.1.1-.4.3-.7.5C23.3 9.8 7.3 25 7.3 25z"/>
          </svg>
        `;
      ]]]

icon_tv:
  styles:
    custom_fields:
      icon:
        - width: 87%
        - margin-top: -8%
        - fill: >
            [[[
              return variables.state_on
                  ? '#616161'
                  : '#9da0a2';
            ]]]

  custom_fields:
    icon: >
      [[[
      if (entity) {
        let
          styles = `
            <style>
              @keyframes on {
                from {
                  transform: scaleY(0);
                }
                to {
                  transform: scaleY(1);
                }
              }
              .on {
                animation: on;
                animation-duration: 1000ms;
                transform-origin: -100% 46%;
                animation-fill-mode: forwards;
              }
              @keyframes off {
                from {
                  transform: scaleY(1);
                }
                to {
                  transform: scaleY(0);
                }
              }
              .off {
                animation: off;
                animation-duration: 1500ms;
                transform-origin: -100% 46%;
                animation-fill-mode: both;
              }
            </style>
          `,
          path = `
            <path d="M46 9.2v27.5H4.1V9.2H46m2.4-2.4H1.6v32.3h46.7c.1 0 .1-32.3.1-32.3zM11.9 43.2h26.3c.6 0 1.1-.4 1.1-1v-.3c0-.6-.4-1.1-1-1.1H11.9c-.6 0-1.1.4-1.1 1v.3a1.11 1.11 0 0 0 1.1 1.1z"/>
          `,
          gradient = `
            <linearGradient id="A" gradientUnits="userSpaceOnUse" x1="5.401" y1="34.714" x2="43.817" y2="11.74">
              <stop offset="0" stop-color="#64acb7"/>
              <stop offset="1" stop-color="#7fdbe9"/>
            </linearGradient>
          `;
        if (variables.state_on && variables.timeout < 50000) {
            return `
              <svg viewBox="0 0 50 50">
                ${styles}
                ${gradient}
                <path d="M2.9,8h44.3v29.9H2.9V8z" fill="#20262890"/>
                <path class="on" d="M2.9,8h44.3v29.9H2.9V8z" fill="url(#A)"/>
                ${path}
              </svg>
            `;
          }
        if (variables.state_on && variables.timeout > 50000) {
            return `
              <svg viewBox="0 0 50 50">
                ${styles}
                ${gradient}
                <path d="M2.9,8h44.3v29.9H2.9V8z" fill="#20262890"/>
                <path class="on" d="M2.9,8h44.3v29.9H2.9V8z" fill="url(#A)"/> ${path}
              </svg>
            `;
          }
        if (variables.state === 'off' && variables.timeout < 50000) {
            return `
              <svg viewBox="0 0 50 50">
              ${styles}
              ${gradient}
                <path class="off" d="M2.9,8h44.3v29.9H2.9V8z" fill="url(#A)"/>
              ${path}
              </svg>
            `;
          } else {
              return `
                <svg viewBox="0 0 50 50">
                  ${styles}
                  <path opacity="0.5" d="m 26.218589,13.984542 h -2 v 9.999843 h 2 v -9.999843 m 4.830002,2.169966 -1.42,1.419977 a 6.944,6.9438911 0 0 1 2.59,5.409916 7,6.9998902 0 0 1 -7.000002,6.999892 6.995,6.9948902 0 0 1 -4.42,-12.419807 l -1.41,-1.409978 a 9.001,9.0008588 0 0 0 -1.03,12.689803 c 3.22,3.779941 8.9,4.239934 12.690002,1.019984 a 9.003,9.0028588 0 0 0 3.17,-6.879894 c 0,-2.629959 -1.16,-5.12992 -3.17,-6.829893 z"/>
                  ${path}
                </svg>
              `;
          }
        }
      ]]]

icon_camera_stream:
  styles:
    custom_fields:
      icon:
        - top: -9%
        - width: 5%
        - height: 15%
        - position: absolute
        - fill: '#dedede'
  custom_fields:
    icon: >
      [[[
        let style = `
          <style>
            .scale-up {
              animation: scale-up 2s forwards;
              cubic-bezier(.05, .5, .3, 1);
              transform-origin: center center;
            }
            @keyframes scale-up {
              0% {
                opacity: 0;
                transform: scale(0);
              }
              20% {
                transform: scale(1);
              }
              30% {
                opacity: 1;
              }
              80% {
                opacity: 1;
              }
              100% {
                opacity: 0;
              }
            }
          </style>
        `,
            paused = `
          <style>
            .scale-up {
              animation: scale-up 2s forwards;
              cubic-bezier(.05, .5, .3, 1);
              transform-origin: center center;
            }
            @keyframes scale-up {
              0% {
                opacity: 0;
                transform: scale(0);
              }
              20% {
                transform: scale(1);
              }
              30% {
                opacity: 1;
              }
              80% {
                opacity: 1;
              }
              100% {
                opacity: 0.5;
              }
            }
          </style>
        `;
        if (variables.state === 'idle')
            return `
              <svg viewBox="0 0 166 166">${paused}
                  <path class="scale-up" d="M0 0h59.9v166H0zm106.1 0H166v166h-59.9z"/>
              </svg>
            `;
        if (variables.state === 'streaming' && variables.timeout < 50000)
            return `
              <svg viewBox="0 0 166 166">${style}
                  <path class="scale-up" d="M0 0l166 83L0 166z"/>
              </svg>
          `;
      ]]]

icon_spot:
  styles:
    custom_fields:
      icon:
        - width: 70%
        - margin-top: -20%
        - margin-left: -30%
  custom_fields:
    icon: >
      [[[
        let state;
        if (variables.state_on  && variables.timeout < 50000) {
            state = 'on';
        }
        if (variables.state === 'off' || variables.state === 'idle' && variables.timeout < 50000) {
            state = 'off';
        }
        if (variables.state_on && variables.timeout > 50000) {
            state = 'on_timeout';
        }
        return `
          <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                0% {
                  transform: rotateZ(0deg);
                  animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);
                }
                70% {
                  transform: rotateZ(-15deg);
                  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                }
                75% {
                  transform: rotateZ(-15deg);
                  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                }
                88% {
                  transform: rotateZ(-11deg);
                }
                100% {
                  transform: rotateZ(-15deg);
                }
              }
              @keyframes off {
                0% {
                  transform: rotateZ(-15deg);
                  animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);
                }
                70% {
                  transform: rotateZ(0deg);
                  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                }
                75% {
                  transform: rotateZ(0deg);
                  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                }
                88% {
                  transform: rotateZ(-4deg);
                }
                100% {
                  transform: rotateZ(0deg);
                }
              }
              .on {
                animation: on 0.7s;
                transform-origin: 40% 20%;
                animation-fill-mode: forwards;
                animation-delay: -0.1s;
              }
              .off {
                animation: off 0.7s;
                transform-origin: 40% 20%;
                animation-fill-mode: forwards;
              }
              .on_timeout {
                transform: rotateZ(-15deg);
                transform-origin: 40% 20%;
              }
            </style>
            <path style="clip-path: url(#mask);" fill="#9da0a2" d="M40.5.8H17.1c-.1 0-.1 0-.1.1A3.12 3.12 0 0 0 20.1 4h6.1c.1 0 .1 0 .1.1v7.4L18 19.1l3.6 3.5 9.1-8.6c.4-.4.6-1 .7-1.6V4c0-.1 0-.1.1-.1h6c1.7.1 3.1-1.3 3-3.1z"/>
            <defs>
              <clipPath id="mask">
                <path class="${state}" d="M0 9.1h24l8.3 8.8H50V-9H0z"/>
              </clipPath>
            </defs>
            <path class="${state} light-color" d="M25.5 46.4s1.4.5 10.4-8.2c.5-.4 6.3-6.3 5.8-7.1-.7-.8-18.6-19.5-18.6-19.5s-.6-.9-8.6 6.4c-.6.5-8.7 8-7.7 9.1l18.7 19.3z"/>
          </svg>
        `;
      ]]]

icon_spot_cam:
  styles:
    custom_fields:
      icon:
        - width: 74%
        - margin-top: -15%
        - margin-left: -20%
  custom_fields:
    icon: >
      [[[
        let state;
        if (variables.state_on  && variables.timeout < 50000) {
            state = 'on';
        }
        if (variables.state === 'off' || variables.state === 'idle' && variables.timeout < 50000) {
            state = 'off';
        }
        if (variables.state_on && variables.timeout > 50000) {
            state = 'on_timeout';
        }
        return `
          <svg viewBox="0 0 50 50" opacity="0.5">
            <style>
              @keyframes on {
                0% {
                  transform: rotateZ(0deg);
                  animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);
                }
                70% {
                  transform: rotateZ(-15deg);
                  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                }
                75% {
                  transform: rotateZ(-15deg);
                  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                }
                88% {
                  transform: rotateZ(-11deg);
                }
                100% {
                  transform: rotateZ(-15deg);
                }
              }
              @keyframes off {
                0% {
                  transform: rotateZ(-15deg);
                  animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);
                }
                70% {
                  transform: rotateZ(0deg);
                  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                }
                75% {
                  transform: rotateZ(0deg);
                  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                }
                88% {
                  transform: rotateZ(-4deg);
                }
                100% {
                  transform: rotateZ(0deg);
                }
              }
              .on {
                animation: on 0.7s;
                transform-origin: 40% 20%;
                animation-fill-mode: forwards;
                animation-delay: -0.1s;
              }
              .off {
                animation: off 0.7s;
                transform-origin: 40% 20%;
                animation-fill-mode: forwards;
              }
              .on_timeout {
                transform: rotateZ(-15deg);
                transform-origin: 40% 20%;
              }
            </style>
            <path style="clip-path: url(#mask);" fill="#9da0a2" d="M40.5.8H17.1c-.1 0-.1 0-.1.1A3.12 3.12 0 0 0 20.1 4h6.1c.1 0 .1 0 .1.1v7.4L18 19.1l3.6 3.5 9.1-8.6c.4-.4.6-1 .7-1.6V4c0-.1 0-.1.1-.1h6c1.7.1 3.1-1.3 3-3.1z"/>
            <defs>
              <clipPath id="mask">
                <path class="${state}" d="M0 9.1h24l8.3 8.8H50V-9H0z"/>
              </clipPath>
            </defs>
            <path class="${state} light-color" d="M25.5 46.4s1.4.5 10.4-8.2c.5-.4 6.3-6.3 5.8-7.1-.7-.8-18.6-19.5-18.6-19.5s-.6-.9-8.6 6.4c-.6.5-8.7 8-7.7 9.1l18.7 19.3z"/>
          </svg>
        `;
      ]]]

icon_cover_animate:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - fill: >
            [[[
              return (variables.state_on || variables.current_tilt_position !== 0 )
                  ? '#3182b7'
                  : '#9da0a2';
            ]]]
  custom_fields:
    icon: >
      [[[
        let state;
        if (variables.state === 'opening' && variables.timeout < 50000) {
            state = 'on';
        }
        if (variables.state === 'closing' && variables.timeout < 50000 ) {
            state = 'off';
        }
        if (variables.state_on && variables.timeout > 50000) {
            state = 'on_timeout';
        }
        let style =
            `
            <style>
              @keyframes on {
                from {
                  transform: scaleY(0);
                }

                to {
                  transform: scaleY(1);
                }
              }

              @keyframes off {
                from {
                  transform: scaleY(1);
                }

                to {
                  transform: scaleY(0);
                }
              }

            .on {
              animation: off 10s ease-in infinite;
            }

            .off {
              animation: on 10s ease-out infinite;
            }
            </style>
            `,
            ram =
          `
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
          `,
            opened =
          `
            <path id="open1"
              d="M41.71,5.95H10.2c-1,0-1.66,.23-2.24,.77l-1.87,1.86c-.66,.64-.42,1.87,.67,1.87h31.53c1,0,1.66-.23,2.24-.77l1.87-1.87c.66-.64,.42-1.86-.69-1.86Z" />
            <path id="open2"
              d="M41.71,16.71H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.63-.42,1.84,.67,1.84h31.53c1,0,1.66-.22,2.24-.77l1.87-1.87c.66-.62,.42-1.84-.69-1.84Z" />
            <path id="open3"
              d="M41.71,38.17H10.2c-1,0-1.66,.23-2.24,.79l-1.87,1.86c-.66,.62-.42,1.87,.67,1.87h31.53c1,0,1.66-.25,2.24-.8l1.87-1.85c.66-.64,.42-1.86-.69-1.86Z" />
            <path id="open4"
              d="M41.71,27.45H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.64-.42,1.86,.67,1.86h31.53c1,0,1.66-.25,2.24-.79l1.87-1.86c.66-.62,.42-1.85-.69-1.85Z" />
            `,
              closed =
            `
              <path id="closed1"
                d="M41.08,6.05H7.56c-.97,0-1.59,.63-1.59,1.55v4.75c0,.94,.64,1.55,1.59,1.55H41.08c.99,0,1.59-.63,1.59-1.57V7.59c0-.93-.62-1.54-1.59-1.54Z" />
              <path id="closed2"
                d="M41.08,25.46H7.56c-.95,0-1.59,.63-1.59,1.53v4.77c0,.93,.62,1.55,1.59,1.55H41.08c.99,0,1.59-.62,1.59-1.55v-4.78c0-.89-.6-1.51-1.59-1.51Z" />
              <path id="closed3"
                d="M41.08,35.17H7.56c-.98,0-1.58,.61-1.58,1.55v4.73c0,.94,.6,1.56,1.57,1.56H41.06c.97,0,1.61-.62,1.61-1.56v-4.73c0-.95-.62-1.55-1.59-1.55Z" />
              <path id="closed4"
                d="M41.1,15.76H7.56c-.95,0-1.59,.63-1.59,1.54v4.77c0,.91,.62,1.52,1.59,1.52H41.09c.96,0,1.58-.62,1.58-1.52v-4.79c0-.9-.62-1.52-1.58-1.52Z" />
            `;
      if (variables.state_on ||  variables.current_tilt_position == 100 && variables.current_position == 0)
        return `
          <svg viewBox="0 0 50 50">
            ${style}
            ${ram}
            <g class="${state}" id="open">
              ${opened}
            </g>
          </svg>`;
        else return `
          <svg viewBox="0 0 50 50">
            ${style}
            ${ram}
            <g>
              ${closed}
            </g>
          </svg>`;
      ]]]

icon_cover:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - fill: >
            [[[
              return (variables.state_on || variables.current_tilt_position !== 0 )
                  ? '#3182b7'
                  : '#9da0a2';
            ]]]
  custom_fields:
    icon: >
      [[[
        if (states[entity.entity_id].attributes.current_tilt_position !== 0 || states[entity.entity_id].attributes.current_position !== 0 || variables.state == 'open')
          return `
            <svg viewBox="0 0 50 50">
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
            <g id="open">
              <path id="open1"
                d="M41.71,5.95H10.2c-1,0-1.66,.23-2.24,.77l-1.87,1.86c-.66,.64-.42,1.87,.67,1.87h31.53c1,0,1.66-.23,2.24-.77l1.87-1.87c.66-.64,.42-1.86-.69-1.86Z" />
              <path id="open2"
                d="M41.71,16.71H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.63-.42,1.84,.67,1.84h31.53c1,0,1.66-.22,2.24-.77l1.87-1.87c.66-.62,.42-1.84-.69-1.84Z" />
              <path id="open3"
                d="M41.71,38.17H10.2c-1,0-1.66,.23-2.24,.79l-1.87,1.86c-.66,.62-.42,1.87,.67,1.87h31.53c1,0,1.66-.25,2.24-.8l1.87-1.85c.66-.64,.42-1.86-.69-1.86Z" />
              <path id="open4"
                d="M41.71,27.45H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.64-.42,1.86,.67,1.86h31.53c1,0,1.66-.25,2.24-.79l1.87-1.86c.66-.62,.42-1.85-.69-1.85Z" />
            </g>
            </svg>`;
        if (variables.state == 'closed')
          return `
            <svg viewBox="0 0 50 50">
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
              <g id="close">
              <path id="closed1"
                d="M41.08,6.05H7.56c-.97,0-1.59,.63-1.59,1.55v4.75c0,.94,.64,1.55,1.59,1.55H41.08c.99,0,1.59-.63,1.59-1.57V7.59c0-.93-.62-1.54-1.59-1.54Z" />
              <path id="closed2"
                d="M41.08,25.46H7.56c-.95,0-1.59,.63-1.59,1.53v4.77c0,.93,.62,1.55,1.59,1.55H41.08c.99,0,1.59-.62,1.59-1.55v-4.78c0-.89-.6-1.51-1.59-1.51Z" />
              <path id="closed3"
                d="M41.08,35.17H7.56c-.98,0-1.58,.61-1.58,1.55v4.73c0,.94,.6,1.56,1.57,1.56H41.06c.97,0,1.61-.62,1.61-1.56v-4.73c0-.95-.62-1.55-1.59-1.55Z" />
              <path id="closed4"
                d="M41.1,15.76H7.56c-.95,0-1.59,.63-1.59,1.54v4.77c0,.91,.62,1.52,1.59,1.52H41.09c.96,0,1.58-.62,1.58-1.52v-4.79c0-.9-.62-1.52-1.58-1.52Z" />
            </g>
            </svg>`;
        if (variables.state == 'Opening')
          return `
            <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                from {
                  transform: scaleY(0);
                }

                to {
                  transform: scaleY(1);
                }
              }

              @keyframes off {
                from {
                  transform: scaleY(1);
                }

                to {
                  transform: scaleY(0);
                }
              }

            .opening {
              animation: off 10s;
              animation-timing-function: ease-in;
            }

            .closing {
              animation: on 10s;
              animation-timing-function: ease-out;
            }
            </style>
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
            <g class='opening' id="open">
              <path id="open1"
                d="M41.71,5.95H10.2c-1,0-1.66,.23-2.24,.77l-1.87,1.86c-.66,.64-.42,1.87,.67,1.87h31.53c1,0,1.66-.23,2.24-.77l1.87-1.87c.66-.64,.42-1.86-.69-1.86Z" />
              <path id="open2"
                d="M41.71,16.71H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.63-.42,1.84,.67,1.84h31.53c1,0,1.66-.22,2.24-.77l1.87-1.87c.66-.62,.42-1.84-.69-1.84Z" />
              <path id="open3"
                d="M41.71,38.17H10.2c-1,0-1.66,.23-2.24,.79l-1.87,1.86c-.66,.62-.42,1.87,.67,1.87h31.53c1,0,1.66-.25,2.24-.8l1.87-1.85c.66-.64,.42-1.86-.69-1.86Z" />
              <path id="open4"
                d="M41.71,27.45H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.64-.42,1.86,.67,1.86h31.53c1,0,1.66-.25,2.24-.79l1.87-1.86c.66-.62,.42-1.85-.69-1.85Z" />
            </g>
            </svg>`;
        if (variables.state == 'Closing')
          return `
            <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                from {
                  transform: scaleY(0);
                }

                to {
                  transform: scaleY(1);
                }
              }

              @keyframes off {
                from {
                  transform: scaleY(1);
                }

                to {
                  transform: scaleY(0);
                }
              }

              .opening {
                animation: off 10s;
                animation-timing-function: ease-in;
              }

              .closing {
                animation: on 10s;
                animation-timing-function: ease-out;
              }
            </style>
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
            <g class="closing" id="close">
              <path id="closed1"
                d="M41.08,6.05H7.56c-.97,0-1.59,.63-1.59,1.55v4.75c0,.94,.64,1.55,1.59,1.55H41.08c.99,0,1.59-.63,1.59-1.57V7.59c0-.93-.62-1.54-1.59-1.54Z" />
              <path id="closed2"
                d="M41.08,25.46H7.56c-.95,0-1.59,.63-1.59,1.53v4.77c0,.93,.62,1.55,1.59,1.55H41.08c.99,0,1.59-.62,1.59-1.55v-4.78c0-.89-.6-1.51-1.59-1.51Z" />
              <path id="closed3"
                d="M41.08,35.17H7.56c-.98,0-1.58,.61-1.58,1.55v4.73c0,.94,.6,1.56,1.57,1.56H41.06c.97,0,1.61-.62,1.61-1.56v-4.73c0-.95-.62-1.55-1.59-1.55Z" />
              <path id="closed4"
                d="M41.1,15.76H7.56c-.95,0-1.59,.63-1.59,1.54v4.77c0,.91,.62,1.52,1.59,1.52H41.09c.96,0,1.58-.62,1.58-1.52v-4.79c0-.9-.62-1.52-1.58-1.52Z" />
            </g>
            </svg>`;
        if (states[entity.entity_id].attributes.current_position === 0 && states[entity.entity_id].attributes.current_tilt_position === 0 )
          return `
            <svg viewBox="0 0 50 50">
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
              <g id="close">
              <path id="closed1"
                d="M41.08,6.05H7.56c-.97,0-1.59,.63-1.59,1.55v4.75c0,.94,.64,1.55,1.59,1.55H41.08c.99,0,1.59-.63,1.59-1.57V7.59c0-.93-.62-1.54-1.59-1.54Z" />
              <path id="closed2"
                d="M41.08,25.46H7.56c-.95,0-1.59,.63-1.59,1.53v4.77c0,.93,.62,1.55,1.59,1.55H41.08c.99,0,1.59-.62,1.59-1.55v-4.78c0-.89-.6-1.51-1.59-1.51Z" />
              <path id="closed3"
                d="M41.08,35.17H7.56c-.98,0-1.58,.61-1.58,1.55v4.73c0,.94,.6,1.56,1.57,1.56H41.06c.97,0,1.61-.62,1.61-1.56v-4.73c0-.95-.62-1.55-1.59-1.55Z" />
              <path id="closed4"
                d="M41.1,15.76H7.56c-.95,0-1.59,.63-1.59,1.54v4.77c0,.91,.62,1.52,1.59,1.52H41.09c.96,0,1.58-.62,1.58-1.52v-4.79c0-.9-.62-1.52-1.58-1.52Z" />
            </g>
            </svg>`;
      ]]]

icon_lock:
  styles:
    custom_fields:
      icon:
        - width: 80%
  custom_fields:
    icon: >
      [[[
        let color;
        if (variables.state === 'unlocked' && variables.timeout < 50000) {
          color = '#b68349';
        }
        if (variables.state === 'locked' && variables.timeout < 50000) {
          color = '#a0a0a0';
        }
        if (variables.state === 'unlocked' && variables.timeout > 50000) {
          color = '#b68349';
        }
        if (variables.state === 'locked' && variables.timeout > 50000) {
          color = '#a0a0a0';
        }
        let state;
        if (variables.state === 'unlocked' && variables.timeout < 50000) {
          state = 'on';
        }
        if (variables.state === 'locked' && variables.timeout < 50000) {
          state = 'off';
        }
        if (variables.state === 'unlocked' && variables.timeout > 50000) {
          state = 'on_timeout';
        }
        return `
          <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round" viewBox="0 0 612 512" xmlns="http://www.w3.org/2000/svg" xmlns:vectornator="http://vectornator.io" xmlns:xlink="http://www.w3.org/1999/xlink"><defs/><clipPath id="ArtboardFrame">
          <path d="M0 0h612v512H0z"/></clipPath><g clip-path="url(#ArtboardFrame)" id="Untitled" vectornator:layerName="Untitled">
                    <style>
            @keyframes off {
                0% {
                    transform: rotateY(180deg);
                    transform-origin: 310px bottom -50px;
                }
                100% {
                    transform: rotateY(0deg);
                }
              }
            @keyframes on {
                0% {
                    transform: rotateY(0deg)
                }
                100% {
                    transform: rotateY(180deg) ;
                    transform-origin: 305px bottom -200px;
                }
              }
            .on {
              animation: on 0.5s;

              animation-fill-mode: forwards;
              animation-delay: -0.1s;
            }
            .off {
              animation: off 0.5s;
              transform-origin: 40% 20%;
              animation-fill-mode: forwards;
            }
            .on_timeout {
              transform: rotateY(180deg) ;
              transform-origin: 305px bottom -200px;
            }
          </style>

          <path d="M25.529 185.393H367.228C381.097 185.393 392.341 197.098 392.341 211.537V487.706C392.341 502.145 381.097 513.85 367.228 513.85H25.529C11.6597 513.85.416354 502.145.416352 487.706V211.494C.416349 197.055 11.6597 185.35 25.529 185.35V185.393z" fill="${color}" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M175.744 367.312 148.665 441.169h95.386L218.938 366.179C239.362 355.207 249.806 331.009 244.124 307.825 238.442 284.641 218.139 268.611 195.162 269.167 172.186 269.723 152.62 286.719 147.98 310.153 143.339 333.587 154.853 357.254 175.744 367.225V367.312z" fill="#36464e" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path class="${state}" d="M336.913 181.305H293.793V145.384C293.945 118.423 283.677 92.4534 265.148 72.9335 247.611 54.0123 223.024 43.2642 197.277 43.2642 171.53 43.2642 146.942 54.0123 129.406 72.9335 110.876 92.4534 100.608 118.423 100.76 145.384V181.305H57.6403V145.384C57.5795 107.312 72.17 70.6868 98.3667 43.1524 123.999 15.7146 159.802.147898 197.277.147896 234.751.147896 270.554 15.7146 296.187 43.1524 322.404 70.6737 336.997 107.307 336.913 145.384c0 0 0 35.92100000000002.0 35.92100000000002z" fill="#808080" fill-rule="evenodd" opacity="1" stroke="none"/></g>
        </svg>
        `;
      ]]]

icon_bulb:
  styles:
    custom_fields:
      icon:
        - width: 65%
        - margin-top: 10%
        - margin-left: 5%
  custom_fields:
    icon: >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/>
      </svg>

icon_cover4:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - fill: >
            [[[
              return (variables.state_on || variables.current_tilt_position !== 0 )
                  ? '#3182b7'
                  : '#9da0a2';
            ]]]
  custom_fields:
    icon: >
      [[[
        if (entity.state == 'closed')
          return `
            <svg viewBox="0 0 50 50">
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
              <g id="close">
              <path id="closed1"
                d="M41.08,6.05H7.56c-.97,0-1.59,.63-1.59,1.55v4.75c0,.94,.64,1.55,1.59,1.55H41.08c.99,0,1.59-.63,1.59-1.57V7.59c0-.93-.62-1.54-1.59-1.54Z" />
              <path id="closed2"
                d="M41.08,25.46H7.56c-.95,0-1.59,.63-1.59,1.53v4.77c0,.93,.62,1.55,1.59,1.55H41.08c.99,0,1.59-.62,1.59-1.55v-4.78c0-.89-.6-1.51-1.59-1.51Z" />
              <path id="closed3"
                d="M41.08,35.17H7.56c-.98,0-1.58,.61-1.58,1.55v4.73c0,.94,.6,1.56,1.57,1.56H41.06c.97,0,1.61-.62,1.61-1.56v-4.73c0-.95-.62-1.55-1.59-1.55Z" />
              <path id="closed4"
                d="M41.1,15.76H7.56c-.95,0-1.59,.63-1.59,1.54v4.77c0,.91,.62,1.52,1.59,1.52H41.09c.96,0,1.58-.62,1.58-1.52v-4.79c0-.9-.62-1.52-1.58-1.52Z" />
            </g>
            </svg>`;
        if (variables.state == 'opening')
          return `
            <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                from {
                  transform: scaleY(0);
                }

                to {
                  transform: scaleY(1);
                }
              }

              @keyframes off {
                from {
                  transform: scaleY(1);
                }

                to {
                  transform: scaleY(0);
                }
              }

            .opening {
              animation: off 10s;
              animation-timing-function: ease-in;
            }

            .closing {
              animation: on 10s;
              animation-timing-function: ease-out;
            }
            </style>
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
            <g class='opening' id="open">
              <path id="open1"
                d="M41.71,5.95H10.2c-1,0-1.66,.23-2.24,.77l-1.87,1.86c-.66,.64-.42,1.87,.67,1.87h31.53c1,0,1.66-.23,2.24-.77l1.87-1.87c.66-.64,.42-1.86-.69-1.86Z" />
              <path id="open2"
                d="M41.71,16.71H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.63-.42,1.84,.67,1.84h31.53c1,0,1.66-.22,2.24-.77l1.87-1.87c.66-.62,.42-1.84-.69-1.84Z" />
              <path id="open3"
                d="M41.71,38.17H10.2c-1,0-1.66,.23-2.24,.79l-1.87,1.86c-.66,.62-.42,1.87,.67,1.87h31.53c1,0,1.66-.25,2.24-.8l1.87-1.85c.66-.64,.42-1.86-.69-1.86Z" />
              <path id="open4"
                d="M41.71,27.45H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.64-.42,1.86,.67,1.86h31.53c1,0,1.66-.25,2.24-.79l1.87-1.86c.66-.62,.42-1.85-.69-1.85Z" />
            </g>
            </svg>`;
        if (variables.state == 'closing')
          return `
            <svg viewBox="0 0 50 50">
            <style>
              @keyframes on {
                from {
                  transform: scaleY(0);
                }

                to {
                  transform: scaleY(1);
                }
              }

              @keyframes off {
                from {
                  transform: scaleY(1);
                }

                to {
                  transform: scaleY(0);
                }
              }

              .opening {
                animation: off 10s;
                animation-timing-function: ease-in;
              }

              .closing {
                animation: on 10s;
                animation-timing-function: ease-out;
              }
            </style>
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
            <g class="closing" id="close">
              <path id="closed1"
                d="M41.08,6.05H7.56c-.97,0-1.59,.63-1.59,1.55v4.75c0,.94,.64,1.55,1.59,1.55H41.08c.99,0,1.59-.63,1.59-1.57V7.59c0-.93-.62-1.54-1.59-1.54Z" />
              <path id="closed2"
                d="M41.08,25.46H7.56c-.95,0-1.59,.63-1.59,1.53v4.77c0,.93,.62,1.55,1.59,1.55H41.08c.99,0,1.59-.62,1.59-1.55v-4.78c0-.89-.6-1.51-1.59-1.51Z" />
              <path id="closed3"
                d="M41.08,35.17H7.56c-.98,0-1.58,.61-1.58,1.55v4.73c0,.94,.6,1.56,1.57,1.56H41.06c.97,0,1.61-.62,1.61-1.56v-4.73c0-.95-.62-1.55-1.59-1.55Z" />
              <path id="closed4"
                d="M41.1,15.76H7.56c-.95,0-1.59,.63-1.59,1.54v4.77c0,.91,.62,1.52,1.59,1.52H41.09c.96,0,1.58-.62,1.58-1.52v-4.79c0-.9-.62-1.52-1.58-1.52Z" />
            </g>
            </svg>`;
        if (states[entity.entity_id].attributes.current_position >= 0 && states[entity.entity_id].attributes.current_tilt_position >= 0 )
          return `
            <svg viewBox="0 0 50 50">
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
            <g id="open">
              <path id="open1"
                d="M41.71,5.95H10.2c-1,0-1.66,.23-2.24,.77l-1.87,1.86c-.66,.64-.42,1.87,.67,1.87h31.53c1,0,1.66-.23,2.24-.77l1.87-1.87c.66-.64,.42-1.86-.69-1.86Z" />
              <path id="open2"
                d="M41.71,16.71H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.63-.42,1.84,.67,1.84h31.53c1,0,1.66-.22,2.24-.77l1.87-1.87c.66-.62,.42-1.84-.69-1.84Z" />
              <path id="open3"
                d="M41.71,38.17H10.2c-1,0-1.66,.23-2.24,.79l-1.87,1.86c-.66,.62-.42,1.87,.67,1.87h31.53c1,0,1.66-.25,2.24-.8l1.87-1.85c.66-.64,.42-1.86-.69-1.86Z" />
              <path id="open4"
                d="M41.71,27.45H10.2c-1,0-1.66,.22-2.24,.77l-1.87,1.87c-.66,.64-.42,1.86,.67,1.86h31.53c1,0,1.66-.25,2.24-.79l1.87-1.86c.66-.62,.42-1.85-.69-1.85Z" />
            </g>
            </svg>`;
        if (states[entity.entity_id].attributes.current_position === 0 && states[entity.entity_id].attributes.current_tilt_position === 0 )
          return `
            <svg viewBox="0 0 50 50">
            <g id="ram" opacity="0.6">
              <path d="M1.77,28.03c.78,0,1.41-.64,1.41-1.4s-.63-1.4-1.41-1.4-1.39,.62-1.39,1.4,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,18.34c.78,0,1.41-.64,1.41-1.4s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.4,1.39,1.4Z" />
              <path d="M1.77,23.19c.78,0,1.41-.66,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path
                d="M1.77,34.92c-.85,0-1.55,.72-1.55,1.56v5.07c0,.85,.7,1.56,1.55,1.56s1.56-.71,1.56-1.56v-5.07c0-.85-.69-1.56-1.56-1.56Z" />
              <path d="M1.77,8.65c.78,0,1.41-.65,1.41-1.41s-.63-1.39-1.41-1.39-1.39,.61-1.39,1.39,.62,1.41,1.39,1.41Z" />
              <path d="M1.77,13.49c.78,0,1.41-.63,1.41-1.39s-.63-1.41-1.41-1.41-1.39,.62-1.39,1.41,.62,1.39,1.39,1.39Z" />
              <path d="M1.77,32.86c.78,0,1.41-.64,1.41-1.39s-.63-1.39-1.41-1.39-1.39,.62-1.39,1.39,.62,1.39,1.39,1.39Z" />
              <path d="M42.5,0H1.77C.8,0,0,.81,0,1.78s.8,1.78,1.77,1.78H42.5c.98,0,1.78-.8,1.78-1.78s-.8-1.78-1.78-1.78Z" />
            </g>
              <g id="close">
              <path id="closed1"
                d="M41.08,6.05H7.56c-.97,0-1.59,.63-1.59,1.55v4.75c0,.94,.64,1.55,1.59,1.55H41.08c.99,0,1.59-.63,1.59-1.57V7.59c0-.93-.62-1.54-1.59-1.54Z" />
              <path id="closed2"
                d="M41.08,25.46H7.56c-.95,0-1.59,.63-1.59,1.53v4.77c0,.93,.62,1.55,1.59,1.55H41.08c.99,0,1.59-.62,1.59-1.55v-4.78c0-.89-.6-1.51-1.59-1.51Z" />
              <path id="closed3"
                d="M41.08,35.17H7.56c-.98,0-1.58,.61-1.58,1.55v4.73c0,.94,.6,1.56,1.57,1.56H41.06c.97,0,1.61-.62,1.61-1.56v-4.73c0-.95-.62-1.55-1.59-1.55Z" />
              <path id="closed4"
                d="M41.1,15.76H7.56c-.95,0-1.59,.63-1.59,1.54v4.77c0,.91,.62,1.52,1.59,1.52H41.09c.96,0,1.58-.62,1.58-1.52v-4.79c0-.9-.62-1.52-1.58-1.52Z" />
            </g>
            </svg>`;
      ]]]

#################################################
#                                               #
#               ICON APPLIANCES                 #
#                                               #
#################################################

icon_washer:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - margin-left: -8%
        - margin-top: -9%
  custom_fields:
    icon: >
      [[[
        let center = `
          <path d="M31.8,23.1c3.8,3.8,3.8,9.8,0,13.6c-3.8,3.8-9.8,3.8-13.6,0L31.8,23.1"/>
          <path fill="none" d="M25,15.4c-8,0-14.4,6.4-14.4,14.4S17,44.3,25,44.3s14.4-6.4,14.4-14.4S33,15.4,25,15.4z"/>
        `,
        base = `
          <path fill="#9da0a2" d="M10.6,1.1h28.7c2.6,0,4.8,2.1,4.8,4.8v38.4c0,2.6-2.1,4.8-4.8,4.8H10.6c-2.6,0-4.8-2.1-4.8-4.8V5.8C5.8,3.2,8,1.1,10.6,1.1 M13.1,5.8c-1.4,0-2.4,1.1-2.4,2.4c0,1.4,1.1,2.4,2.4,2.4s2.4-1.1,2.4-2.4S14.3,5.8,13.1,5.8 M20.2,5.8c-1.4,0-2.4,1.1-2.4,2.4 c0,1.4,1.1,2.4,2.4,2.4c1.4,0,2.4-1.1,2.4-2.4S21.5,5.8,20.2,5.8 M25,15.4c-8,0-14.4,6.4-14.4,14.4S17,44.3,25,44.3 s14.4-6.4,14.4-14.4S33,15.4,25,15.4z"/>
        `,
        style = `
          <svg viewBox="0 0 50 50">
            <style>
              @keyframes rotate {
                0% {
                  visibility: visible;
                  transform: rotate(0deg) translateZ(0);
                }
                100% {
                  transform: rotate(720deg) translateZ(0);
                }
              }
              .start {
                animation: rotate 2.8s ease-in;
                transform-origin: center 60%;
                fill: #5daeea;
                visibility: hidden;
                will-change: transform;
              }
              .on {
                animation: rotate 1.8s linear infinite;
                transform-origin: center 60%;
                fill: #5daeea;
                animation-delay: 2.8s;
                visibility: hidden;
                will-change: transform;
              }
              .end {
                animation: rotate 2.8s;
                transform-origin: center 60%;
                fill: #9ca2a5;
                animation-timing-function: cubic-bezier(0.61, 1, 0.88, 1);
                will-change: transform;
              }
              .start_timeout {
                animation: rotate 1.8s linear infinite;
                transform-origin: center 60%;
                fill: #5daeea;
                visibility: hidden;
                will-change: transform;
              }
              .end_timeout {
                fill: #9ca2a5;
              }
            </style>
        `;
        if (variables.washing_on)
          return `${style}${base}<g class="start">${center}</g><g class="on">${center}</g></svg>`;
        if (!variables.washing_on)
          return `${style}${base}<g class="end">${center}</g></svg>`;

        if (variables.washing_on && variables.timeout > 50000)
          return `${style}${base}<g class="start_timeout">${center}</g></svg>`;
        if (entity)
          return `${style}${base}<g class="end_timeout">${center}</g></svg>`;
      ]]]

icon_washmachine:
  styles:
    custom_fields:
      icon:
        - width: 60%
  custom_fields:
    icon: >
      <svg stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round" viewBox="0 0 227 280" xmlns="http://www.w3.org/2000/svg" xmlns:vectornator="http://vectornator.io" xmlns:xlink="http://www.w3.org/1999/xlink">
        <style>
          @keyframes on {
                0% {
                  visibility: visible;
                  transform: rotate(0deg) translateZ(0);
                }
                100% {
                  transform: rotate(1080deg) translateZ(0);
                }
              }
              @keyframes off {
                0% {
                  transform: rotate(0deg) ;
                }
                100% {
                  transform: rotate(360deg) ;
                }
              }

              .on {
                transform-origin: 113px 162px;
                animation: on 3s  infinite;
                animation-fill-mode: both;
                animation-delay: 0s;
          }
      </style>
        <defs>
          <filter color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" height="3.69297" id="Filter" width="3.69297" x="-20.7744" y="79.2153">
            <feDropShadow dx="0" dy="0" flood-color="#000" flood-opacity="1" in="SourceGraphic" result="Shadow" stdDeviation=".436047"/>
          </filter>
        </defs>
        <clipPath id="ArtboardFrame">
          <path d="M0 0h227v280H0z"/>
        </clipPath>
        <g clip-path="url(#ArtboardFrame)" id="Layer-1" vectornator:layerName="Layer 1">
          <path d="M8.5192 2.79797H218.612C222.039 2.79797 224.817 5.57577 224.817 9.00235V271.643C224.817 275.069 222.039 277.847 218.612 277.847H8.5192C5.09262 277.847 2.31482 275.069 2.31482 271.643V9.00235C2.31482 5.57577 5.09262 2.79797 8.5192 2.79797z" fill="#b1b8c2" fill-rule="evenodd" opacity="1" stroke="#b1b8c2" stroke-linecap="round" stroke-linejoin="round" stroke-width="4.64376"/>
          <path d="M5.2297 2.31745H221.902C223.514 2.31745 224.82 3.62359 224.82 5.2348V41.3985C224.82 43.0097 223.514 44.3158 221.902 44.3158H5.2297C3.61849 44.3158 2.31235 43.0097 2.31235 41.3985V5.2348C2.31235 3.62359 3.61849 2.31745 5.2297 2.31745z" fill="#cfd3da" fill-rule="evenodd" opacity="1" stroke="#cfd3da" stroke-linecap="round" stroke-linejoin="round" stroke-width="4.64376"/>
          <g opacity="1">
            <path d="M37.3401 156.01C37.3401 112.729 71.4675 77.6429 113.566 77.6429 155.664 77.6429 189.792 112.729 189.792 156.01 189.792 199.292 155.664 234.378 113.566 234.378 71.4675 234.378 37.3401 199.292 37.3401 156.01z" fill="#4e535b" fill-rule="evenodd" opacity="1" stroke="none"/>
            <path class="${state}" d="M38.0196 163.199C38.0196 163.199 45.9209 239.314 121.929 231.548 188.749 224.72 189.828 156.507 189.828 156.507 189.828 156.507 191.222 166.755 177.549 166.859 163.877 166.963 127.652 138.681 132.629 157.456 143.21 197.374 62.2382 141.677 69.5511 166.918 72.8139 178.181 62.7572 184.947 49.316 173.043" fill="#649cf4" fill-rule="evenodd" opacity="1" stroke="none"/>
            <path d="M40.7212 156.01C40.7212 114.897 73.3348 81.5686 113.566 81.5686 153.797 81.5686 186.41 114.897 186.41 156.01 186.41 197.123 153.797 230.452 113.566 230.452 73.3348 230.452 40.7212 197.123 40.7212 156.01z" fill="none" fill-rule="evenodd" opacity="1" stroke="#d9d9d9" stroke-linecap="round" stroke-linejoin="round" stroke-width="10"/>
          </g>
          <path d="M11.5454 23.0124C11.5454 16.5169 16.6548 11.2512 22.9575 11.2512 29.2602 11.2512 34.3695 16.5169 34.3695 23.0124 34.3695 29.5079 29.2602 34.7735 22.9575 34.7735 16.6548 34.7735 11.5454 29.5079 11.5454 23.0124z" fill="#e1e1e1" fill-rule="evenodd" opacity="1" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.34137"/>
          <path d="M22.9135 11.7924 22.8822 17.9182" fill="#ff2323" fill-rule="evenodd" opacity="1" stroke="#ff2323" stroke-linecap="butt" stroke-linejoin="bevel" stroke-width="1.94879"/>
          <path d="M-18.9279 81.0618" fill="#ff2323" fill-rule="evenodd" filter="url(#Filter)" stroke="#ff2323" stroke-linecap="butt" stroke-linejoin="bevel" stroke-width="1.94879" vectornator:shadowAngle="1.5708" vectornator:shadowColor="#000000" vectornator:shadowOffset="0" vectornator:shadowOpacity="1" vectornator:shadowRadius=".872093"/>
          <path d="M99.1859 14.9785C99.1859 12.7655 100.888 10.9716 102.987 10.9716 105.086 10.9716 106.787 12.7655 106.787 14.9785 106.787 17.1915 105.086 18.9855 102.987 18.9855 100.888 18.9855 99.1859 17.1915 99.1859 14.9785z" fill="#6d99ff" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M99.1859 14.9785C99.1859 12.7655 100.888 10.9716 102.987 10.9716 105.086 10.9716 106.787 12.7655 106.787 14.9785 106.787 17.1915 105.086 18.9855 102.987 18.9855 100.888 18.9855 99.1859 17.1915 99.1859 14.9785z" fill="#6d99ff" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M99.1859 14.9785C99.1859 12.7655 100.888 10.9716 102.987 10.9716 105.086 10.9716 106.787 12.7655 106.787 14.9785 106.787 17.1915 105.086 18.9855 102.987 18.9855 100.888 18.9855 99.1859 17.1915 99.1859 14.9785z" fill="#6d99ff" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M99.1859 14.9785C99.1859 12.7655 100.888 10.9716 102.987 10.9716 105.086 10.9716 106.787 12.7655 106.787 14.9785 106.787 17.1915 105.086 18.9855 102.987 18.9855 100.888 18.9855 99.1859 17.1915 99.1859 14.9785z" fill="#6d99ff" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M113.875 31.6548C113.875 29.4418 115.576 27.6478 117.676 27.6478 119.775 27.6478 121.476 29.4418 121.476 31.6548 121.476 33.8677 119.775 35.6617 117.676 35.6617 115.576 35.6617 113.875 33.8677 113.875 31.6548z" fill="#6d99ff" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M99.4787 31.5956C99.4787 29.3826 101.18 27.5886 103.279 27.5886 105.378 27.5886 107.08 29.3826 107.08 31.5956 107.08 33.8086 105.378 35.6025 103.279 35.6025 101.18 35.6025 99.4787 33.8086 99.4787 31.5956z" fill="#6d99ff" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M113.901 15.0871C113.901 12.8741 115.602 11.0801 117.701 11.0801 119.801 11.0801 121.502 12.8741 121.502 15.0871 121.502 17.3 119.801 19.094 117.701 19.094 115.602 19.094 113.901 17.3 113.901 15.0871z" fill="#6d99ff" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M0 41.7831H227.139V47.4172H0V41.7831z" fill="#7b7b7b" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M39.3936 23.0124C39.3936 16.5169 44.5029 11.2512 50.8056 11.2512 57.1084 11.2512 62.2177 16.5169 62.2177 23.0124 62.2177 29.5079 57.1084 34.7735 50.8056 34.7735 44.5029 34.7735 39.3936 29.5079 39.3936 23.0124z" fill="#e1e1e1" fill-rule="evenodd" opacity="1" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.34137"/>
          <path d="M50.7616 11.7924 50.7304 17.9182" fill="#ff2323" fill-rule="evenodd" opacity="1" stroke="#ff2323" stroke-linecap="butt" stroke-linejoin="bevel" stroke-width="1.94879"/>
          <path d="M80.6738.0204403H86.6971V45.1208H80.6738V.0204403z" fill="#7b7b7b" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M128.221 31.6548C128.221 29.4418 129.923 27.6478 132.022 27.6478 134.121 27.6478 135.822 29.4418 135.822 31.6548 135.822 33.8677 134.121 35.6617 132.022 35.6617 129.923 35.6617 128.221 33.8677 128.221 31.6548z" fill="#6d99ff" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M128.247 15.0871C128.247 12.8741 129.949 11.0801 132.048 11.0801 134.147 11.0801 135.848 12.8741 135.848 15.0871 135.848 17.3 134.147 19.094 132.048 19.094 129.949 19.094 128.247 17.3 128.247 15.0871z" fill="#6d99ff" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M151.705-.0248276H157.728V45.5953H151.705V-.0248276z" fill="#7b7b7b" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M168.619 7.75546H215.104V34.7004H168.619V7.75546z" fill="#323232" fill-rule="evenodd" opacity="1" stroke="#323232" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.94879"/>
          <path d="M195.463 16.1956v4m0 2v4m5-10v4m0 2v4M197.063 15.1956H198.863M197.063 21.1956H198.863M197.063 27.1956H198.863" fill="none" fill-rule="evenodd" opacity="1" stroke="#a1c900" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
          <path d="M204.463 16.1956v4m0 2v4m5-10v4m0 2v4M206.063 15.1956H207.863M206.063 21.1956H207.863M206.063 27.1956H207.863" fill="none" fill-rule="evenodd" opacity="1" stroke="#a1c900" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
          <path d="M174.26 16.2603v4m0 2v4m5-10v4m0 2v4M175.86 15.2603H177.66M175.86 21.2603H177.66M175.86 27.2603H177.66" fill="none" fill-rule="evenodd" opacity="1" stroke="#a1c900" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
          <path d="M183.26 16.2603v4m0 2v4m5-10v4m0 2v4M184.86 15.2603H186.66M184.86 21.2603H186.66M184.86 27.2603H186.66" fill="none" fill-rule="evenodd" opacity="1" stroke="#a1c900" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
          <path d="M190.629 17.8913C190.629 17.2176 191.181 16.6714 191.861 16.6714 192.542 16.6714 193.093 17.2176 193.093 17.8913 193.093 18.5651 192.542 19.1113 191.861 19.1113 191.181 19.1113 190.629 18.5651 190.629 17.8913z" fill="#a1c900" fill-rule="evenodd" opacity="1" stroke="none"/>
          <path d="M190.714 24.1187C190.714 23.4651 191.228 22.9352 191.861 22.9352 192.495 22.9352 193.008 23.4651 193.008 24.1187 193.008 24.7724 192.495 25.3023 191.861 25.3023 191.228 25.3023 190.714 24.7724 190.714 24.1187z" fill="#a1c900" fill-rule="evenodd" opacity="1" stroke="none"/>
        </g>
      </svg>

icon_homepod:
  styles:
    custom_fields:
      icon:
        - width: 87%
        - margin-top: -8%

  custom_fields:
    icon: >
      [[[
        let homepod = `d="M32.7,47.5c6.2,0,8.9-0.8,11.3-3.1c3.5-3.2,5.5-7.8,5.5-12.7c0-4-1.4-7.8-4.1-10.9c-0.6-0.8-1.3-0.8-2-0.4
              c-2.5,1.9-5.3,2.9-10.8,2.9c-5.5,0-8.3-1-10.9-2.9c-0.7-0.5-1.4-0.4-2,0.4c-2.7,3.1-4.1,6.8-4.1,10.9c0,4.9,2.1,9.5,5.5,12.7
              C23.8,46.7,26.5,47.5,32.7,47.5z"`,
            speaker = `d="M4.7,37.7h9.1c-0.4-1.3-0.7-2.5-0.8-4.1c-3.8-0.2-6.8-3.3-6.8-7.2c0-4,3.2-7.2,7.2-7.2c1.2,0,2.4,0.3,3.3,0.8
              c2.3-3.1,5.4-4.7,9.6-5.5V9.1c0-2.9-1.5-4.4-4.3-4.4H4.7c-2.8,0-4.3,1.5-4.3,4.4v24.2C0.4,36.2,1.9,37.7,4.7,37.7z M13.4,16.7
              c-2.2,0-4-1.8-4-3.9c0-2.2,1.8-3.9,4-3.9s4,1.8,4,3.9C17.3,14.9,15.5,16.7,13.4,16.7z M13.4,14.8c1.1,0,2-0.9,2-2c0-1.1-0.9-2-2-2
              s-2,0.9-2,2C11.4,13.9,12.3,14.8,13.4,14.8z M10.3,26.4c0,1.6,1.2,2.9,2.8,3c0.2-2,0.8-4,1.6-5.8c-0.4-0.2-0.8-0.3-1.3-0.3
              C11.7,23.4,10.3,24.8,10.3,26.4z M32.7,21c4.7,0,8.1-0.9,8.1-2.2c0-1.3-3.3-2.2-8.1-2.2c-4.7,0-8.1,0.9-8.1,2.2
              C24.7,20.1,28,21,32.7,21z"`;
        if (entity)
          if (variables.state === 'playing')
              return `
                <svg viewBox="0 0 50 50">
                  <style>
                    @keyframes homepod {
                      0% {
                        transform: scale(1);
                      }

                      40% {
                        transform: scale(1);
                      }

                      49% {
                        transform: scale(0.95);
                      }

                      63% {
                        transform: scale(1);
                      }

                      77% {
                        transform: scale(0.95);
                      }

                      100% {
                        transform: scale(1);
                      }
                    }
                    .homepod {
                      animation: homepod 1.5s infinite;
                      animation-timing-function: cubic-bezier(0.55, 0, 0.45, 1);
                      transform-origin: center;
                    }
                  </style>
                    <g>
                      <path fill="#9da0a2" class="homepod" ${homepod} />
                      <path fill="#b68349" ${speaker} />
                    </g>
                </svg>
              `;

          if (variables.media_on)
              return `
                <svg viewBox="0 0 50 50">
                  <path fill="#9da0a2" ${homepod} />
                  <path fill="#b68349" ${speaker} />
                </svg>
              `;
          return `
            <svg viewBox="0 0 50 50">
              <path fill=" #9da0a2 " ${homepod} />
              <path fill="#9da0a2" ${speaker} />
            </svg>
          `;
      ]]]

icon_motion_play:
  styles:
    custom_fields:
      icon:
        - fill: '#000000'
        - fill-opacity: 0.7
  custom_fields:
    icon: >
      [[[
        return `
          <svg viewBox="0 0 24 24">
            <path d="M22 12C22 6.46 17.54 2 12 2C10.83 2 9.7 2.19 8.62 2.56L9.32 4.5C10.17 4.16 11.06 3.97 12 3.97C16.41 3.97 20.03 7.59 20.03 12C20.03 16.41 16.41 20.03 12 20.03C7.59 20.03 3.97 16.41 3.97 12C3.97 11.06 4.16 10.12 4.5 9.28L2.56 8.62C2.19 9.7 2 10.83 2 12C2 17.54 6.46 22 12 22C17.54 22 22 17.54 22 12M5.47 3.97C6.32 3.97 7 4.68 7 5.47C7 6.32 6.32 7 5.47 7C4.68 7 3.97 6.32 3.97 5.47C3.97 4.68 4.68 3.97 5.47 3.97M18 12C18 8.67 15.33 6 12 6C8.67 6 6 8.67 6 12C6 15.33 8.67 18 12 18C15.33 18 18 15.33 18 12M15 12L10 15V9"/>
          </svg>
          `;
      ]]]

icon_dvere:
  styles:
    custom_fields:
      icon:
        - width: 100%
        - margin-left: -16%
  custom_fields:
    icon: >
      [[[
        let room = `d="M11.4,1.4h27.2v43.1H11.4V1.4z" fill="#bcbcbc"`,
          door = `d="M11.4 1.4v43.1h27.2V1.4H11.4zm23 23.4c0 1.1-.9 1.9-1.9 1.9h0c-1.1 0-1.9-.9-1.9-1.9V21c0-1.1.9-1.9 1.9-1.9h0c1.1 0 1.9.9 1.9 1.9v3.8z"`,
          ram = `<path fill: var(--state-icon-color) d="M38.3,0.2H11.7c-1.3,0-2.2,0.8-2.2,1.9v42c0,0.3,0.2,0.5,0.5,0.5c0.3,0,0.5-0.2,0.5-0.5V2.3c0-0.7,0.5-1.2,1.2-1.2h26.5c0.7,0,1.2,0.5,1.2,1.2V44c0,0.3,0.2,0.5,0.5,0.5c0.3,0,0.5-0.2,0.5-0.5v-42C40.5,0.9,39.6,0.2,38.3,0.2z"`;

        if (variables.state_on && variables.timeout < 50000)
          return `
            <style>
              .state {
                animation: state 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
              }
              .opacity {
                animation: opacity 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
              }
              @keyframes state {
                0% {
                  transform: none;
                  fill: #9da0a2;
                }
                100% {
                  transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                  fill: #b68349;
                }
              }
              @keyframes opacity {
                0% {
                  opacity: 0;
                }
                100% {
                  opacity: 1;
                }
              }
            </style>
            <svg viewBox="0 0 50 50">
              ${ram}
              <path class="opacity" ${room}/>
              <path class="state" ${door}/>
            </svg>
          `;


        if (variables.state_on && variables.timeout > 50000)
          return `
            <svg viewBox="0 0 50 50">
              <style>
                .state_timeout_on {
                  transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                  fill: #b68349;
                }
              </style>
              ${ram}
              <path ${room}/>
              <path class="state_timeout_on" ${door}/>
            </svg>
          `;


        if (variables.state === 'off' && variables.timeout < 50000) ? `
          <style>
            .state {
              animation: state 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
            }
            .opacity {
              animation: opacity 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
            }
            .reverse {
              animation-direction: reverse;
            }
            @keyframes state {
              0% {
                transform: none;
                fill: #9da0a2;
              }
              100% {
                transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                fill: #b68349;
              }
            }
            @keyframes opacity {
              0% {
                opacity: 0;
              }
              100% {
                opacity: 1;
              }
            }
          </style>
          <svg viewBox="0 0 50 50">
            ${ram}
            <path class="opacity reverse" ${room}/>
            <path class="state reverse" ${door}/>
          </svg>
        ` : `
          <svg viewBox="0 0 50 50">
            <style>
              .state_timeout_off {
                fill: var(--state-icon-color);
              }
            </style>

            <path class="state_timeout_off" ${door}/>
          </svg>
        `;
      ]]]

icon_light_recessed:
  styles:
    custom_fields:
      icon:
        - width: 95%
        - margin-left: -12%
        - margin-top: -20%
  custom_fields:
    icon: >
      [[[
        let style = `
          <style>
            @keyframes on {
              from {
                transform: scaleY(0);
              }
              to {
                transform: scaleY(1);
              }
            }
            .on {
              animation: on 0.1s;
              transform-origin: -100% 46%;
              animation-fill-mode: forwards;
            }
            @keyframes off {
              from {
                transform: scaleY(1);
              }
              to {
                transform: scaleY(0);
              }
            }
            .off {
              animation: off 0.1s;
              transform-origin: -100% 46%;
              animation-fill-mode: forwards;
            }
          </style>
        `,
          path = `
            <path fill="#9da0a2" d="M25 15.618c-9.382 0-17.058 4.196-17.058 9.382S15.618 34.382 25 34.382 42.058 30.186 42.058 25 34.382 15.618 25 15.618m8.18 4.77c0 .682-3.233 2.975-8.18 2.975s-7.783-2.35-7.725-3.131l.623-.213c1.979-.58 4.441-.989 7.102-.989s5.015.358 6.994.938M25 30.97c-8.325 0-13.647-3.531-13.647-5.97 0-1.177 1.955-2.783 4.173-3.994l1.146-.53c.296.95 3.374 3.293 8.343 3.319 4.808.025 8.464-2.256 8.701-3.213l1.12.491c2.218 1.211 3.811 2.749 3.811 3.926 0 2.439-5.322 5.97-13.647 5.97z"/>
          `,
          gradient = `
            <radialGradient id="lsource" cx="25.165" cy="13.615" fx="25.165" fy="13.615" r="7.941"
              gradientTransform="matrix(-0.00353534,0.70731769,-1.7278701,-0.00863629,48.77824,1.4653142)"
              gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#e6deb3"/><stop offset="1" stop-color="#e6deb3" stop-opacity="0"/>
            </radialGradient>
            <radialGradient id="dlcup" cx="24.933" cy="10.064" fx="24.933" fy="10.064" r="13.627"
              gradientTransform="matrix(-1.3891264,0.01690265,-0.01282326,-1.0538672,59.802527,28.064254)"
              gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#e6deb3"/><stop offset="1" stop-color="#e6deb3" stop-opacity="0"/>
            </radialGradient>
          `;
        if (variables.state === 'on')
          return `
            <svg viewBox="0 0 50 50"> ${style} ${gradient}
              <path d="M24.207 23.332c-1.704-.092-3.315-.477-4.653-1.112-1.091-.518-1.964-1.207-2.209-1.741-.101-.221-.095-.228.276-.353 1.064-.357 2.666-.7 4.099-.878 1.078-.134 1.773-.18 2.95-.194 1.526-.018 2.747.053 4.066.238 1.49.208 2.704.491 3.84.895l.594.209c.003 0-.008.041-.026.091-.16.454-1.226 1.213-2.442 1.739-1.916.829-4.256 1.227-6.496 1.107z" fill="url(#lsource)" paint-order="fill markers stroke"/>
              <path d="M23.975 30.944c-3.988-.158-7.549-1.114-10.046-2.696-1.863-1.18-2.845-2.635-2.484-3.678.295-.852 1.455-1.956 3.172-3.019.549-.34.856-.505 1.464-.788.562-.262.588-.272.6-.225.047.187.466.668.853.978 1.576 1.264 3.975 2.086 6.594 2.259a20.24 20.24 0 0 0 1.905 0c2.442-.162 4.841-.898 6.519-2.001.577-.379 1.047-.829 1.138-1.089.013-.038.036-.068.05-.068.058 0 1.139.492 1.367.623.615.352 1.202.748 1.72 1.16.387.308 1.021.942 1.255 1.256.211.283.442.725.503.964a1.97 1.97 0 0 1-.01.846c-.388 1.435-2.257 2.947-4.953 4.007-2.011.79-4.343 1.272-6.983 1.443a61.05 61.05 0 0 1-2.663.03z" fill="url(#dlcup)" paint-order="fill markers stroke"/>
              ${path}
            </svg>
          `;

        if (variables.state === 'off')
          return `
            <svg viewBox="0 0 50 50"> ${style}
              ${path}
            </svg>
          `;
        else
          return `
            <svg viewBox="0 0 50 50"> ${style}
              ${path}
            </svg>
          `;
      ]]]

icon_light_flush:
  styles:
    custom_fields:
      icon:
        - width: 95%
        - margin-left: -12%
        - margin-top: -22%
  custom_fields:
    icon: >
      [[[
        let style = `
          <style>
            @keyframes on {
              from {
                transform: scaleY(0);
              }
              to {
                transform: scaleY(1);
              }
            }
            .on {
              animation: on 2s;
              transform-origin: -100% 46%;
              animation-fill-mode: forwards;
            }
            @keyframes off {
              from {
                transform: scaleY(1);
              }
              to {
                transform: scaleY(0);
              }
            }
            .off {
              animation: off 0.1s;
              transform-origin: -100% 46%;
              animation-fill-mode: forwards;
            }
          </style>
        `,
          path = `
            <g id="body">
              <path id="body-inside" fill="#9da0a2" opacity="0.8" d="M18.847 21.388C16.243 22.079 14.512 23.149 13.885 24.375C13.793 24.556 13.583 25.038 13.549 25.299C13.435 26.19 14.126 27.242 15.273 28.108C17.273 29.617 20.416 30.441 24.42 30.631L27.42 30.588C32.361 30.176 35.876 28.468 36.452 26.2C36.569 25.739 36.524 25.408 36.27 24.878C36.009 24.33 35.623 23.865 35.053 23.405C33.617 22.248 31.402 21.45 28.355 20.843C25.612 20.19 21.712 20.642 18.847 21.388V21.388ZM25.183 21.886C25.183 21.886 28.625 21.868 30.593 23.093C31.524 23.672 32.515 24.307 32.437 25.249C32.34 26.42 30.406 27.343 30.406 27.343C28.229 28.29 25.312 28.281 25.312 28.281C22.792 28.344 20.794 27.535 20.794 27.535C18.24 26.593 18.062 25.281 18.062 25.281C18.134 24.175 19.037 23.562 19.843 23.062C21.391 22.101 25.183 21.886 25.183 21.886V21.886Z"/>
              <path id="body-outside" fill="#9da0a2" d="M25.243 17.913C15.653 17.809 8.131 21.052 7.733 25C7.315 29.148 16.07 32.922 25.452 32.922C34.834 32.922 43.112 28.716 42.336 25.07C41.622 21.715 34.903 18.087 25.243 17.913V17.913ZM25.417 30.866C16.78 30.771 12.541 27.226 13.405 24.828C13.791 23.847 15.401 21.415 22.459 20.58C26.249 20.248 27.413 20.489 29.761 21.022C36.964 22.661 36.752 25.989 36.752 25.989C36.301 29.257 30.348 30.939 25.418 30.867L25.417 30.866Z"/>
            </g>
            <path id="top-edge" fill="#707070" d="M42.316 25.012C41.603 23.019 40.277 22.207 40.277 22.207C36.714 19.347 31.883 18.661 28.947 18.224C25.505 17.712 21.478 18.057 21.478 18.057C15.227 18.68 12.928 19.952 10.795 21.096C10.795 21.096 8.371 23.11 7.808 24.606C7.808 24.606 8.205 22.474 8.531 21.871C9.048 20.912 10.53 19.862 11.002 19.572C16.034 17.047 19.435 16.678 23.652 16.585C24.911 16.557 26.971 16.634 26.971 16.634C31.712 16.954 33.768 17.631 36.597 18.675C36.597 18.675 39.671 20.146 40.678 21.183C41.125 21.643 41.752 22.321 41.956 22.929C42.111 23.459 42.266 24.473 42.316 25.012Z"/>
          `,
          gradient = `
            <defs>
              <radialGradient id="paint0_radial_spot_flush" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(25.0983 22.8101) rotate(178.618) scale(35.0284 17.4212)">
                <stop stop-color="#FFF9C3"/>
                <stop offset="1" stop-color="#FFF9C3" stop-opacity="0"/>
              </radialGradient>
              <radialGradient id="paint1_radial_spot_flush" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(25.3508 23.0243) scale(1.55698 0.992516)">
                <stop stop-color="#FFF9C3"/>
                <stop offset="1" stop-color="#FFF9C3" stop-opacity="0"/>
              </radialGradient>
            </defs>
          `;
        if (variables.state === 'on')
          return `
            <svg viewBox="0 0 50 50"> ${style} ${gradient}
              ${path}
              <path id="light-fade" opacity="0.875" d="M22.413 22.141C22.413 22.141 16.999 22.946 16.242 25.456C16.242 25.456 15.874 27.586 19.976 28.969C19.976 28.969 22.927 29.685 25.213 29.654C28.288 29.613 30.582 28.904 30.582 28.904C33.865 28.036 33.963 26.03 33.963 26.03C33.882 23.684 30.008 22.583 30.008 22.583C26.164 21.611 24.51 21.844 22.413 22.141V22.141Z" fill="url(#paint0_radial_spot_flush)"/>
              <path id="light-center" d="M25.351 24.016C26.2104 24.016 26.907 23.5719 26.907 23.024C26.907 22.4761 26.2104 22.032 25.351 22.032C24.4916 22.032 23.795 22.4761 23.795 23.024C23.795 23.5719 24.4916 24.016 25.351 24.016Z" fill="url(#paint1_radial_spot_flush)"/>
            </svg>
          `;

        if (variables.state === 'off')
          return `
            <svg viewBox="0 0 50 50"> ${style}
              ${path}
            </svg>
          `;
        else
          return `
            <svg viewBox="0 0 50 50"> ${style}
              ${path}
            </svg>
          `;
      ]]]

icon_roborock:
  styles:
    custom_fields:
      icon:
        - width: 78%
        - margin-top: -5%
        - margin-left: -2%
  custom_fields:
    icon: >
      <svg viewBox="0 0 50 50">
        <style>
          @keyframes spinner{0%{transform:rotateZ(0deg)}to{transform:rotateZ(360deg)}}@keyframes robot{0%{transform:rotateZ(0deg)}to{transform:rotateZ(360deg)}}
        </style>
        <g id="roborock_s6 1" style="animation:robot 10s infinite ease-in-out;transform-origin:center;transform-box:fill-box">
          <path id="spinner" fill="#242424" d="M32.91 9.041c-.038.01-.078.116-.078.116l3.389 2.136-.07.078-3.413-2.124s-.073.095-.039.12c2.241 1.627 5.202 3.379 5.202 3.379s-.144.323-.134.497c.01.162.177.466.177.466l-4.476 3.854.089.125 2.962-2.433.053.081-3.006 2.469.14.07 4.601-3.746s.281.226.475.287a.833.833 0 0 0 .573-.02l2.598 5.381.143-.082-1.621-3.524.062-.03 1.659 3.507.135-.06-2.516-5.456s.047-.059.075-.084c0 0 .193-.092.313-.28.073-.113.127-.224.07-.484l.188-.115c1.22-.184 6.06-.892 6.06-.892l-.012-.13-4.057.524-.016-.068 4.097-.558-.002-.135-6.25.75c-.1-.481-.681-.718-.681-.718.272-1.206 1.195-6.174 1.195-6.174s-.068-.044-.073-.02l-.896 3.984-.073.002.829-3.984c.005-.024-.07-.018-.07-.018L39.01 11.85s-.195-.032-.812.356c-.042.026-.147-.003-.147-.003l-5.125-3.159a.02.02 0 0 0-.016-.002Zm6.014 3.717a.357.357 0 1 1 .303.645.357.357 0 0 1-.303-.645Zm.061.138.005.115-.102.048.037.096.094-.002.057.098.087-.034-.002-.108.09-.043-.018-.086-.107-.003-.04-.099-.1.018Z" style="animation:spinner .8s infinite linear;transform-origin:center;transform-box:fill-box"/>
          <path id="body" fill="#9da0a2" stroke="#787878" d="M47.53 24.915c0 .3-.016.61-.047.93-.026.27-1.094-.718-1.14-.436-.041.247-.138.76-.138.76.403.29 1.087 1.11 1.076 1.472-.182 6.02-5.726 12.664-5.726 12.664-5.937 5.656-10.869 6.615-16.526 7.048C13.714 48.22 2.715 36.397 2.815 27.72c0 0-.178-.417.934-1.593 0 0-.02-.688-.05-.99-.033-.33-1.13 1.18-1.148.845-.022-.406 0-1.39 0-1.802 0-12.383 10.094-21.671 22.478-21.671 12.384 0 22.501 10.023 22.501 22.407Z"/>
          <path id="buttons" fill="#787878" d="M28.618 8.842h-7.281c-.623 0-1.127.455-1.127 1.016 0 .561.504 1.016 1.127 1.016h7.281c.622 0 1.127-.455 1.127-1.016 0-.561-.505-1.016-1.127-1.016Z"/>
          <g id="lydar">
            <path id="circle3251" d="M25.036 27.378a6.563 6.563 0 1 0 0-13.125 6.563 6.563 0 0 0 0 13.125Z" fill="#787878"/>
            <path id="path3028" d="M25.035 26.45a5.635 5.635 0 1 0 0-11.27 5.635 5.635 0 0 0 0 11.27Z" fill="#9da0a2"/>
          </g>
        </g>
      </svg>

icon_entrance:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - margin-left: -15%
  custom_fields:
    icon: >
      [[[
        let room = `d="M11.4,1.4h27.2v43.1H11.4V1.4z" fill="#bcbcbc"`,
          door = `d="M 38.6,1.4 H 11.4 V 44.5 H 38.6 Z M 12.898623,2.352289 h 23.771333 v 41.96722 H 12.898623 Z m 0,0 v 41.96722 H 36.669956 V 2.3502144 Z m 8.514901,4.9105942 h 6.741531 V 36.53351 h -6.741531 z"`;

        if (variables.state === 'on' && variables.timeout < 50000)
          return `
            <style>
              .state {
                animation: state 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
              }
              .opacity {
                animation: opacity 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
              }
              @keyframes state {
                0% {
                  transform: none;
                  fill: #9da0a2;
                }
                100% {
                  transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                  fill: #b68349;
                }
              }
              @keyframes opacity {
                0% {
                  opacity: 0;
                }
                100% {
                  opacity: 1;
                }
              }
            </style>
            <svg viewBox="0 0 50 50">
              <path class="opacity" ${room}/>
              <path class="state" ${door}/>
            </svg>
          `;


        if (variables.state === 'on' && variables.timeout > 50000)
          return `
            <svg viewBox="0 0 50 50">
              <style>
                .state_timeout_on {
                  transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                  fill: #2f2e2c;
                }
              </style>
              <path ${room}/>
              <path class="state_timeout_on" ${door}/>
            </svg>
          `;


        return variables.state === 'off' && variables.timeout < 50000 ? `
          <style>
            .state {
              animation: state 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
            }
            .opacity {
              animation: opacity 0.4s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
            }
            .reverse {
              animation-direction: reverse;
            }
            @keyframes state {
              0% {
                transform: none;
                fill: #9da0a2;
              }
              100% {
                transform: skewY(10deg) translate(4.5%, -3.9%) scaleX(0.8);
                fill: #2f2e2c;
              }
            }
            @keyframes opacity {
              0% {
                opacity: 0;
              }
              100% {
                opacity: 1;
              }
            }
          </style>
          <svg viewBox="0 0 50 50">
            <path class="opacity reverse" ${room}/>
            <path class="state reverse" ${door}/>
          </svg>
        ` : `
          <svg viewBox="0 0 50 50">
            <style>
              .state_timeout_off {
                fill: var(--state-icon-color);
              }
            </style>
            <path class="state_timeout_off" ${door}/>
          </svg>
        `;
      ]]]

icon_garage:
  styles:
    custom_fields:
      icon:
        #- width: 95%
        - margin-left: -7%
        - margin-top: -15%
  custom_fields:
    icon: >
      [[[
        let style = `
          <style>
            @keyframes on {
              from {
                transform: scaleY(0);
              }
              to {
                transform: scaleY(1);
              }
            }
            .on {
              animation: on 1s;
              transform-origin: -100% 46%;
              animation-fill-mode: forwards;
            }
            @keyframes off {
              from {
                transform: scaleY(1);
              }
              to {
                transform: scaleY(0);
              }
            }
            .off {
              animation: off 1s;
              transform-origin: -100% 46%;
              animation-fill-mode: forwards;
            }
          </style>
        `,
          path = `
            <path fill="#9da0a2" d="M24.933 11.355l19.948 3.894c.082.14.09 1.51 0 1.8l-39.761-.033c-.089-.283-.085-1.618.01-1.821z"/>
            <rect fill="#9da0a2" width="1.966" height="20.53" x="5.006" y="18.115" rx=".256" paint-order="fill markers stroke"/>
            <rect fill="#9da0a2" width="1.966" height="20.53" x="43.028" y="18.115" rx=".256" paint-order="fill markers stroke"/>
            <rect fill="#707070" id="port1" width="34.328" height="5.932" x="7.836" y="18.115" rx=".186" paint-order="fill markers stroke"/>
            <rect fill="#707070" id="port2" width="34.328" height="7.032" x="7.836" y="24.863" rx=".186" ry=".22" paint-order="fill markers stroke"/>
            <rect fill="#707070" id="port3" width="34.328" height="5.932" x="7.836" y="32.71" rx=".186" paint-order="fill markers stroke"/>
          `;
        if (variables.state === 'open')
          return `
            <svg viewBox="0 0 50 50"> ${style}
              <path fill="#9da0a2" id="garage" d="M24.9336 11.3555L5.12891 15.1934C5.03393 15.3966 5.03035 16.7323 5.11914 17.0156L44.8809 17.0488C44.9706 16.7588 44.9627 15.3882 44.8809 15.248L24.9336 11.3555ZM5.26172 18.1152C5.11983 18.1152 5.00586 18.2292 5.00586 18.3711V38.3887C5.00586 38.5306 5.11983 38.6445 5.26172 38.6445H6.7168C6.85868 38.6445 6.97266 38.5306 6.97266 38.3887V18.3711C6.97266 18.2292 6.85868 18.1152 6.7168 18.1152H5.26172ZM43.2832 18.1152C43.1413 18.1152 43.0273 18.2292 43.0273 18.3711V38.3887C43.0273 38.5306 43.1413 38.6445 43.2832 38.6445H44.7383C44.8802 38.6445 44.9941 38.5306 44.9941 38.3887V18.3711C44.9941 18.2292 44.8802 18.1152 44.7383 18.1152H43.2832Z"/>
              <path fill="#474b4d" id="car" d="M16.0195 23.7109C15.5919 24.4049 15.1131 25.2714 14.5781 26.3223L11.8164 29.0801V37.6621C11.8164 38.17 12.2304 38.584 12.7383 38.584H15.8027C16.3107 38.584 16.7246 38.17 16.7246 37.6621V36.7441H33.2754V37.6621C33.2754 38.17 33.6893 38.584 34.1973 38.584H37.2617C37.7696 38.584 38.1836 38.17 38.1836 37.6621V29.0801L35.4219 26.3223C34.8869 25.2714 34.4081 24.4049 33.9805 23.7109H33.3809C33.8204 24.3917 34.2878 25.2148 34.7617 26.2207L15.2852 26.2051C15.6558 25.3312 16.1128 24.4762 16.6191 23.7109L16.0195 23.7109ZM14.5469 29.3867C15.0067 29.3867 15.4252 29.401 15.8027 29.4316C16.5579 29.4929 17.4783 29.5952 18.5625 29.7383C18.4603 29.9427 18.3059 30.1491 18.1016 30.3535C17.795 30.6601 15.498 31.2715 15.1914 31.2715H13.9629C13.6563 31.2715 13.3505 30.9644 13.1973 30.6445C13.0951 30.4313 13.0449 30.027 13.0449 29.4316C13.587 29.401 14.087 29.3867 14.5469 29.3867V29.3867ZM35.4531 29.3867C35.913 29.3867 36.413 29.401 36.9551 29.4316C36.9551 30.027 36.9049 30.4313 36.8027 30.6445C36.6494 30.9644 36.3437 31.2715 36.0371 31.2715H34.8086C34.502 31.2715 32.205 30.6601 31.8984 30.3535C31.6941 30.1491 31.5397 29.9427 31.4375 29.7383C32.5217 29.5952 33.4421 29.4929 34.1973 29.4316C34.5748 29.401 34.9933 29.3867 35.4531 29.3867V29.3867ZM20.707 30H29.293L30.5176 31.5332C29.7001 33.7813 29.0884 34.9043 28.6797 34.9043H21.3203C20.9116 34.9043 20.2999 33.7813 19.4824 31.5332L20.707 30Z"/>
              <path fill="#707070" id="door" d="M8.02148 18.1152L7.83594 22.8398C7.83594 22.9244 7.91866 22.9922 8.02148 22.9922H41.9785C42.0813 22.9922 42.1641 22.9244 42.1641 22.8398L41.9785 18.1152H8.02148Z"/>
            </svg>
          `;

        if (variables.state === 'closed')
            return `
              <svg viewBox="0 0 50 50"> ${style}
                ${path}
              </svg>
            `;
        else
          return `
            <svg viewBox="0 0 50 50"> ${style}
              ${path}
            </svg>
          `;

      ]]]

icon_broom:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - filter: >
            [[[
              return variables.state_on
                  ? null
                  : 'grayscale(1) contrast(0.8) opacity(0.6) brightness(1)';
            ]]]
  custom_fields:
    icon: >
      [[[
        let state = variables.state_on && variables.timeout < 50000 ? 'on' : null;
        return `
          <svg viewBox="0 0 512 512" xml:space="preserve">
            <style>
              @keyframes on {
                0%,
                100% {
                          transform: translateX(0%);
                          transform-origin: 50% 50%;
                }
                15% {
                          transform: translateX(-30px) rotate(-6deg);
                }
                30% {
                          transform: translateX(15px) rotate(6deg);
                }
                45% {
                          transform: translateX(-15px) rotate(-3.6deg);
                }
                60% {
                          transform: translateX(9px) rotate(2.4deg);
                }
                75% {
                          transform: translateX(-6px) rotate(-1.2deg);
                }
              }
              .on {
                  animation: on 0.8s cubic-bezier(0.5, 1, 0.89, 1);
                  animation-fill-mode: both;
                  animation-delay: 0s;
                }
            </style>
            <g class="${state}">
            <path style="fill:#af7aae" d="M460.8 439.242H158.989l-21.558-247.916h344.926L460.8 439.242z"/>
            <path style="fill:#8e5b8e" d="M482.358 169.768v21.558l-1.874 21.558H139.306l-1.874-21.558v-21.558h344.926z"/>
            <path style="fill:#d199d1" d="M503.916 148.211v21.558c0 11.906-9.651 21.558-21.558 21.558H137.432c-11.906 0-21.558-9.651-21.558-21.558v-21.558c0-11.906 9.651-21.558 21.558-21.558h344.926c11.906 0 21.558 9.651 21.558 21.558z"/>
            <path style="fill:#a7e5cb" d="M471.579 428.463c0 17.859-14.477 32.337-32.337 32.337h-66.521a32.28 32.28 0 0 1 1.847 10.779c0 17.859-14.477 32.337-32.337 32.337H40.421c-17.86 0-32.337-14.478-32.337-32.337s14.477-32.337 32.337-32.337h66.521a32.28 32.28 0 0 1-1.848-10.779c0-17.859 14.477-32.337 32.337-32.337h301.811c17.86 0 32.337 14.479 32.337 32.337zm-88.357-269.577c4.731.46 9.165-.638 12.905-2.804v45.507c0 11.69 9.09 21.645 20.772 22.06 12.264.437 22.344-9.377 22.344-21.544v-75.453c0-5.953-4.826-10.779-10.779-10.779h-53.895c-5.953 0-10.779 4.826-10.779 10.779v10.289c-.001 11.175 8.31 20.863 19.432 21.945z"/>
            <path style="fill:#d7f3ff" d="M180.547 428.463c0 5.953-4.826 10.779-10.779 10.779h-32.337c-5.953 0-10.779-4.826-10.779-10.779s4.826-10.779 10.779-10.779h32.337c5.954 0 10.779 4.826 10.779 10.779zM126.653 460.8H40.421c-5.953 0-10.779 4.826-10.779 10.779s4.826 10.779 10.779 10.779h86.232c5.953 0 10.779-4.826 10.779-10.779s-4.826-10.779-10.779-10.779z"/>
            <path style="fill:#a89b80" d="M353.01 374.568h64.674c47.625 0 86.232 38.607 86.232 86.232v32.337c0 5.953-4.826 10.779-10.779 10.779h-204.8c-47.625 0-86.232-38.607-86.232-86.232v-75.453c0-11.906 9.651-21.558 21.558-21.558h86.232c11.906 0 21.558 9.651 21.558 21.558v10.779c0 11.907 9.651 21.558 21.557 21.558z"/>
            <path style="fill:#c1b291" d="M503.916 460.8v43.116H331.453c-47.625 0-86.232-38.607-86.232-86.232v-75.453c0-11.906 9.651-21.558 21.558-21.558h43.116c11.906 0 21.558 9.651 21.558 21.558v10.779c0 11.906 9.651 21.558 21.558 21.558h64.674c47.624 0 86.231 38.607 86.231 86.232z"/>
            <path style="fill:#a89b80" d="M503.916 460.8v43.116H374.568c-47.625 0-86.232-38.607-86.232-86.232v-43.116c0 47.625 38.607 86.232 86.232 86.232h129.348z"/>
            <path style="fill:#dbcba1" d="M492.351 417.684H374.568c-47.625 0-86.232-38.607-86.232-86.232v-10.779h21.558c11.906 0 21.558 9.651 21.558 21.558v10.779c0 11.906 9.651 21.558 21.558 21.558h64.674c31.912 0 59.755 17.349 74.667 43.116z"/>
            <path style="fill:#91f18b" d="M288.337 29.642v258.695h-43.116V29.642c0-11.906 9.651-21.558 21.558-21.558 11.906 0 21.558 9.652 21.558 21.558z"/>
            <path style="fill:#6baf6e" d="M266.779 29.642v258.695h-21.558V29.642c0-11.906 9.651-21.558 21.558-21.558 3.931 0 7.606 1.069 10.779 2.907-6.437 3.73-10.779 10.677-10.779 18.651z"/>
            <path style="fill:#ffc248" d="M342.232 309.895c0 11.906-9.651 21.558-21.558 21.558h-107.79c-11.906 0-21.558-9.651-21.558-21.558 0-11.906 9.651-21.558 21.558-21.558h21.558v-10.779c0-5.953 4.826-10.779 10.779-10.779h43.116c5.953 0 10.779 4.826 10.779 10.779v10.779h21.558c11.906 0 21.558 9.651 21.558 21.558z"/>
            <path style="fill:#ffff63" d="M342.232 309.895H191.326c0-11.906 9.651-21.558 21.558-21.558h107.789c11.907 0 21.559 9.651 21.559 21.558z"/>
            <path d="M220.968 503.916a8.084 8.084 0 0 1-8.084 8.084H40.421C18.132 512 0 493.868 0 471.579c0-22.289 18.132-40.421 40.421-40.421h54.271c.61 0 1.137-.219 1.568-.651.282-.284.755-.907.751-1.903v-.141c0-22.289 18.132-40.421 40.421-40.421h32.337a8.083 8.083 0 0 1 8.084 8.084 8.084 8.084 0 0 1-8.084 8.084h-32.337c-13.373 0-24.253 10.88-24.253 24.253v.113c.018 5.039-1.924 9.787-5.467 13.343a18.26 18.26 0 0 1-13.021 5.407h-54.27c-13.373 0-24.253 10.88-24.253 24.253s10.879 24.253 24.253 24.253h172.463a8.083 8.083 0 0 1 8.084 8.084zm142.821-304.505c4.465 0 8.084-3.618 8.084-8.084s-3.62-8.084-8.084-8.084h-43.116c-4.465 0-8.084 3.618-8.084 8.084s3.62 8.084 8.084 8.084h43.116zm135.759 214.587C507.467 427.798 512 443.78 512 460.8v32.337c0 10.401-8.463 18.863-18.863 18.863h-204.8c-52.006 0-94.316-42.31-94.316-94.316v-75.453c0-2.895.424-5.763 1.246-8.511-7.291-5.406-12.025-14.073-12.025-23.826 0-16.344 13.297-29.642 29.642-29.642h13.474v-2.695c0-7.511 4.411-14.009 10.779-17.043v-61.105H146.25l14.233 163.679a8.084 8.084 0 0 1-7.353 8.754c-4.452.406-8.368-2.904-8.755-7.353L129.937 198.45c-12.727-3.33-22.146-14.927-22.146-28.683v-21.558c0-16.344 13.297-29.642 29.642-29.642h99.705V29.642C237.137 13.298 250.434 0 266.779 0s29.642 13.298 29.642 29.642v230.873c6.368 3.032 10.779 9.532 10.779 17.043v2.695h13.474c16.345 0 29.642 13.298 29.642 29.642 0 9.753-4.734 18.42-12.025 23.826a29.717 29.717 0 0 1 1.246 8.511v10.779c0 7.43 6.044 13.474 13.474 13.474h64.674c34.691 0 65.067 18.827 81.449 46.799.149.23.288.468.414.714zM253.305 258.695h26.947V29.642c0-7.43-6.044-13.474-13.474-13.474s-13.474 6.044-13.474 13.474v229.053zm-16.168-75.453v-48.505h-99.705c-7.43 0-13.474 6.044-13.474 13.474v21.558c0 7.409 6.011 13.44 13.412 13.474h99.767zm258.695 285.642H374.568c-15.993 0-31.796-4.078-45.699-11.793a8.082 8.082 0 0 1-3.146-10.99c2.167-3.903 7.086-5.315 10.991-3.147 11.511 6.388 24.601 9.764 37.856 9.764h120.848a77.527 77.527 0 0 0-7.885-26.947H374.568c-15.994 0-31.798-4.079-45.704-11.795a8.082 8.082 0 0 1-3.146-10.99 8.083 8.083 0 0 1 10.991-3.146c11.512 6.388 24.603 9.765 37.859 9.765h102.108c-14.339-16.498-35.469-26.947-58.992-26.947H353.01c-16.345 0-29.642-13.298-29.642-29.642v-10.779c0-.942-.098-1.878-.291-2.792-.793.065-1.595.097-2.404.097h-10.779c-4.465 0-8.084-3.618-8.084-8.084s3.62-8.084 8.084-8.084h10.779c7.43 0 13.474-6.044 13.474-13.474s-6.044-13.474-13.474-13.474h-21.558a8.083 8.083 0 0 1-8.084-8.084V277.56a2.698 2.698 0 0 0-2.695-2.695H245.22a2.698 2.698 0 0 0-2.695 2.695v10.779a8.084 8.084 0 0 1-8.084 8.084h-21.558c-7.43 0-13.474 6.044-13.474 13.474s6.044 13.474 13.474 13.474h64.674c4.465 0 8.084 3.618 8.084 8.084s-3.62 8.084-8.084 8.084h-64.674c-.808 0-1.611-.032-2.404-.097-.192.914-.291 1.85-.291 2.792v75.453c0 39.461 29.402 72.186 67.447 77.418-24.463-17.059-40.5-45.402-40.5-77.42V363.79a8.084 8.084 0 0 1 8.084-8.084 8.083 8.083 0 0 1 8.084 8.084v53.895c0 39.461 29.402 72.186 67.447 77.418-24.463-17.057-40.5-45.4-40.5-77.418V363.79c0-4.466 3.62-8.084 8.084-8.084s8.084 3.618 8.084 8.084v53.895c0 43.091 35.056 78.147 78.147 78.147h118.568a2.698 2.698 0 0 0 2.695-2.695v-24.253zM512 148.211v21.558c0 13.756-9.42 25.353-22.146 28.682l-14.438 166.04a8.086 8.086 0 0 1-8.754 7.355 8.084 8.084 0 0 1-7.353-8.754l14.233-163.68h-26.213v2.695c0 8.118-3.217 15.693-9.059 21.33-5.841 5.636-13.546 8.564-21.656 8.292-16.021-.57-28.57-13.809-28.57-30.139v-34.637c-1.85.169-3.723.164-5.602-.019-15.243-1.484-26.735-14.378-26.735-29.991v-2.204h-35.032a8.083 8.083 0 0 1-8.084-8.084 8.084 8.084 0 0 1 8.084-8.084h36.853c3.032-6.367 9.532-10.779 17.042-10.779h53.895c7.51 0 14.009 4.412 17.042 10.779h36.853c16.343-.003 29.64 13.295 29.64 29.64zm-80.842-21.558a2.698 2.698 0 0 0-2.695-2.695h-53.895a2.698 2.698 0 0 0-2.695 2.695v10.289c0 7.131 5.329 13.237 12.132 13.899a13.407 13.407 0 0 0 8.069-1.754 8.085 8.085 0 0 1 8.089-.009 8.083 8.083 0 0 1 4.046 7.004v45.507c0 7.455 5.821 13.727 12.975 13.982 3.706.106 7.2-1.207 9.854-3.768a13.365 13.365 0 0 0 4.119-9.697v-75.454h.001zm64.674 21.558c0-7.43-6.044-13.474-13.474-13.474h-35.032v48.505h35.093c7.402-.033 13.412-6.064 13.412-13.474v-21.557z"/>
            </g>
          </svg>
        `
      ]]]

icon_sofa:
  styles:
    custom_fields:
      icon:
        # - width: 77%
        # - margin-top: -8%
        # - margin-left: 1%
        - margin-top: -15%
  custom_fields:
    icon: >
      [[[
        let path = `
            <path id="back" fill="#9da0a2" d="M 12.128906 8.0117188 C 7.510127 8.0117188 4.4082031 10.700165 4.4082031 14.703125 L 4.4082031 18.640625 C 11.147289 18.573765 12.086705 19.589933 12.529297 24.763672 L 24.269531 24.763672 L 24.261719 8.0117188 L 12.128906 8.0117188 z M 25.839844 8.0117188 L 25.839844 24.763672 L 37.421875 24.763672 C 37.654133 20.501188 38.980505 18.157129 45.59375 18.775391 L 45.59375 14.703125 C 45.593658 10.700165 42.489873 8.0117188 37.871094 8.0117188 L 25.839844 8.0117188 z"/>
          `;
        return variables.state_on
          ? `
            <svg viewBox="0 0 50 50">
              <path id="back" fill="#968f8f" d="M 12.128906 8.0117188 C 7.510127 8.0117188 4.4082031 10.700165 4.4082031 14.703125 L 4.4082031 18.640625 C 11.147289 18.573765 12.086705 19.589933 12.529297 24.763672 L 24.269531 24.763672 L 24.261719 8.0117188 L 12.128906 8.0117188 z M 25.839844 8.0117188 L 25.839844 24.763672 L 37.421875 24.763672 C 37.654133 20.501188 38.980505 18.157129 45.59375 18.775391 L 45.59375 14.703125 C 45.593658 10.700165 42.489873 8.0117188 37.871094 8.0117188 L 25.839844 8.0117188 z"/>
              <path id="seat" fill="#5d3d35" d="M 5.9511719 20.367188 C 1.3320919 20.319978 1.3183594 22.445051 1.3183594 25 L 1.3183594 32.722656 C 1.3183594 34.425986 2.7029197 35.810547 4.40625 35.810547 L 4.40625 37.345703 C 4.40625 38.198895 5.0979804 38.890625 5.9511719 38.890625 L 12.128906 38.890625 C 12.982097 38.890625 13.673828 38.198895 13.673828 37.345703 L 13.673828 35.810547 L 36.326172 35.810547 L 36.326172 37.345703 C 36.326172 38.198895 37.017903 38.890625 37.871094 38.890625 L 44.048828 38.890625 C 44.90202 38.890625 45.59375 38.198895 45.59375 37.345703 L 45.59375 35.810547 C 47.29708 35.810547 48.681641 34.425986 48.681641 32.722656 L 48.681641 25 C 48.681734 22.445051 48.66819 20.380244 44.048828 20.367188 C 39.405812 20.354067 39.414062 22.445051 39.414062 25 L 39.414062 26.544922 L 10.585938 26.544922 L 10.585938 25 C 10.585938 22.445051 10.594267 20.414645 5.9511719 20.367188 z"/>
            </svg>
          `
          : ` <svg viewBox="0 0 50 50">
              ${path}
              <path id="seat" fill="#9da0a2" d="M 5.9511719 20.367188 C 1.3320919 20.319978 1.3183594 22.445051 1.3183594 25 L 1.3183594 32.722656 C 1.3183594 34.425986 2.7029197 35.810547 4.40625 35.810547 L 4.40625 37.345703 C 4.40625 38.198895 5.0979804 38.890625 5.9511719 38.890625 L 12.128906 38.890625 C 12.982097 38.890625 13.673828 38.198895 13.673828 37.345703 L 13.673828 35.810547 L 36.326172 35.810547 L 36.326172 37.345703 C 36.326172 38.198895 37.017903 38.890625 37.871094 38.890625 L 44.048828 38.890625 C 44.90202 38.890625 45.59375 38.198895 45.59375 37.345703 L 45.59375 35.810547 C 47.29708 35.810547 48.681641 34.425986 48.681641 32.722656 L 48.681641 25 C 48.681734 22.445051 48.66819 20.380244 44.048828 20.367188 C 39.405812 20.354067 39.414062 22.445051 39.414062 25 L 39.414062 26.544922 L 10.585938 26.544922 L 10.585938 25 C 10.585938 22.445051 10.594267 20.414645 5.9511719 20.367188 z"/>
            </svg>
          `;
      ]]]

icon_couch_lamp:
  styles:
    custom_fields:
      icon:
        - margin-top: -15%
        - width: 85%
        - filter: >
            [[[
              return !variables.state_on ? 'grayscale(1) contrast(0.4) brightness(0.8)' : null;
            ]]]
  custom_fields:
    icon: >
      [[[
        return `
          <svg viewBox="0 0 4.8 4.8" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iconify iconify--emojione">
            <path d="M.78 2.565H.69V.87C.69.75.75.51.975.51v.098C.78.608.78.855.78.871v1.695" fill="#666" />
            <path
              d="M1.62.525a.81.81 0 0 0-.188-.09L1.313.052C1.298 0 1.171-.008 1.021.037s-.255.128-.24.18l.128.397S.811.786.804.846c-.022.12.045.472.045.472l1.05-.315c-.007-.007-.172-.39-.278-.48"
              fill="#94989b" />
            <path
              d="M.907.607a.245.245 0 0 1 .098-.12.61.61 0 0 1 .135-.068c.045-.015.098-.03.15-.03s.105.007.15.037a.239.239 0 0 0-.142-.022.433.433 0 0 0-.142.03.996.996 0 0 0-.135.06.274.274 0 0 0-.112.112"
              fill="#3e4347" />
            <path
              d="M1.89.998c.03.105-.188.263-.472.345-.292.09-.547.075-.57-.03-.03-.105.188-.263.472-.345.285-.09.547-.075.57.03"
              fill="#ffe62e" />
            <path
              d="M1.717.907a1.167 1.167 0 0 0-.397.052c-.158.045-.3.12-.382.188.105.007.247-.007.397-.052a.939.939 0 0 0 .382-.188"
              fill="#fff" />
            <path
              d="M4.447 3.053a.15.15 0 0 1-.15.15H.502a.15.15 0 0 1-.15-.15v-.975a.15.15 0 0 1 .15-.15h3.803a.15.15 0 0 1 .15.15v.975z"
              fill="#42ade2" />
            <g fill="#428bc1">
              <path
                d="M4.447 3.053a.15.15 0 0 1-.15.15H.502a.15.15 0 0 1-.15-.15v-.975a.15.15 0 0 1 .15-.15h3.803a.15.15 0 0 1 .15.15v.975z"
                opacity=".5" />
              <path d="M3.375 3.203H.352V2.047s.6.69 3.022 1.155" />
            </g>
            <path
              d="M4.672 2.288c0-.135-.098-.24-.225-.24-.12 0-.217.105-.217.24v.93c0 .135.098.24.217.24.12 0 .225-.105.225-.24v-.93"
              fill="#42ade2" />
            <path d="M4.23 2.288v.93c0 .135.098.24.217.24.12 0 .225-.105.225-.24 0 0-.33.098-.443-.93" fill="#428bc1" />
            <path fill="#3e4347" d="M.457 4.485H.75V4.8H.457z" />
            <path
              d="M3.375 4.485H.3c-.165 0-.3-.142-.3-.322s.135-.322.3-.322h3.075v.645m0-.646H.3c-.165 0-.3-.142-.3-.322s.135-.322.3-.322h3.075v.645"
              fill="#428bc1" />
            <path fill="#3e4347" d="M4.05 4.485h.292V4.8H4.05z" />
            <g fill="#428bc1">
              <path d="M1.425 3.84H4.5c.165 0 .3.142.3.322s-.135.322-.3.322H1.425v-.645" />
              <path d="M1.425 3.203H4.5c.165 0 .3.142.3.322s-.135.322-.3.322H1.425v-.645" />
            </g>
            <path
              d="M.57 2.288c0-.135-.098-.24-.217-.24-.12 0-.217.105-.217.24v.93c0 .135.098.24.217.24.12 0 .217-.105.217-.24v-.93"
              fill="#42ade2" />
            <path d="M.128 2.288v.93c0 .135.098.24.217.24.12 0 .217-.105.217-.24.007 0-.322.098-.435-.93" fill="#428bc1" />
            <g fill="#42ade2">
              <path
                d="M.022 3.645A.339.339 0 0 1 0 3.525c0-.18.135-.322.3-.322h3.075s-2.94.067-3.353.442m0 .645A.351.351 0 0 1 0 4.162c0-.18.135-.322.3-.322h3.075s-2.94.068-3.353.45" />
              <path
                d="M4.777 3.397a.351.351 0 0 1 .022.128c0 .18-.135.322-.3.322H1.425c0-.007 2.94-.075 3.353-.45m0 .637a.351.351 0 0 1 .022.128c0 .18-.135.322-.3.322H1.425s2.94-.068 3.353-.45" />
            </g>
            <path
              d="M4.53 1.965s-.217.187-.255.285c-.075.21-.022.667 0 .892.007.037.037.142.037.142s-.255-.068-.345-.083c-.172-.022-.51.015-.682 0-.075-.007-.3-.06-.3-.06s.195-.09.232-.15c.12-.186.143-.666.158-.891v-.128s.165.052.225.06c.165.015.51-.015.675-.03.06 0 .255-.037.255-.037"
              fill="#c7e755" />
            <path
              d="M3.555 2.73a.956.956 0 0 1 .12-.21.1.1 0 0 0-.015-.045.148.148 0 0 0-.03-.06.305.305 0 0 0-.105-.09.236.236 0 0 1 .135.06.202.202 0 0 1 .052.06c0 .007.007.015.007.015.06-.068.12-.12.195-.172a.778.778 0 0 1 .255-.112c-.15.105-.292.217-.412.36a1.326 1.326 0 0 0-.27.488c.015-.105.037-.203.068-.292"
              fill="#9db730" />
          </svg>

        `
      ]]]

icon_bed:
  styles:
    custom_fields:
      icon:
        - width: 77%
        - margin-top: -4%
  custom_fields:
    icon: >
      [[[
        let path = `
          <path id="back" fill="#9da0a2" d="M3.735 21.368s1.939-1.654 4.589-2.546l.032-3.923c.01-1.218 1.569-2.75 7.743-2.609 0 0 7.636-.459 7.987 2.525l.024 2.068 1.8.008.042-2.05c.015-.718.647-2.912 9.152-2.52 0 0 6.317-.179 6.577 2.526l-.001 3.945c3.079 1.017 4.625 2.552 4.625 2.552l-.013-12.992s-.111-2.362-2.757-2.55l-37.341.025c-.955.007-2.331 1.078-2.461 2.411z"/>
          <rect id="frame" fill="#9da0a2" width="46.298" height="10.179" x="1.859" y="32.647" rx=".246" ry=".247"/>
          `;
        return variables.state_on
          ? `
            <svg viewBox="0 0 50 50">
              ${path}
              <path id="mattress" fill="#707070" d="M1.92 30.764c-.006-4.229 1.175-8.174 7.17-10.228 0 0 4.883-1.849 16.145-1.755 11.034.092 15.038 1.565 15.038 1.565 6.481 1.701 7.935 6.212 7.862 10.441"/>
            </svg>
          `
          : `<svg viewBox="0 0 50 50">
              ${path}
              <path id="mattress" fill="#9da0a2" d="M1.92 30.764c-.006-4.229 1.175-8.174 7.17-10.228 0 0 4.883-1.849 16.145-1.755 11.034.092 15.038 1.565 15.038 1.565 6.481 1.701 7.935 6.212 7.862 10.441"/>
            </svg>
          `;
      ]]]

icon_double_bed:
  styles:
    custom_fields:
      icon:
        - filter: >
            [[[ return variables.state_on
                  ? 'drop-shadow(2px 3px 4px grey)'
                  : 'grayscale(1) drop-shadow(2px 2px 4px black) brightness(0.7)';
            ]]]
        - width: 75%
        - margin-top: -15%
  custom_fields:
    icon: >
      [[[
        return `
          <svg viewBox="0 0 46.876 46.876"><path d="M43.945 7.325s-7.324 -2.93 -20.508 -2.93 -20.508 2.93 -20.508 2.93C1.403 7.936 0 9.368 0 10.987v16.846a2.929 2.929 0 0 1 2.929 -2.929h41.016a2.929 2.929 0 0 1 2.929 2.929V10.987c0 -1.618 -1.392 -3.02 -2.929 -3.662z" fill="#EAEAEA"/><path d="M4.394 39.551h5.86V42.48H4.394zm32.226 0H42.48V42.48h-5.86z" fill="#434854"/><path d="M4.394 39.551h5.86v1.465H4.394zm32.226 0H42.48v1.465h-5.86zm0.001 -24.902a1.465 1.465 0 1 0 2.929 0 1.465 1.465 0 1 0 -2.929 0Zm-7.325 -2.929a1.465 1.465 0 1 0 2.929 0 1.465 1.465 0 1 0 -2.929 0Zm-7.324 2.929a1.465 1.465 0 1 0 2.929 0 1.465 1.465 0 1 0 -2.929 0Zm-7.325 -2.929a1.465 1.465 0 1 0 2.929 0 1.465 1.465 0 1 0 -2.929 0Zm-7.324 2.929a1.465 1.465 0 1 0 2.929 0 1.465 1.465 0 1 0 -2.929 0Z"/><path d="M46.876 27.832a2.929 2.929 0 0 0 -2.929 -2.929H2.929A2.929 2.929 0 0 0 0 27.832v11.719h46.876v-11.719z" fill="#434854"/><path d="M0 35.156h46.876v1.465H0z" fill="#DAE2E5"/><path d="M42.48 24.902v-2.929a1.465 1.465 0 0 0 -1.464 -1.465H26.368a1.465 1.465 0 0 0 -1.465 1.465v2.929H42.48zm-20.508 0v-2.929a1.465 1.465 0 0 0 -1.465 -1.465H5.86a1.465 1.465 0 0 0 -1.465 1.465v2.929H21.972z" fill="#EF4D4D"/><path d="M4.394 23.437H21.972v1.465H4.394zm20.508 0H42.48v1.465H24.902z"/></svg>
      `
      ]]]

icon_shower_head:
  styles:
    custom_fields:
      icon:
        - filter: >
            [[[ return variables.state_on
                  ? 'drop-shadow(2px 2px 2px black)'
                  : 'grayscale(1) drop-shadow(black 2px 2px 2px) brightness(0.7)';
            ]]]
        - width: 70%
  custom_fields:
    icon: >
      [[[
        return `
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" xml:space="preserve">
            <g stroke-width="0"/>
            <g stroke-linecap="round" stroke-linejoin="round"/>
            <path style="fill:#dbe9fd" d="M381.762 165.218c-1.045-9.058-3.181-17.768-6.168-26.087h-272.93c-2.985 8.318-5.122 17.029-6.168 26.087-.516 4.465-.847 8.985-.847 13.587v25.543c0 7.206 5.843 13.044 13.044 13.044h260.869c7.201 0 13.044-5.838 13.044-13.044v-25.543c.002-4.603-.33-9.122-.845-13.588z"/>
            <path style="fill:#c5dcfd" d="M375.595 139.131H239.131v78.261h130.435c7.201 0 13.044-5.838 13.044-13.044v-25.543c0-4.602-.331-9.122-.847-13.587-1.045-9.058-3.182-17.768-6.168-26.088z"/>
            <path style="fill:#b1c6e4" d="M30.435 391.305c-7.201 0-13.044-5.838-13.044-13.044V63.587C17.392 28.524 45.916 0 80.978 0h158.153c7.201 0 13.044 5.838 13.044 13.044s-5.843 13.044-13.044 13.044H80.978c-20.677 0-37.5 16.823-37.5 37.5v314.674c0 7.205-5.843 13.043-13.043 13.043z"/>
            <path style="fill:#dbe9fd" d="M265.218 86.956h-52.174c-7.201 0-13.044-5.838-13.044-13.044V39.131C200 17.553 217.553 0 239.131 0s39.131 17.553 39.131 39.131v34.782c0 7.205-5.843 13.043-13.044 13.043z"/>
            <path style="fill:#c5dcfd" d="M265.218 86.956c7.201 0 13.044-5.838 13.044-13.044V39.131C278.261 17.553 260.707 0 239.131 0v86.956h26.087z"/>
            <path style="fill:#8ff0f0" d="M160.869 295.653c-7.201 0-13.044-5.838-13.044-13.044v-26.087c0-7.206 5.843-13.044 13.044-13.044 7.201 0 13.044 5.838 13.044 13.044v26.087c0 7.206-5.843 13.044-13.044 13.044zm-52.174 26.087c-7.201 0-13.044-5.838-13.044-13.044v-52.174c0-7.206 5.843-13.044 13.044-13.044s13.044 5.838 13.044 13.044v52.174c0 7.206-5.843 13.044-13.044 13.044zm104.348 0c-7.201 0-13.044-5.838-13.044-13.044v-52.174c0-7.206 5.843-13.044 13.044-13.044 7.201 0 13.044 5.838 13.044 13.044v52.174c-.001 7.206-5.843 13.044-13.044 13.044z"/>
            <path style="fill:#87d7d7" d="M265.218 295.653c-7.201 0-13.044-5.838-13.044-13.044v-26.087c0-7.206 5.843-13.044 13.044-13.044 7.201 0 13.044 5.838 13.044 13.044v26.087c0 7.206-5.843 13.044-13.044 13.044zm52.174 26.087c-7.201 0-13.044-5.838-13.044-13.044v-52.174c0-7.206 5.843-13.044 13.044-13.044 7.201 0 13.044 5.838 13.044 13.044v52.174c0 7.206-5.843 13.044-13.044 13.044zm52.173-26.087c-7.201 0-13.044-5.838-13.044-13.044v-26.087c0-7.206 5.843-13.044 13.044-13.044s13.044 5.838 13.044 13.044v26.087c0 7.206-5.843 13.044-13.044 13.044z"/>
            <path style="fill:#8ff0f0" d="M160.869 400c-7.201 0-13.044-5.838-13.044-13.044v-52.174c0-7.206 5.843-13.044 13.044-13.044 7.201 0 13.044 5.838 13.044 13.044v52.174c0 7.206-5.843 13.044-13.044 13.044zm-52.174 0c-7.201 0-13.044-5.838-13.044-13.044v-26.087c0-7.206 5.843-13.044 13.044-13.044s13.044 5.838 13.044 13.044v26.087c0 7.206-5.843 13.044-13.044 13.044zm104.348 0c-7.201 0-13.044-5.838-13.044-13.044v-26.087c0-7.206 5.843-13.044 13.044-13.044 7.201 0 13.044 5.838 13.044 13.044v26.087c-.001 7.206-5.843 13.044-13.044 13.044z"/>
            <path style="fill:#87d7d7" d="M265.218 400c-7.201 0-13.044-5.838-13.044-13.044v-52.174c0-7.206 5.843-13.044 13.044-13.044 7.201 0 13.044 5.838 13.044 13.044v52.174c0 7.206-5.843 13.044-13.044 13.044zm52.174 0c-7.201 0-13.044-5.838-13.044-13.044v-26.087c0-7.206 5.843-13.044 13.044-13.044 7.201 0 13.044 5.838 13.044 13.044v26.087c0 7.206-5.843 13.044-13.044 13.044zm52.173 0c-7.201 0-13.044-5.838-13.044-13.044v-52.174c0-7.206 5.843-13.044 13.044-13.044s13.044 5.838 13.044 13.044v52.174c0 7.206-5.843 13.044-13.044 13.044z"/>
            <path style="fill:#c5dcfd" d="M375.595 139.131C359.251 93.59 315.769 60.87 264.673 60.87h-51.087c-51.095 0-94.578 32.72-110.922 78.261-2.985 8.318-5.122 17.029-6.168 26.087h285.263c-1.044-9.058-3.181-17.768-6.166-26.087z"/>
            <path style="fill:#b1c6e4" d="M264.674 60.869h-25.543v104.348h142.631c-1.045-9.058-3.181-17.768-6.168-26.087-16.343-45.541-59.825-78.261-110.92-78.261z"/>
          </svg>


        `
      ]]]

icon_shower_new:
  styles:
    custom_fields:
      icon:
        - filter: >
            [[[ return variables.state_on
                  ? 'drop-shadow(2px 1px 5px black)'
                  : 'grayscale(1) brightness(0.7)';
            ]]]
        - margin-top: -10%
        - width: 95%
  custom_fields:
    icon: >
      [[[
        let state = variables.state_on && variables.timeout < 50000 ? 'on' : null;
      return `
        <svg viewBox="-23.04 -23.04 174.08 174.08" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="iconify iconify--noto" transform="scale(-1 1)" stroke="#000" stroke-width=".001">
          <style>
            @keyframes on {
              0%,
              100% {
                transform: rotate(0deg);
                transform-origin: top;
              }
              10% {
                transform: rotate(2deg);
              }
              20%,
              40%,
              60% {
                transform: rotate(-4deg);
              }
              30%,
              50%,
              70% {
                transform: rotate(4deg);
              }
              80% {
                transform: rotate(-2deg);
              }
              90% {
                transform: rotate(2deg);
              }
            }
            .on {
              animation: on 2s linear both infinite;
            }
          </style>
          <rect x="-23.04" y="-23.04" width="174.08" height="174.08" rx="87.04" fill="#f0f0f0" opacity="0.05" stroke="none"/>
          <g stroke-linecap="round" stroke-linejoin="round" stroke="#CCC" stroke-width=".256"/>
          <path d="M100.87 15.07 87.94 27.95l10.11 10.11 13.03-13.04c3.64-3.64 7.98-6.12 12.92-7.22V4.67c-8.78.47-16.88 4.16-23.13 10.4z" fill="#bdbdbd"/>
          <path d="M96.59 30.45c-14.37-14.37-37.92-14.13-52.07-.18l52.25 52.25c13.95-14.15 14.19-37.7-.18-52.07z" fill="#bdbdbd"/>
          <path d="M107.74 28.62c-.21-.79-1.84-3.67-4.07-5.83s-4.75-3.72-6.94-4.17c-4.35-.9-6.82 2.28-9.57 5.03 3.41 1.7 6.6 3.96 9.43 6.8 2.45 2.45 4.47 5.18 6.08 8.08-.13-.23 4.03-4.03 4.03-4.03 1.48-1.5 1.6-3.8 1.04-5.88z" fill="#78909c"/>
          <path d="M96.59 30.45c-14.37-14.37-37.92-14.13-52.07-.18l52.25 52.25c13.95-14.15 14.19-37.7-.18-52.07z" fill="#bdbdbd"/>
          <path d="M83.74 41.83C67.75 27.39 53.9 23.61 53.9 23.61c-1.07.44-1.97.86-2.78 1.31 0 0 11.13 4.66 28.22 20.36s24 28.51 24 28.51c.53-1.08.99-2.28 1.45-3.7-.01 0-2.1-11.14-21.05-28.26z" fill="#9e9e9e"/>
          <path d="M81.17 44.73c17.59 16.13 28.11 32.83 24.01 37.75-2.9 3.48-6.52 3.2-6.52 3.2-7.77-1.84-20.51-12.25-33.16-23.85-12.87-11.8-26.09-27.08-26.71-29.7 0 0-.79-2.69-.09-4.63.88-2.43 2.79-3.42 2.79-3.42 6.74-3.68 22.09 4.52 39.68 20.65z" fill="#bdbdbd"/>
          <ellipse transform="rotate(-47.48 69.275 57.34)" cx="69.27" cy="57.34" rx="7.05" ry="41.25" fill="#757575"/>
          <path d="M68.13 22.25c-.97.39-1.85 1.25-1.9 2.29-.06 1.29 1.98 2.63 4.39 2.21 3.91-.69 7.16-.55 8.21-.37.56.1 2.62.1 2.62-1.19 0-1.32-2.05-2.19-2.58-2.4-3-1.19-7.52-1.82-10.74-.54zm-19.19 4.31c-.34 1.54 2.71 2.53 3.39 2.73 1.41.43 5.26 1.84 5.9 1.32.45-.37.53-1.44-3.52-3.7-3.21-1.8-5.44-1.81-5.77-.35z" fill="#dfecf5"/>
        <g id="water" class="${state}">
          <radialGradient id="a" cx="79.276" cy="48.098" r="123.225" gradientTransform="matrix(-.7157 .6984 -.1115 -.1142 141.374 -1.776)" gradientUnits="userSpaceOnUse">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </radialGradient>
          <path d="M6.71 120.14c-2.09-2.09-1.68-7.4.66-9.49l58.66-52.79a2.71 2.71 0 0 1 3.79 0 2.701 2.701 0 0 1 .04 3.82l-54.26 57.4c-2.47 2.6-6.8 3.16-8.89 1.06z" fill="url(#a)"/>
          <linearGradient id="b" gradientUnits="userSpaceOnUse" x1="69.927" y1="58.047" x2="22.517" y2="111.451">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </linearGradient>
          <path d="M70.27 58.5c-31.63 27.37-54.62 58.91-55.28 61.14 0 0 .56-.52.59-.56l54.26-57.4c.86-.87.99-2.16.43-3.18z" fill="url(#b)"/>
          <radialGradient id="c" cx="61.263" cy="35.447" r="94.412" gradientTransform="matrix(-.7902 .6129 -.0978 -.1261 118.085 7.166)" gradientUnits="userSpaceOnUse">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </radialGradient>
          <path d="m9.41 77.98 44.76-31.47c1.17-.9 2.84-.7 3.76.45.93 1.16.74 2.86-.42 3.8L13 87.76c-2.9 2.41-6.26 3.28-8.4-.51-2.19-3.85 2.21-7.44 4.81-9.27z" fill="url(#c)"/>
          <linearGradient id="d" gradientUnits="userSpaceOnUse" x1="53.324" y1="44.822" x2="14.231" y2="87.377" gradientTransform="rotate(6.88 23.825 79.01)">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </linearGradient>
          <path d="M58.31 47.65c-.19-.04-34.81 23.68-46.16 40.8L57.5 50.76c.96-.76 1.24-2.03.81-3.11z" fill="url(#d)"/>
          <radialGradient id="e" cx="43.953" cy="24.996" r="70.073" gradientTransform="matrix(-.8551 .5185 -.0827 -.1365 93.478 13.157)" gradientUnits="userSpaceOnUse">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </radialGradient>
          <path d="M5.09 62.38C3.09 58 7.7 55.9 7.7 55.9l35.55-19.75c1.25-.77 2.9-.4 3.69.85a2.7 2.7 0 0 1-.82 3.73L12.1 63.39s-4.84 3.75-7.01-1.01z" fill="url(#e)"/>
          <linearGradient id="f" gradientUnits="userSpaceOnUse" x1="38.337" y1="32.629" x2="9.822" y2="63.669" gradientTransform="rotate(12.933 15.624 72.315)">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </linearGradient>
          <path d="M47.25 37.72c-.19-.06-18.51 9.7-36.37 26.41l35.23-23.4a2.71 2.71 0 0 0 1.14-3.01z" fill="url(#f)"/>
          <radialGradient id="g" cx="100.706" cy="64.392" r="97.119" gradientTransform="matrix(-.6174 .7867 .1255 .0985 141.612 -26.248)" gradientUnits="userSpaceOnUse">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </radialGradient>
          <path d="m48.38 117.92 32.7-46.36c.9-1.17.69-2.9-.45-3.76-1.19-.9-2.86-.74-3.8.42L38.6 114.34c-2.41 2.9-3.28 6.26.51 8.4 3.85 2.18 7.44-2.22 9.27-4.82z" fill="url(#g)"/>
          <linearGradient id="h" gradientUnits="userSpaceOnUse" x1="95.906" y1="76.972" x2="56.6" y2="119.758" gradientTransform="rotate(-3.078 -13.274 321.193)">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </linearGradient>
          <path d="M81.11 68.3c-.5.51-26.25 33.02-34.47 51.84l34.38-48.5c.8-.98.84-2.51.09-3.34z" fill="url(#h)"/>
          <radialGradient id="i" cx="87.278" cy="48.666" r="73.408" gradientTransform="matrix(-.5065 .8622 .1376 .0808 133.433 -8.723)" gradientUnits="userSpaceOnUse">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </radialGradient>
          <path d="M64.89 122.83c4.37 2 6.48-2.61 6.48-2.61L92.3 81.38c.77-1.25-.09-3-.85-3.69-.82-.75-2.93-.44-3.73.82l-23.85 37.31c.01 0-3.74 4.84 1.02 7.01z" fill="url(#i)"/>
          <linearGradient id="j" gradientUnits="userSpaceOnUse" x1="84.048" y1="59.372" x2="53.924" y2="92.163" gradientTransform="rotate(-16.266 156.843 42.953)">
            <stop offset="0" stop-color="#4fc3f7"/>
            <stop offset=".83" stop-color="#4fc3f7" stop-opacity="0"/>
          </linearGradient>
          <path d="M91.71 77.92c-.19.04-13.16 19.47-20.59 42.77l20.83-38.64c1.13-1.51.57-3.31-.24-4.13z" fill="url(#j)"/>
        </g>
        </svg>


      `
      ]]]
icon_hanger_mirror:
  styles:
    custom_fields:
      icon:
        - width: 70%
        - fill: >
            [[[
              return variables.state_on
                  ? 'var(--state-icon-active-color)'
                  : 'var(--state-icon-color)';
            ]]]
  custom_fields:
    icon: >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
        <path d="M11.541 31.714H8.628a.727.727 0 0 0 0 1.455h2.913a.727.727 0 0 0 0-1.455zm15.072 0H23.7a.727.727 0 0 0 0 1.455h2.913a.727.727 0 0 0 0-1.455zm-15.072 7.251H8.628a.727.727 0 0 0 0 1.455h2.913a.727.727 0 0 0 0-1.455zm15.072 0H23.7a.727.727 0 0 0 0 1.455h2.913a.727.727 0 0 0 0-1.455z"/>
        <path d="M34.134 24.92H1.479a.752.752 0 0 0-.752.753v1.203c0 .415.337.751.751.751h.367v15.704A1.455 1.455 0 0 0 3.3 44.786h1.92v1.156a1.325 1.325 0 0 0 2.487.64l.989-1.796h18.218l.989 1.796c.233.429.676.691 1.164.691.735 0 1.331-.596 1.331-1.331v-1.156h1.913a1.455 1.455 0 0 0 1.455-1.455V27.626h.368a.75.75 0 0 0 .751-.751v-1.203a.752.752 0 0 0-.751-.752zM17.079 41.642a.735.735 0 0 1-.735.735H4.567a.735.735 0 0 1-.735-.735v-4.185c0-.406.329-.735.735-.735h11.777c.405 0 .735.329.735.735v4.185zm0-7.108a.735.735 0 0 1-.735.735H4.567a.735.735 0 0 1-.735-.735v-4.185c0-.406.329-.735.735-.735h11.777c.405 0 .735.329.735.735v4.185zm14.7 7.108a.735.735 0 0 1-.735.735H19.269a.735.735 0 0 1-.735-.735v-4.185c0-.406.329-.735.735-.735h11.776c.406 0 .735.329.735.735v4.185zm0-7.108a.735.735 0 0 1-.735.735H19.269a.735.735 0 0 1-.735-.735v-4.185c0-.406.329-.735.735-.735h11.776c.406 0 .735.329.735.735v4.185zM7.191 22.291h13.745a2.03 2.03 0 0 0 2.029-2.029V2.756A2.03 2.03 0 0 0 20.936.727H7.191a2.03 2.03 0 0 0-2.029 2.029v17.505a2.03 2.03 0 0 0 2.029 2.029zm.153-19.382h5.292L7.344 8.201V2.909zm0 6.801 6.804-6.801h1.393l-8.197 8.197V9.71zm0 2.505 9.305-9.306h4.135v17.2H7.344v-7.894z"/>
        <path d="M47.273 9.023a1.649 1.649 0 0 0-3.297 0c0 .765.52 1.401 1.22 1.59v2.4c0 .556-.452 1.008-1.008 1.008h-2.474v-3.52c0-.024-.01-.045-.012-.068a1.365 1.365 0 0 0-.051-.303c-.012-.042-.022-.084-.038-.124a1.367 1.367 0 0 0-.16-.298c-.023-.032-.048-.06-.073-.089a1.38 1.38 0 0 0-.228-.217c-.017-.012-.029-.026-.047-.038a1.373 1.373 0 0 0-.354-.167c-.011-.003-.02-.011-.031-.015l.001.006a1.367 1.367 0 0 0-.391-.063 1.378 1.378 0 0 0-1.379 1.378v3.519h-2.479a1.009 1.009 0 0 1-1.008-1.008v-2.403a1.645 1.645 0 0 0 1.22-1.588 1.649 1.649 0 0 0-3.297 0c0 .766.521 1.401 1.221 1.59v2.4a1.865 1.865 0 0 0 1.863 1.864h2.479v26.784h-.002v.792h-.69a1.17 1.17 0 0 0-1.169 1.169v.749h-.002v.455h-.705a1.17 1.17 0 0 0-1.17 1.169V47.2h10.236v-1.205a1.17 1.17 0 0 0-1.169-1.169h-.706v-1.207c0-.644-.523-1.167-1.167-1.167h-.692V14.877h2.474a1.865 1.865 0 0 0 1.863-1.863v-2.403a1.645 1.645 0 0 0 1.222-1.588z"/>
      </svg>

icon_blinds:
  styles:
    custom_fields:
      icon:
        - width: 80%
        - margin-top: -4%
  custom_fields:
    icon: >
      [[[
        if (states[entity.entity_id].attributes.current_position === 100) {
        return `
          <svg viewBox="0 0 50 50" fill="#9da0a2">
            <path d="M4 3.547c-.259 0-.474.188-.474.42v3.557H46.44V3.968c0-.232-.21-.42-.474-.42zM3.826 8.37l2.149.629h38.052l2.19-.629zm2.31.819l-2.413.622H46.27l-2.413-.622zm-2.44.813l2.297.591h38.011l2.297-.591zm40.259.781H6.038l-2.315.597H46.27zM3.7 11.57l2.293.591h38.006l2.293-.591zm2.338.781l-2.467.637c-.112.028-.13.068-.054.1s.241.054.424.054h42.114c.179 0 .344-.021.425-.054s.058-.072-.054-.1l-2.472-.637zm-.032 1.73v31.95a.42.42 0 0 0 .42.42h37.225a.42.42 0 0 0 .42-.42v-31.95h-4.112v28.335H10.038V14.082z"/>
          </svg>
        `;
        }

        return states[entity.entity_id].attributes.current_position === 0 ? `
          <svg viewBox="0 0 50 50" fill="#9da0a2">
            <path d="M4.033 3.547c-.259 0-.474.188-.474.42v3.557h42.914V3.968c0-.232-.21-.42-.474-.42zM3.86 8.37l2.31 3.62-2.417 3.127 2.342 3.455-2.315 2.641 2.342 3.455-2.315 2.641h-.058l2.342 3.455-2.315 2.641h-.058l2.342 3.455-2.315 2.641H3.7l2.338 3.455-2.467 2.816c-.112.125-.13.3-.054.442s.241.237.424.237h42.114c.179 0 .344-.094.425-.237a.38.38 0 0 0-.054-.442l-2.472-2.816 2.337-3.455-2.315-2.642 2.346-3.455-2.315-2.642 2.346-3.455-2.315-2.642 2.346-3.455h-.058l-2.315-2.642 2.346-3.455h0 0 0L43.89 11.99l2.361-3.62z"/>
          </svg>
        ` : `
          <svg viewBox="0 0 50 50" fill="#9da0a2">
            <path d="M3.723 14.738l2.413-2.749h37.721l2.413 2.749zm-.027.845l2.297 2.615h38.011l2.297-2.615zm.004 6.936l2.293 2.615h38.007l2.293-2.615zM46.44 7.525V3.968c0-.232-.21-.42-.474-.42H4c-.259 0-.474.188-.474.42v3.557zm-2.485 18.449H6.038L3.571 28.79c-.112.125-.13.3-.054.442s.241.237.424.237h42.114c.179 0 .344-.094.425-.237a.38.38 0 0 0-.054-.442zM6.038 19.038l-2.315 2.641h42.548l-2.315-2.641zm-.063-7.888h38.052l2.19-2.78H3.826zm33.984 20.693v10.575H10.038V31.843H6.006v14.19a.42.42 0 0 0 .42.42h37.225a.42.42 0 0 0 .42-.42v-14.19z"/>
          </svg>
        `;
      ]]]
