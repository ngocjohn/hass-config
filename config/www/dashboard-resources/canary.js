var name="canary",__assign$1=window&&window.__assign||function(){return __assign$1=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$1.apply(this,arguments)},SANCTIONED_UNITS=["angle-degree","area-acre","area-hectare","concentr-percent","digital-bit","digital-byte","digital-gigabit","digital-gigabyte","digital-kilobit","digital-kilobyte","digital-megabit","digital-megabyte","digital-petabyte","digital-terabit","digital-terabyte","duration-day","duration-hour","duration-millisecond","duration-minute","duration-month","duration-second","duration-week","duration-year","length-centimeter","length-foot","length-inch","length-kilometer","length-meter","length-mile-scandinavian","length-mile","length-millimeter","length-yard","mass-gram","mass-kilogram","mass-ounce","mass-pound","mass-stone","temperature-celsius","temperature-fahrenheit","volume-fluid-ounce","volume-gallon","volume-liter","volume-milliliter"];SANCTIONED_UNITS.map((function(t){return t.replace(/^(.*?)-/,"")}));var __extends=window&&window.__extends||(extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},extendStatics(t,e)},function(t,e){function i(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),extendStatics,__assign=window&&window.__assign||function(){return __assign=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign.apply(this,arguments)},t$3,r$2;function O(){return(O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="MISSING_LOCALE_DATA",e}__extends(e,t)}(Error),function(t){t.language="language",t.system="system",t.comma_decimal="comma_decimal",t.decimal_comma="decimal_comma",t.space_comma="space_comma",t.none="none"}(t$3||(t$3={})),function(t){t.language="language",t.system="system",t.am_pm="12",t.twenty_four="24"}(r$2||(r$2={}));var q=function(t,e,i,s){void 0===s&&(s=!1),t._themes||(t._themes={});var n=e.default_theme;("default"===i||i&&e.themes[i])&&(n=i);var o=O({},t._themes);if("default"!==n){var r=e.themes[n];Object.keys(r).forEach((function(e){var i="--"+e;t._themes[i]="",o[i]=r[e]}))}if(t.updateStyles?t.updateStyles(o):window.ShadyCSS&&window.ShadyCSS.styleSubtree(t,o),s){var a=document.querySelector("meta[name=theme-color]");if(a){a.hasAttribute("default-content")||a.setAttribute("default-content",a.getAttribute("content"));var l=o["--primary-color"]||a.getAttribute("default-content");a.setAttribute("content",l)}}},A$1=function(t){return"function"==typeof t.getCardSize?t.getCardSize():4},ne=function(t,e,i,s){s=s||{},i=null==i?{}:i;var n=new Event(e,{bubbles:void 0===s.bubbles||s.bubbles,cancelable:Boolean(s.cancelable),composed:void 0===s.composed||s.composed});return n.detail=i,t.dispatchEvent(n),n},ie=new Set(["call-service","divider","section","weblink","cast","select"]),ae={alert:"toggle",automation:"toggle",climate:"climate",cover:"cover",fan:"toggle",group:"group",input_boolean:"toggle",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",remote:"toggle",scene:"scene",script:"script",sensor:"sensor",timer:"timer",switch:"toggle",vacuum:"toggle",water_heater:"climate",input_datetime:"input-datetime"},oe=function(t,e){void 0===e&&(e=!1);var i=function(t,e){return s("hui-error-card",{type:"error",error:t,config:e})},s=function(t,e){var s=window.document.createElement(t);try{if(!s.setConfig)return;s.setConfig(e)}catch(s){return console.error(t,s),i(s.message,e)}return s};if(!t||"object"!=typeof t||!e&&!t.type)return i("No type defined",t);var n=t.type;if(n&&n.startsWith("custom:"))n=n.substr("custom:".length);else if(e)if(ie.has(n))n="hui-"+n+"-row";else{if(!t.entity)return i("Invalid config given.",t);var o=t.entity.split(".",1)[0];n="hui-"+(ae[o]||"text")+"-entity-row"}else n="hui-"+n+"-card";if(customElements.get(n))return s(n,t);var r=i("Custom element doesn't exist: "+t.type+".",t);r.style.display="None";var a=setTimeout((function(){r.style.display=""}),2e3);return customElements.whenDefined(t.type).then((function(){clearTimeout(a),ne(r,"ll-rebuild",{},r)})),r},ke=function(){var t=document.querySelector("home-assistant");if(t=(t=(t=(t=(t=(t=(t=(t=t&&t.shadowRoot)&&t.querySelector("home-assistant-main"))&&t.shadowRoot)&&t.querySelector("app-drawer-layout partial-panel-resolver"))&&t.shadowRoot||t)&&t.querySelector("ha-panel-lovelace"))&&t.shadowRoot)&&t.querySelector("hui-root")){var e=t.lovelace;return e.current_view=t.___curView,e}return null};function hass(){return document.querySelector("hc-main")?document.querySelector("hc-main").hass:document.querySelector("home-assistant")?document.querySelector("home-assistant").hass:void 0}function provideHass(t){return document.querySelector("hc-main")?document.querySelector("hc-main").provideHass(t):document.querySelector("home-assistant")?document.querySelector("home-assistant").provideHass(t):void 0}const ID_STORAGE_KEY="lovelace-player-device-id";function _deviceID(){if(!localStorage[ID_STORAGE_KEY]){const t=()=>Math.floor(1e5*(1+Math.random())).toString(16).substring(1);window.fully&&"function"==typeof fully.getDeviceId?localStorage[ID_STORAGE_KEY]=fully.getDeviceId():localStorage[ID_STORAGE_KEY]=`${t()}${t()}-${t()}${t()}`}return localStorage[ID_STORAGE_KEY]}let deviceID=_deviceID();const setDeviceID=t=>{null!==t&&("clear"===t?localStorage.removeItem(ID_STORAGE_KEY):localStorage[ID_STORAGE_KEY]=t,deviceID=_deviceID())},params=new URLSearchParams(window.location.search);function hasTemplate(t){return!!String(t).includes("{%")||(!!String(t).includes("{{")||void 0)}function subscribeRenderTemplate(t,e,i,s=!0){t||(t=hass().connection);let n={user:hass().user.name,browser:deviceID,hash:location.hash.substr(1)||" ",...i.variables},o=i.template,r=i.entity_ids;return t.subscribeMessage((t=>{if(s){let i=String(t.result);const s=/_\([^)]*\)/g;i=i.replace(s,(t=>hass().localize(t.substring(2,t.length-1))||t)),e(i)}else e(t.result)}),{type:"render_template",template:o,variables:n,entity_ids:r})}function hasOldTemplate(t){return/\[\[\s+.*\s+\]\]/.test(t)}function parseTemplateString(str,specialData={}){if("string"!=typeof str)return text;const FUNCTION=/^[a-zA-Z0-9_]+\(.*\)$/,EXPR=/([^=<>!]+)\s*(==|!=|<|>|<=|>=)\s*([^=<>!]+)/,SPECIAL=/^\{.+\}$/,STRING=/^"[^"]*"|'[^']*'$/;"string"==typeof specialData&&(specialData={}),specialData=Object.assign({user:hass().user.name,browser:deviceID,hash:location.hash.substr(1)||" "},specialData);const _parse_function=t=>{let e=[t.substr(0,t.indexOf("(")).trim()];for(t=t.substr(t.indexOf("(")+1);t;){let i=0,s=0,n=!1;for(;t[i];){let e=t[i++];if(e===n&&i>1&&"\\"!==t[i-2]?n=!1:"\"'".includes(e)&&(n=e),!n){if("("===e)s+=1;else if(")"===e){s-=1;continue}if(!(s>0)&&",)".includes(e))break}}e.push(t.substr(0,i-1).trim()),t=t.substr(i)}return e},_parse_special=t=>(t=t.substr(1,t.length-2),specialData[t]||`{${t}}`),_parse_entity=t=>{let e;if((t=t.split("."))[0].match(SPECIAL))e=_parse_special(t.shift()),e=hass().states[e]||e;else if(e=hass().states[`${t.shift()}.${t.shift()}`],!t.length)return e.state;return t.forEach((t=>e=e[t])),e},_eval_expr=str=>{if(str=EXPR.exec(str),null===str)return!1;const lhs=parseTemplateString(str[1]),rhs=parseTemplateString(str[3]);var expr="";return expr=parseFloat(lhs)!=lhs?`"${lhs}" ${str[2]} "${rhs}"`:`${parseFloat(lhs)} ${str[2]} ${parseFloat(rhs)}`,eval(expr)},_eval_function=t=>{if("if"===t[0])return _eval_expr(t[1])?parseTemplateString(t[2]):parseTemplateString(t[3])};try{return str=str.trim(),str.match(STRING)?str.substr(1,str.length-2):str.match(SPECIAL)?_parse_special(str):str.match(FUNCTION)?_eval_function(_parse_function(str)):str.includes(".")?_parse_entity(str):str}catch(t){return`[[ Template matching failed: ${str} ]]`}}function parseOldTemplate(t,e={}){if("string"!=typeof t)return t;return t=t.replace(/\[\[\s(.*?)\s\]\]/g,((t,i,s,n)=>parseTemplateString(i,e)))}function oldExtractEntities(t,e={}){var i;const s=[],n=t.matchAll(/\[\[\s(.*?)\s]]/g);for(const t of n){const n=/([^=<>!]+)\s*(?:==|!=|<|>|<=|>=)\s*([^=<>!]+)/,o=/^\{.+}$/,r=/^\w+\((.*?),/;if(/^\w+\(.*\)$/.test(t[1].trim())){const a=null===(i=t[1].trim().match(r))||void 0===i?void 0:i[1],l=(null==a?void 0:a.match(n))||[];for(let t=1;t<l.length;t++){const i=l[t].trim().split(".");i.length>1&&(o.test(i[0])?e.entity&&i[0].includes("{entity}")&&s.push(e.entity):s.push(`${i[0]}.${i[1]}`))}}else{const i=t[1].trim().split(".");i.length>1&&(o.test(i[0])?e.entity&&"{entity}"===i[0]&&s.push(e.entity):s.push(`${i[0]}.${i[1]}`))}}return Array.from(new Set(s))}params.get("deviceID")&&setDeviceID(params.get("deviceID"));class SecondaryInfo extends HTMLElement{constructor(){super(...arguments),this._disconnected=!0,this._isJinjaTemplate=!1,this._isOldTemplate=!1}disconnectedCallback(){this._disconnect()}connectedCallback(){this._disconnected=!1,this._isJinjaTemplate?this._connect():this._updateNonJinjaTemplates(this._hass)}_hasJinjaTemplate(t){return"object"!=typeof t.template&&(!!t.template.includes("{%")||t.template.includes("{{"))}set template(t){var e,i,s;if(this._data=JSON.parse(JSON.stringify(t)),Array.isArray(this._data.entity_ids)||(this._data.entity_ids=void 0),this._isJinjaTemplate=this._hasJinjaTemplate(this._data),this._isOldTemplate=!this._isJinjaTemplate&&"object"!=typeof this._data.template,!this._isJinjaTemplate)if("string"==typeof this._data.template)this._data.entity_ids||(this._data.entity_ids=oldExtractEntities(this._data.template,null===(e=this._data.variables)||void 0===e?void 0:e.config));else{const t=this._data.template.entity||(null===(s=null===(i=this._data.variables)||void 0===i?void 0:i.config)||void 0===s?void 0:s.entity);t&&(this._data.entity_ids=[t])}}update(){this._disconnect().then((()=>this._connect()))}_getElement(){var t;if(!this._element){const e=null===(t=this.parentNode)||void 0===t?void 0:t.querySelector(".secondary");e&&(this._element=e,this._element.innerHTML="Loading...")}return this._element}set hass(t){this._isJinjaTemplate||this._disconnected||!this._data.template||this._shouldUpdate(t,this._data.entity_ids)&&this._updateNonJinjaTemplates(t),this._hass=t}_updateNonJinjaTemplates(t){var e,i;if(t&&this._getElement())if(this._isOldTemplate)this._element.innerHTML=parseOldTemplate(this._data.template,null===(e=this._data.variables)||void 0===e?void 0:e.config);else if("string"!=typeof this._data.template){const e=this._data.template,s=null===(i=this._data.entity_ids)||void 0===i?void 0:i[0];if(!s)return;let n=t.states[s];n=e.attribute?n.attributes[e.attribute]:n.state,n&&(this._element.innerHTML=`${e.prefix||""}${n}${e.postfix||""}`)}}_shouldUpdate(t,e){return!this._hass||!e||e.some((e=>t.states[e]!==this._hass.states[e]))}async _connect(){var t;this._data&&this._isJinjaTemplate&&(this._unsubRenderTemplate||this._getElement()&&(this._unsubRenderTemplate=subscribeRenderTemplate(null,(t=>{this._element.innerHTML=t}),this._data),await(null===(t=this._unsubRenderTemplate)||void 0===t?void 0:t.catch((()=>{"string"==typeof this._data.template?this._element.innerHTML=this._data.template:this._element.innerHTML=JSON.stringify(this._data.template),this._unsubRenderTemplate=void 0})))))}async _disconnect(){if(this._disconnected=!0,this._unsubRenderTemplate)try{const t=await this._unsubRenderTemplate;this._unsubRenderTemplate=void 0,await t()}catch(t){if("not_found"!==t.code)throw t}}}customElements.define("secondary-info",SecondaryInfo);const DEFAULT_SECONDARY_INFO=["entity-id","last-changed","last-triggered","position","tilt-position","brightness"],VERTICAL_STACK_IN_CARD_STYLE="\n    #root > *:not(:first-child) {\n      margin-top: -24px;\n    }\n",NO_CARD_STYLE={boxShadow:"none",background:"none",border:"none"},findConfig=function(t){return t.config?t.config:t._config?t._config:t.host?findConfig(t.host):t.parentElement?findConfig(t.parentElement):t.parentNode?findConfig(t.parentNode):null},lovelaceConfig=ke(),canaryConfig=lovelaceConfig&&lovelaceConfig.config.canary;function moduleEnabled(t){return!canaryConfig||!canaryConfig.disable||!canaryConfig.disable.includes(t)}function extensionEnabled(t,e){const i=t.disable_canary;return!i||!0!==i&&!i.includes(e)}function createModule(t,e){customElements.whenDefined(t).then((()=>{const i=customElements.get(t),s=i.prototype.firstUpdated;i.prototype.firstUpdated=function(t){s.call(this,t),e.call(this,t)}}))}function mapStyle(t,e=""){return Object.keys(t).reduce(((i,s)=>[...i,`${e}${s}: ${t[s]};`]),[]).join(" ")}const MODULE$4="generic-entity-row",ELEMENT$4="hui-generic-entity-row";moduleEnabled(MODULE$4)&&createModule(ELEMENT$4,(function(){var t,e,i,s,n;if((null===(t=this.config)||void 0===t?void 0:t.secondary_info)&&extensionEnabled(this.config,"secondary_info")&&!DEFAULT_SECONDARY_INFO.includes(this.config.secondary_info))if("object"==typeof this.config.secondary_info||hasOldTemplate(this.config.secondary_info)||hasTemplate(this.config.secondary_info)){const t=document.createElement("secondary-info");t.template={template:this.config.secondary_info,variables:{config:this.config,entity:this.config.entity},entity_ids:this.config.entity_ids},null===(e=this.shadowRoot)||void 0===e||e.appendChild(t),provideHass(t)}else{const t=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".secondary");t&&(t.innerHTML=this.config.secondary_info)}if((null===(s=this.config)||void 0===s?void 0:s.canary_theme)&&extensionEnabled(this.config,"canary_theme")&&q(this,hass().themes,this.config.canary_theme),(null===(n=this.config)||void 0===n?void 0:n.canary_style)&&extensionEnabled(this.config,"canary_style"))if("string"==typeof this.config.canary_style){const t=document.createElement("style");t.innerHTML=this.config.canary_style,this.appendChild(t)}else this.style.cssText+=mapStyle(this.config.canary_style)}));const MODULE$3="generic-card",ELEMENT$3="ha-card";moduleEnabled(MODULE$3)&&createModule(ELEMENT$3,(function(){const t=findConfig(this);t&&(this.style.transition="none",t.canary_theme&&extensionEnabled(t,"canary_theme")&&q(this,this.hass?this.hass.themes:hass().themes,t.canary_theme),t.canary_style&&extensionEnabled(t,"canary_style")&&(this.style.cssText+=mapStyle(t.canary_style)),!0===t.no_card&&extensionEnabled(t,"no_card")&&Object.assign(this.style,NO_CARD_STYLE),this.offsetHeight,this.style.transition="")}));const MODULE$2="vertical-stack",ELEMENT$2="hui-vertical-stack-card";if(moduleEnabled(MODULE$2)){const t=async function(e){e&&(await e.updateComplete,"HA-CARD"===e.tagName&&(e.style.transition="none",Object.assign(e.style,NO_CARD_STYLE),e.offsetHeight,e.style.transition=""),e.firstElementChild&&await t(e.firstElementChild),e.shadowRoot&&await t(e.shadowRoot.firstElementChild),e.nextElementSibling&&await t(e.nextElementSibling))};customElements.whenDefined("ha-card").then((()=>{const e=VERTICAL_STACK_IN_CARD_STYLE+customElements.get("ha-card").styles.cssText;createModule(ELEMENT$2,(function(){var i,s,n;if(!0===(null===(i=this._config)||void 0===i?void 0:i.in_card)&&extensionEnabled(this._config,"in_card")){const i=document.createElement("style");i.innerHTML=e,null===(s=this.shadowRoot)||void 0===s||s.appendChild(i);const o=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("#root");t(o)}}))}))}const MODULE$1="glance-card",ELEMENT$1="hui-glance-card";if(moduleEnabled(MODULE$1)){const t=function(t){switch(t){case"center":return"space-evenly";case"right":return"flex-end";default:return"flex-start"}};createModule(ELEMENT$1,(function(){var e,i;if((null===(e=this._config)||void 0===e?void 0:e.align)&&extensionEnabled(this._config,"align")){const e=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".entities");e&&(e.style.justifyContent=t(this._config.align))}}))}const MODULE="warning",ELEMENT="hui-warning";function __decorate(t,e,i,s){var n,o=arguments.length,r=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(o<3?n(r):o>3?n(e,i,r):n(e,i))||r);return o>3&&r&&Object.defineProperty(e,i,r),r}function __metadata(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}moduleEnabled(MODULE)&&createModule(ELEMENT,(function(){const t=findConfig(this);!0===t.hide_warning&&extensionEnabled(t,"hide_warning")&&(this.style.display="none")}));const i$2=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function e$3(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):i$2(t,e)}function t$2(t){return e$3({...t,state:!0})}var n$4;null===(n$4=window.HTMLSlotElement)||void 0===n$4||n$4.prototype.assignedElements;const t$1=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$2=Symbol(),n$3=new Map;class s$3{constructor(t,e){if(this._$cssResult$=!0,e!==e$2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=n$3.get(this.cssText);return t$1&&void 0===t&&(n$3.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const o$3=t=>new s$3("string"==typeof t?t:t+"",e$2),i$1=(t,e)=>{t$1?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const i=document.createElement("style"),s=window.litNonce;void 0!==s&&i.setAttribute("nonce",s),i.textContent=e.cssText,t.appendChild(i)}))},S$1=t$1?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return o$3(e)})(t):t;var s$2;const e$1=window.trustedTypes,r$1=e$1?e$1.emptyScript:"",h$1=window.reactiveElementPolyfillSupport,o$2={toAttribute(t,e){switch(e){case Boolean:t=t?r$1:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},n$2=(t,e)=>e!==t&&(e==e||t==t),l$2={attribute:!0,type:String,converter:o$2,reflect:!1,hasChanged:n$2};class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,i)=>{const s=this._$Eh(i,e);void 0!==s&&(this._$Eu.set(s,i),t.push(s))})),t}static createProperty(t,e=l$2){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,s=this.getPropertyDescriptor(t,i,e);void 0!==s&&Object.defineProperty(this.prototype,t,s)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(s){const n=this[t];this[e]=s,this.requestUpdate(t,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l$2}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(S$1(t))}else void 0!==t&&e.push(S$1(t));return e}static _$Eh(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$Eg)&&void 0!==e?e:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$Eg)||void 0===e||e.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return i$1(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$ES(t,e,i=l$2){var s,n;const o=this.constructor._$Eh(t,i);if(void 0!==o&&!0===i.reflect){const r=(null!==(n=null===(s=i.converter)||void 0===s?void 0:s.toAttribute)&&void 0!==n?n:o$2.toAttribute)(e,i.type);this._$Ei=t,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$Ei=null}}_$AK(t,e){var i,s,n;const o=this.constructor,r=o._$Eu.get(t);if(void 0!==r&&this._$Ei!==r){const t=o.getPropertyOptions(r),a=t.converter,l=null!==(n=null!==(s=null===(i=a)||void 0===i?void 0:i.fromAttribute)&&void 0!==s?s:"function"==typeof a?a:null)&&void 0!==n?n:o$2.fromAttribute;this._$Ei=r,this[r]=l(e,t.type),this._$Ei=null}}requestUpdate(t,e,i){let s=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||n$2)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$Ei!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):s=!1),!this.isUpdatePending&&s&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Eg)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$ES(e,this[e],t))),this._$EC=void 0),this._$EU()}updated(t){}firstUpdated(t){}}var t;a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},null==h$1||h$1({ReactiveElement:a$1}),(null!==(s$2=globalThis.reactiveElementVersions)&&void 0!==s$2?s$2:globalThis.reactiveElementVersions=[]).push("1.3.2");const i=globalThis.trustedTypes,s$1=i?i.createPolicy("lit-html",{createHTML:t=>t}):void 0,e=`lit$${(Math.random()+"").slice(9)}$`,o$1="?"+e,n$1=`<${o$1}>`,l$1=document,h=(t="")=>l$1.createComment(t),r=t=>null===t||"object"!=typeof t&&"function"!=typeof t,d=Array.isArray,u=t=>{var e;return d(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea|title)$/i,b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=(t,e,i)=>{var s,n;const o=null!==(s=null==i?void 0:i.renderBefore)&&void 0!==s?s:e;let r=o._$litPart$;if(void 0===r){const t=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:null;o._$litPart$=r=new N(e.insertBefore(h(),t),t,void 0,null!=i?i:{})}return r._$AI(t),r},A=l$1.createTreeWalker(l$1,129,null,!1),C=(t,i)=>{const s=t.length-1,n=[];let o,r=2===i?"<svg>":"",l=c;for(let i=0;i<s;i++){const s=t[i];let h,d,u=-1,p=0;for(;p<s.length&&(l.lastIndex=p,d=l.exec(s),null!==d);)p=l.lastIndex,l===c?"!--"===d[1]?l=v:void 0!==d[1]?l=a:void 0!==d[2]?(g.test(d[2])&&(o=RegExp("</"+d[2],"g")),l=f):void 0!==d[3]&&(l=f):l===f?">"===d[0]?(l=null!=o?o:c,u=-1):void 0===d[1]?u=-2:(u=l.lastIndex-d[2].length,h=d[1],l=void 0===d[3]?f:'"'===d[3]?m:_):l===m||l===_?l=f:l===v||l===a?l=c:(l=f,o=void 0);const y=l===f&&t[i+1].startsWith("/>")?" ":"";r+=l===c?s+n$1:u>=0?(n.push(h),s.slice(0,u)+"$lit$"+s.slice(u)+e+y):s+e+(-2===u?(n.push(void 0),i):y)}const h=r+(t[s]||"<?>")+(2===i?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==s$1?s$1.createHTML(h):h,n]};class E{constructor({strings:t,_$litType$:s},n){let o;this.parts=[];let r=0,a=0;const l=t.length-1,c=this.parts,[d,u]=C(t,s);if(this.el=E.createElement(d,n),A.currentNode=this.el.content,2===s){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(o=A.nextNode())&&c.length<l;){if(1===o.nodeType){if(o.hasAttributes()){const t=[];for(const i of o.getAttributeNames())if(i.endsWith("$lit$")||i.startsWith(e)){const s=u[a++];if(t.push(i),void 0!==s){const t=o.getAttribute(s.toLowerCase()+"$lit$").split(e),i=/([.?@])?(.*)/.exec(s);c.push({type:1,index:r,name:i[2],strings:t,ctor:"."===i[1]?M:"?"===i[1]?H:"@"===i[1]?I:S})}else c.push({type:6,index:r})}for(const e of t)o.removeAttribute(e)}if(g.test(o.tagName)){const t=o.textContent.split(e),s=t.length-1;if(s>0){o.textContent=i?i.emptyScript:"";for(let e=0;e<s;e++)o.append(t[e],h()),A.nextNode(),c.push({type:2,index:++r});o.append(t[s],h())}}}else if(8===o.nodeType)if(o.data===o$1)c.push({type:2,index:r});else{let t=-1;for(;-1!==(t=o.data.indexOf(e,t+1));)c.push({type:7,index:r}),t+=e.length-1}r++}}static createElement(t,e){const i=l$1.createElement("template");return i.innerHTML=t,i}}function P(t,e,i=t,s){var n,o,a,l;if(e===b)return e;let c=void 0!==s?null===(n=i._$Cl)||void 0===n?void 0:n[s]:i._$Cu;const h=r(e)?void 0:e._$litDirective$;return(null==c?void 0:c.constructor)!==h&&(null===(o=null==c?void 0:c._$AO)||void 0===o||o.call(c,!1),void 0===h?c=void 0:(c=new h(t),c._$AT(t,i,s)),void 0!==s?(null!==(a=(l=i)._$Cl)&&void 0!==a?a:l._$Cl=[])[s]=c:i._$Cu=c),void 0!==c&&(e=P(t,c._$AS(t,e.values),c,s)),e}class V{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:i},parts:s}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:l$1).importNode(i,!0);A.currentNode=n;let o=A.nextNode(),r=0,a=0,l=s[0];for(;void 0!==l;){if(r===l.index){let e;2===l.type?e=new N(o,o.nextSibling,this,t):1===l.type?e=new l.ctor(o,l.name,l.strings,this,t):6===l.type&&(e=new L(o,this,t)),this.v.push(e),l=s[++a]}r!==(null==l?void 0:l.index)&&(o=A.nextNode(),r++)}return n}m(t){let e=0;for(const i of this.v)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class N{constructor(t,e,i,s){var n;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=s,this._$Cg=null===(n=null==s?void 0:s.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=P(this,t,e),r(t)?t===w||null==t||""===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):u(t)?this.S(t):this.$(t)}M(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=t:this.k(l$1.createTextNode(t)),this._$AH=t}T(t){var e;const{values:i,_$litType$:s}=t,n="number"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=E.createElement(s.h,this.options)),s);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.m(i);else{const t=new V(n,this),e=t.p(this.options);t.m(i),this.k(e),this._$AH=t}}_$AC(t){let e=T.get(t.strings);return void 0===e&&T.set(t.strings,e=new E(t)),e}S(t){d(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,s=0;for(const n of t)s===e.length?e.push(i=new N(this.M(h()),this.M(h()),this,this.options)):i=e[s],i._$AI(n),s++;s<e.length&&(this._$AR(i&&i._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class S{constructor(t,e,i,s,n){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,s){const n=this.strings;let o=!1;if(void 0===n)t=P(this,t,e,0),o=!r(t)||t!==this._$AH&&t!==b,o&&(this._$AH=t);else{const s=t;let a,l;for(t=n[0],a=0;a<n.length-1;a++)l=P(this,s[i+a],e,a),l===b&&(l=this._$AH[a]),o||(o=!r(l)||l!==this._$AH[a]),l===w?t=w:t!==w&&(t+=(null!=l?l:"")+n[a+1]),this._$AH[a]=l}o&&!s&&this.C(t)}C(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class M extends S{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===w?void 0:t}}const k=i?i.emptyScript:"";class H extends S{constructor(){super(...arguments),this.type=4}C(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(t,e,i,s,n){super(t,e,i,s,n),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=P(this,t,e,0))&&void 0!==i?i:w)===b)return;const s=this._$AH,n=t===w&&s!==w||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,o=t!==w&&(s===w||n);n&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}const z=window.litHtmlPolyfillSupport;var l,o;null==z||z(E,N),(null!==(t=globalThis.litHtmlVersions)&&void 0!==t?t:globalThis.litHtmlVersions=[]).push("2.2.3");class s extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=x(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,null===(l=globalThis.litElementHydrateSupport)||void 0===l||l.call(globalThis,{LitElement:s});const n=globalThis.litElementPolyfillSupport;null==n||n({LitElement:s}),(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push("3.2.0");class CanaryCard extends s{render(){return this.card}setConfig(t){this.config=JSON.parse(JSON.stringify(t)),this.card=oe(this.config.card),this._hass||(this._hass=hass())}firstUpdated(){if("object"==typeof this.config.style)Object.assign(this.card.style,this.config.style);else if(this.config.style){const t=document.createElement("style");t.innerHTML=this.config.style,this.card.updateComplete.then((()=>{(this.card.shadowRoot||this.card).appendChild(t)}))}}set hass(t){this._hass=t,this.card.hass=t}shouldUpdate(t){if(t.has("_config"))return!0;const e=t.get("_hass");return!e||e.themes!==this._hass.themes}updated(t){if(super.updated(t),!this.config||!this._hass)return;const e=t.get("_hass"),i=t.get("_config");e&&i&&e.themes===this._hass.themes&&i.theme===this.config.theme||q(this,this._hass.themes,this.config.theme)}getCardSize(){return A$1(this.card)}}function getResources(){var t,e,i;const s=document.querySelectorAll("script"),n=[];for(const o of s)if(null===(e=null===(t=null==o?void 0:o.innerText)||void 0===t?void 0:t.trim())||void 0===e?void 0:e.startsWith("import(")){const t=null===(i=o.innerText.split("\n"))||void 0===i?void 0:i.map((t=>t.trim()));for(const e of t)n.push(e.replace(/^import\("/,"").replace(/"\);/,""))}return n}__decorate([e$3({attribute:!1}),__metadata("design:type",Object)],CanaryCard.prototype,"_hass",void 0),__decorate([e$3(),__metadata("design:type",Object)],CanaryCard.prototype,"card",void 0),__decorate([t$2(),__metadata("design:type",Object)],CanaryCard.prototype,"config",void 0),(async()=>{for(;void 0===customElements.get("home-assistant");)await new Promise((t=>window.setTimeout(t,100)));customElements.get("canary-card")||(customElements.define("canary-card",CanaryCard),console.groupCollapsed("%c CANARY %c 0.4.0-dirty ","color: #212121; background: #fdd835; font-weight: 700;","color: #fdd835; background: #212121; font-weight: 700;"),console.info("branch   : HEAD"),console.info("commit   : 6e1d0818767b995501626c45cb6b79966e22b4c1"),console.info("built at : 2022-12-14T09:32:51.228Z"),console.info("https://github.com/jcwillox/lovelace-canary"),console.groupEnd())})();const resources=getResources();resources.some((t=>t.endsWith(name+".js")))?console.info(`${name} is loaded as a module`):(ne(window,"ll-rebuild",{}),console.info(`You may not be getting optimal performance out of ${name}.\nSee https://github.com/thomasloven/lovelace-card-mod#performance-improvements`));
